const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Index-D3eqyi1Y.js","assets/firebase-Qt0bJ9_b.js","assets/Index-DP9KH9vH.css","assets/Auth-DZrDTokz.js","assets/Auth-MXIw4XSd.css","assets/Calendar-D0pyOFbc.js","assets/Calendar-PH4BwQB2.css","assets/Itinerary-OMij8tms.js","assets/Itinerary-nawHAmRS.css","assets/Profile-3FlqFysq.js","assets/Profile-CwgPjID_.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var cu={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var gI=cu.exports,fg;function _I(){return fg||(fg=1,(function(t,e){(function(n,s){t.exports=s()})(gI,function(){const n=new Map,s={set(_,l,p){n.has(_)||n.set(_,new Map);const v=n.get(_);v.has(l)||v.size===0?v.set(l,p):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(v.keys())[0]}.`)},get:(_,l)=>n.has(_)&&n.get(_).get(l)||null,remove(_,l){if(!n.has(_))return;const p=n.get(_);p.delete(l),p.size===0&&n.delete(_)}},r="transitionend",i=_=>(_&&window.CSS&&window.CSS.escape&&(_=_.replace(/#([^\s"#']+)/g,(l,p)=>`#${CSS.escape(p)}`)),_),o=_=>_==null?`${_}`:Object.prototype.toString.call(_).match(/\s([a-z]+)/i)[1].toLowerCase(),c=_=>{_.dispatchEvent(new Event(r))},u=_=>!(!_||typeof _!="object")&&(_.jquery!==void 0&&(_=_[0]),_.nodeType!==void 0),h=_=>u(_)?_.jquery?_[0]:_:typeof _=="string"&&_.length>0?document.querySelector(i(_)):null,d=_=>{if(!u(_)||_.getClientRects().length===0)return!1;const l=getComputedStyle(_).getPropertyValue("visibility")==="visible",p=_.closest("details:not([open])");if(!p)return l;if(p!==_){const v=_.closest("summary");if(v&&v.parentNode!==p||v===null)return!1}return l},m=_=>!_||_.nodeType!==Node.ELEMENT_NODE||!!_.classList.contains("disabled")||(_.disabled!==void 0?_.disabled:_.hasAttribute("disabled")&&_.getAttribute("disabled")!=="false"),y=_=>{if(!document.documentElement.attachShadow)return null;if(typeof _.getRootNode=="function"){const l=_.getRootNode();return l instanceof ShadowRoot?l:null}return _ instanceof ShadowRoot?_:_.parentNode?y(_.parentNode):null},E=()=>{},O=_=>{_.offsetHeight},D=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,U=[],H=()=>document.documentElement.dir==="rtl",M=_=>{var l;l=()=>{const p=D();if(p){const v=_.NAME,V=p.fn[v];p.fn[v]=_.jQueryInterface,p.fn[v].Constructor=_,p.fn[v].noConflict=()=>(p.fn[v]=V,_.jQueryInterface)}},document.readyState==="loading"?(U.length||document.addEventListener("DOMContentLoaded",()=>{for(const p of U)p()}),U.push(l)):l()},R=(_,l=[],p=_)=>typeof _=="function"?_.call(...l):p,x=(_,l,p=!0)=>{if(!p)return void R(_);const v=(q=>{if(!q)return 0;let{transitionDuration:Z,transitionDelay:oe}=window.getComputedStyle(q);const ge=Number.parseFloat(Z),_e=Number.parseFloat(oe);return ge||_e?(Z=Z.split(",")[0],oe=oe.split(",")[0],1e3*(Number.parseFloat(Z)+Number.parseFloat(oe))):0})(l)+5;let V=!1;const L=({target:q})=>{q===l&&(V=!0,l.removeEventListener(r,L),R(_))};l.addEventListener(r,L),setTimeout(()=>{V||c(l)},v)},j=(_,l,p,v)=>{const V=_.length;let L=_.indexOf(l);return L===-1?!p&&v?_[V-1]:_[0]:(L+=p?1:-1,v&&(L=(L+V)%V),_[Math.max(0,Math.min(L,V-1))])},z=/[^.]*(?=\..*)\.|.*/,S=/\..*/,b=/::\d+$/,T={};let I=1;const P={mouseenter:"mouseover",mouseleave:"mouseout"},k=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function A(_,l){return l&&`${l}::${I++}`||_.uidEvent||I++}function be(_){const l=A(_);return _.uidEvent=l,T[l]=T[l]||{},T[l]}function Le(_,l,p=null){return Object.values(_).find(v=>v.callable===l&&v.delegationSelector===p)}function pe(_,l,p){const v=typeof l=="string",V=v?p:l||p;let L=Ln(_);return k.has(L)||(L=_),[v,V,L]}function Re(_,l,p,v,V){if(typeof l!="string"||!_)return;let[L,q,Z]=pe(l,p,v);l in P&&(q=(Ne=>function(Pe){if(!Pe.relatedTarget||Pe.relatedTarget!==Pe.delegateTarget&&!Pe.delegateTarget.contains(Pe.relatedTarget))return Ne.call(this,Pe)})(q));const oe=be(_),ge=oe[Z]||(oe[Z]={}),_e=Le(ge,q,L?p:null);if(_e)return void(_e.oneOff=_e.oneOff&&V);const he=A(q,l.replace(z,"")),Me=L?(function(Ie,Ne,Pe){return function Oe(ut){const mt=Ie.querySelectorAll(Ne);for(let{target:Be}=ut;Be&&Be!==this;Be=Be.parentNode)for(const Je of mt)if(Je===Be)return Pt(ut,{delegateTarget:Be}),Oe.oneOff&&Y.off(Ie,ut.type,Ne,Pe),Pe.apply(Be,[ut])}})(_,p,q):(function(Ie,Ne){return function Pe(Oe){return Pt(Oe,{delegateTarget:Ie}),Pe.oneOff&&Y.off(Ie,Oe.type,Ne),Ne.apply(Ie,[Oe])}})(_,q);Me.delegationSelector=L?p:null,Me.callable=q,Me.oneOff=V,Me.uidEvent=he,ge[he]=Me,_.addEventListener(Z,Me,L)}function fe(_,l,p,v,V){const L=Le(l[p],v,V);L&&(_.removeEventListener(p,L,!!V),delete l[p][L.uidEvent])}function st(_,l,p,v){const V=l[p]||{};for(const[L,q]of Object.entries(V))L.includes(v)&&fe(_,l,p,q.callable,q.delegationSelector)}function Ln(_){return _=_.replace(S,""),P[_]||_}const Y={on(_,l,p,v){Re(_,l,p,v,!1)},one(_,l,p,v){Re(_,l,p,v,!0)},off(_,l,p,v){if(typeof l!="string"||!_)return;const[V,L,q]=pe(l,p,v),Z=q!==l,oe=be(_),ge=oe[q]||{},_e=l.startsWith(".");if(L===void 0){if(_e)for(const he of Object.keys(oe))st(_,oe,he,l.slice(1));for(const[he,Me]of Object.entries(ge)){const Ie=he.replace(b,"");Z&&!l.includes(Ie)||fe(_,oe,q,Me.callable,Me.delegationSelector)}}else{if(!Object.keys(ge).length)return;fe(_,oe,q,L,V?p:null)}},trigger(_,l,p){if(typeof l!="string"||!_)return null;const v=D();let V=null,L=!0,q=!0,Z=!1;l!==Ln(l)&&v&&(V=v.Event(l,p),v(_).trigger(V),L=!V.isPropagationStopped(),q=!V.isImmediatePropagationStopped(),Z=V.isDefaultPrevented());const oe=Pt(new Event(l,{bubbles:L,cancelable:!0}),p);return Z&&oe.preventDefault(),q&&_.dispatchEvent(oe),oe.defaultPrevented&&V&&V.preventDefault(),oe}};function Pt(_,l={}){for(const[p,v]of Object.entries(l))try{_[p]=v}catch{Object.defineProperty(_,p,{configurable:!0,get:()=>v})}return _}function Wn(_){if(_==="true")return!0;if(_==="false")return!1;if(_===Number(_).toString())return Number(_);if(_===""||_==="null")return null;if(typeof _!="string")return _;try{return JSON.parse(decodeURIComponent(_))}catch{return _}}function vn(_){return _.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`)}const kt={setDataAttribute(_,l,p){_.setAttribute(`data-bs-${vn(l)}`,p)},removeDataAttribute(_,l){_.removeAttribute(`data-bs-${vn(l)}`)},getDataAttributes(_){if(!_)return{};const l={},p=Object.keys(_.dataset).filter(v=>v.startsWith("bs")&&!v.startsWith("bsConfig"));for(const v of p){let V=v.replace(/^bs/,"");V=V.charAt(0).toLowerCase()+V.slice(1),l[V]=Wn(_.dataset[v])}return l},getDataAttribute:(_,l)=>Wn(_.getAttribute(`data-bs-${vn(l)}`))};class At{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(l){return l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l}_mergeConfigObj(l,p){const v=u(p)?kt.getDataAttribute(p,"config"):{};return{...this.constructor.Default,...typeof v=="object"?v:{},...u(p)?kt.getDataAttributes(p):{},...typeof l=="object"?l:{}}}_typeCheckConfig(l,p=this.constructor.DefaultType){for(const[v,V]of Object.entries(p)){const L=l[v],q=u(L)?"element":o(L);if(!new RegExp(V).test(q))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${v}" provided type "${q}" but expected type "${V}".`)}}}class G extends At{constructor(l,p){super(),(l=h(l))&&(this._element=l,this._config=this._getConfig(p),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),Y.off(this._element,this.constructor.EVENT_KEY);for(const l of Object.getOwnPropertyNames(this))this[l]=null}_queueCallback(l,p,v=!0){x(l,p,v)}_getConfig(l){return l=this._mergeConfigObj(l,this._element),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}static getInstance(l){return s.get(h(l),this.DATA_KEY)}static getOrCreateInstance(l,p={}){return this.getInstance(l)||new this(l,typeof p=="object"?p:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(l){return`${l}${this.EVENT_KEY}`}}const ue=_=>{let l=_.getAttribute("data-bs-target");if(!l||l==="#"){let p=_.getAttribute("href");if(!p||!p.includes("#")&&!p.startsWith("."))return null;p.includes("#")&&!p.startsWith("#")&&(p=`#${p.split("#")[1]}`),l=p&&p!=="#"?p.trim():null}return l?l.split(",").map(p=>i(p)).join(","):null},W={find:(_,l=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(l,_)),findOne:(_,l=document.documentElement)=>Element.prototype.querySelector.call(l,_),children:(_,l)=>[].concat(..._.children).filter(p=>p.matches(l)),parents(_,l){const p=[];let v=_.parentNode.closest(l);for(;v;)p.push(v),v=v.parentNode.closest(l);return p},prev(_,l){let p=_.previousElementSibling;for(;p;){if(p.matches(l))return[p];p=p.previousElementSibling}return[]},next(_,l){let p=_.nextElementSibling;for(;p;){if(p.matches(l))return[p];p=p.nextElementSibling}return[]},focusableChildren(_){const l=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(p=>`${p}:not([tabindex^="-"])`).join(",");return this.find(l,_).filter(p=>!m(p)&&d(p))},getSelectorFromElement(_){const l=ue(_);return l&&W.findOne(l)?l:null},getElementFromSelector(_){const l=ue(_);return l?W.findOne(l):null},getMultipleElementsFromSelector(_){const l=ue(_);return l?W.find(l):[]}},ve=(_,l="hide")=>{const p=`click.dismiss${_.EVENT_KEY}`,v=_.NAME;Y.on(document,p,`[data-bs-dismiss="${v}"]`,function(V){if(["A","AREA"].includes(this.tagName)&&V.preventDefault(),m(this))return;const L=W.getElementFromSelector(this)||this.closest(`.${v}`);_.getOrCreateInstance(L)[l]()})},Ve=".bs.alert",rt=`close${Ve}`,C=`closed${Ve}`;class N extends G{static get NAME(){return"alert"}close(){if(Y.trigger(this._element,rt).defaultPrevented)return;this._element.classList.remove("show");const l=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),Y.trigger(this._element,C),this.dispose()}static jQueryInterface(l){return this.each(function(){const p=N.getOrCreateInstance(this);if(typeof l=="string"){if(p[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);p[l](this)}})}}ve(N,"close"),M(N);const B='[data-bs-toggle="button"]';class J extends G{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(l){return this.each(function(){const p=J.getOrCreateInstance(this);l==="toggle"&&p[l]()})}}Y.on(document,"click.bs.button.data-api",B,_=>{_.preventDefault();const l=_.target.closest(B);J.getOrCreateInstance(l).toggle()}),M(J);const K=".bs.swipe",ee=`touchstart${K}`,se=`touchmove${K}`,te=`touchend${K}`,re=`pointerdown${K}`,ne=`pointerup${K}`,Te={endCallback:null,leftCallback:null,rightCallback:null},ce={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class me extends At{constructor(l,p){super(),this._element=l,l&&me.isSupported()&&(this._config=this._getConfig(p),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Te}static get DefaultType(){return ce}static get NAME(){return"swipe"}dispose(){Y.off(this._element,K)}_start(l){this._supportPointerEvents?this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX):this._deltaX=l.touches[0].clientX}_end(l){this._eventIsPointerPenTouch(l)&&(this._deltaX=l.clientX-this._deltaX),this._handleSwipe(),R(this._config.endCallback)}_move(l){this._deltaX=l.touches&&l.touches.length>1?0:l.touches[0].clientX-this._deltaX}_handleSwipe(){const l=Math.abs(this._deltaX);if(l<=40)return;const p=l/this._deltaX;this._deltaX=0,p&&R(p>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Y.on(this._element,re,l=>this._start(l)),Y.on(this._element,ne,l=>this._end(l)),this._element.classList.add("pointer-event")):(Y.on(this._element,ee,l=>this._start(l)),Y.on(this._element,se,l=>this._move(l)),Y.on(this._element,te,l=>this._end(l)))}_eventIsPointerPenTouch(l){return this._supportPointerEvents&&(l.pointerType==="pen"||l.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ee=".bs.carousel",Fe=".data-api",Ye="ArrowLeft",Qe="ArrowRight",It="next",dt="prev",Nt="left",Et="right",as=`slide${Ee}`,ws=`slid${Ee}`,wt=`keydown${Ee}`,En=`mouseenter${Ee}`,Ks=`mouseleave${Ee}`,Ci=`dragstart${Ee}`,Si=`load${Ee}${Fe}`,Il=`click${Ee}${Fe}`,Gt="carousel",Ri="active",Or=".active",Dr=".carousel-item",Zh=Or+Dr,ef={[Ye]:Et,[Qe]:Nt},xr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},tf={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Vr extends G{constructor(l,p){super(l,p),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=W.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Gt&&this.cycle()}static get Default(){return xr}static get DefaultType(){return tf}static get NAME(){return"carousel"}next(){this._slide(It)}nextWhenVisible(){!document.hidden&&d(this._element)&&this.next()}prev(){this._slide(dt)}pause(){this._isSliding&&c(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Y.one(this._element,ws,()=>this.cycle()):this.cycle())}to(l){const p=this._getItems();if(l>p.length-1||l<0)return;if(this._isSliding)return void Y.one(this._element,ws,()=>this.to(l));const v=this._getItemIndex(this._getActive());if(v===l)return;const V=l>v?It:dt;this._slide(V,p[l])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(l){return l.defaultInterval=l.interval,l}_addEventListeners(){this._config.keyboard&&Y.on(this._element,wt,l=>this._keydown(l)),this._config.pause==="hover"&&(Y.on(this._element,En,()=>this.pause()),Y.on(this._element,Ks,()=>this._maybeEnableCycle())),this._config.touch&&me.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const p of W.find(".carousel-item img",this._element))Y.on(p,Ci,v=>v.preventDefault());const l={leftCallback:()=>this._slide(this._directionToOrder(Nt)),rightCallback:()=>this._slide(this._directionToOrder(Et)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new me(this._element,l)}_keydown(l){if(/input|textarea/i.test(l.target.tagName))return;const p=ef[l.key];p&&(l.preventDefault(),this._slide(this._directionToOrder(p)))}_getItemIndex(l){return this._getItems().indexOf(l)}_setActiveIndicatorElement(l){if(!this._indicatorsElement)return;const p=W.findOne(Or,this._indicatorsElement);p.classList.remove(Ri),p.removeAttribute("aria-current");const v=W.findOne(`[data-bs-slide-to="${l}"]`,this._indicatorsElement);v&&(v.classList.add(Ri),v.setAttribute("aria-current","true"))}_updateInterval(){const l=this._activeElement||this._getActive();if(!l)return;const p=Number.parseInt(l.getAttribute("data-bs-interval"),10);this._config.interval=p||this._config.defaultInterval}_slide(l,p=null){if(this._isSliding)return;const v=this._getActive(),V=l===It,L=p||j(this._getItems(),v,V,this._config.wrap);if(L===v)return;const q=this._getItemIndex(L),Z=he=>Y.trigger(this._element,he,{relatedTarget:L,direction:this._orderToDirection(l),from:this._getItemIndex(v),to:q});if(Z(as).defaultPrevented||!v||!L)return;const oe=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(q),this._activeElement=L;const ge=V?"carousel-item-start":"carousel-item-end",_e=V?"carousel-item-next":"carousel-item-prev";L.classList.add(_e),O(L),v.classList.add(ge),L.classList.add(ge),this._queueCallback(()=>{L.classList.remove(ge,_e),L.classList.add(Ri),v.classList.remove(Ri,_e,ge),this._isSliding=!1,Z(ws)},v,this._isAnimated()),oe&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return W.findOne(Zh,this._element)}_getItems(){return W.find(Dr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(l){return H()?l===Nt?dt:It:l===Nt?It:dt}_orderToDirection(l){return H()?l===dt?Nt:Et:l===dt?Et:Nt}static jQueryInterface(l){return this.each(function(){const p=Vr.getOrCreateInstance(this,l);if(typeof l!="number"){if(typeof l=="string"){if(p[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);p[l]()}}else p.to(l)})}}Y.on(document,Il,"[data-bs-slide], [data-bs-slide-to]",function(_){const l=W.getElementFromSelector(this);if(!l||!l.classList.contains(Gt))return;_.preventDefault();const p=Vr.getOrCreateInstance(l),v=this.getAttribute("data-bs-slide-to");return v?(p.to(v),void p._maybeEnableCycle()):kt.getDataAttribute(this,"slide")==="next"?(p.next(),void p._maybeEnableCycle()):(p.prev(),void p._maybeEnableCycle())}),Y.on(window,Si,()=>{const _=W.find('[data-bs-ride="carousel"]');for(const l of _)Vr.getOrCreateInstance(l)}),M(Vr);const bs=".bs.collapse",Cl=`show${bs}`,Sl=`shown${bs}`,Ua=`hide${bs}`,Pi=`hidden${bs}`,nf=`click${bs}.data-api`,Gn="show",zs="collapse",ki="collapsing",Ba=`:scope .${zs} .${zs}`,Ni='[data-bs-toggle="collapse"]',Rl={parent:null,toggle:!0},sf={parent:"(null|element)",toggle:"boolean"};class Qs extends G{constructor(l,p){super(l,p),this._isTransitioning=!1,this._triggerArray=[];const v=W.find(Ni);for(const V of v){const L=W.getSelectorFromElement(V),q=W.find(L).filter(Z=>Z===this._element);L!==null&&q.length&&this._triggerArray.push(V)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Rl}static get DefaultType(){return sf}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let l=[];if(this._config.parent&&(l=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(V=>V!==this._element).map(V=>Qs.getOrCreateInstance(V,{toggle:!1}))),l.length&&l[0]._isTransitioning||Y.trigger(this._element,Cl).defaultPrevented)return;for(const V of l)V.hide();const p=this._getDimension();this._element.classList.remove(zs),this._element.classList.add(ki),this._element.style[p]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const v=`scroll${p[0].toUpperCase()+p.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ki),this._element.classList.add(zs,Gn),this._element.style[p]="",Y.trigger(this._element,Sl)},this._element,!0),this._element.style[p]=`${this._element[v]}px`}hide(){if(this._isTransitioning||!this._isShown()||Y.trigger(this._element,Ua).defaultPrevented)return;const l=this._getDimension();this._element.style[l]=`${this._element.getBoundingClientRect()[l]}px`,O(this._element),this._element.classList.add(ki),this._element.classList.remove(zs,Gn);for(const p of this._triggerArray){const v=W.getElementFromSelector(p);v&&!this._isShown(v)&&this._addAriaAndCollapsedClass([p],!1)}this._isTransitioning=!0,this._element.style[l]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ki),this._element.classList.add(zs),Y.trigger(this._element,Pi)},this._element,!0)}_isShown(l=this._element){return l.classList.contains(Gn)}_configAfterMerge(l){return l.toggle=!!l.toggle,l.parent=h(l.parent),l}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const l=this._getFirstLevelChildren(Ni);for(const p of l){const v=W.getElementFromSelector(p);v&&this._addAriaAndCollapsedClass([p],this._isShown(v))}}_getFirstLevelChildren(l){const p=W.find(Ba,this._config.parent);return W.find(l,this._config.parent).filter(v=>!p.includes(v))}_addAriaAndCollapsedClass(l,p){if(l.length)for(const v of l)v.classList.toggle("collapsed",!p),v.setAttribute("aria-expanded",p)}static jQueryInterface(l){const p={};return typeof l=="string"&&/show|hide/.test(l)&&(p.toggle=!1),this.each(function(){const v=Qs.getOrCreateInstance(this,p);if(typeof l=="string"){if(v[l]===void 0)throw new TypeError(`No method named "${l}"`);v[l]()}})}}Y.on(document,nf,Ni,function(_){(_.target.tagName==="A"||_.delegateTarget&&_.delegateTarget.tagName==="A")&&_.preventDefault();for(const l of W.getMultipleElementsFromSelector(this))Qs.getOrCreateInstance(l,{toggle:!1}).toggle()}),M(Qs);var Jt="top",Kt="bottom",on="right",Ut="left",As="auto",Rn=[Jt,Kt,on,Ut],cs="start",Lr="end",ja="clippingParents",Io="viewport",Ys="popper",Co="reference",Oi=Rn.reduce(function(_,l){return _.concat([l+"-"+cs,l+"-"+Lr])},[]),So=[].concat(Rn,[As]).reduce(function(_,l){return _.concat([l,l+"-"+cs,l+"-"+Lr])},[]),$a="beforeRead",Ha="read",Pl="afterRead",ls="beforeMain",Mn="main",Mr="afterMain",Fr="beforeWrite",Ro="write",lt="afterWrite",Di=[$a,Ha,Pl,ls,Mn,Mr,Fr,Ro,lt];function an(_){return _?(_.nodeName||"").toLowerCase():null}function Bt(_){if(_==null)return window;if(_.toString()!=="[object Window]"){var l=_.ownerDocument;return l&&l.defaultView||window}return _}function Xs(_){return _ instanceof Bt(_).Element||_ instanceof Element}function Tn(_){return _ instanceof Bt(_).HTMLElement||_ instanceof HTMLElement}function qa(_){return typeof ShadowRoot<"u"&&(_ instanceof Bt(_).ShadowRoot||_ instanceof ShadowRoot)}const Wa={name:"applyStyles",enabled:!0,phase:"write",fn:function(_){var l=_.state;Object.keys(l.elements).forEach(function(p){var v=l.styles[p]||{},V=l.attributes[p]||{},L=l.elements[p];Tn(L)&&an(L)&&(Object.assign(L.style,v),Object.keys(V).forEach(function(q){var Z=V[q];Z===!1?L.removeAttribute(q):L.setAttribute(q,Z===!0?"":Z)}))})},effect:function(_){var l=_.state,p={popper:{position:l.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(l.elements.popper.style,p.popper),l.styles=p,l.elements.arrow&&Object.assign(l.elements.arrow.style,p.arrow),function(){Object.keys(l.elements).forEach(function(v){var V=l.elements[v],L=l.attributes[v]||{},q=Object.keys(l.styles.hasOwnProperty(v)?l.styles[v]:p[v]).reduce(function(Z,oe){return Z[oe]="",Z},{});Tn(V)&&an(V)&&(Object.assign(V.style,q),Object.keys(L).forEach(function(Z){V.removeAttribute(Z)}))})}},requires:["computeStyles"]};function Kn(_){return _.split("-")[0]}var Js=Math.max,Is=Math.min,Pn=Math.round;function Po(){var _=navigator.userAgentData;return _!=null&&_.brands&&Array.isArray(_.brands)?_.brands.map(function(l){return l.brand+"/"+l.version}).join(" "):navigator.userAgent}function Ga(){return!/^((?!chrome|android).)*safari/i.test(Po())}function Zs(_,l,p){l===void 0&&(l=!1),p===void 0&&(p=!1);var v=_.getBoundingClientRect(),V=1,L=1;l&&Tn(_)&&(V=_.offsetWidth>0&&Pn(v.width)/_.offsetWidth||1,L=_.offsetHeight>0&&Pn(v.height)/_.offsetHeight||1);var q=(Xs(_)?Bt(_):window).visualViewport,Z=!Ga()&&p,oe=(v.left+(Z&&q?q.offsetLeft:0))/V,ge=(v.top+(Z&&q?q.offsetTop:0))/L,_e=v.width/V,he=v.height/L;return{width:_e,height:he,top:ge,right:oe+_e,bottom:ge+he,left:oe,x:oe,y:ge}}function ko(_){var l=Zs(_),p=_.offsetWidth,v=_.offsetHeight;return Math.abs(l.width-p)<=1&&(p=l.width),Math.abs(l.height-v)<=1&&(v=l.height),{x:_.offsetLeft,y:_.offsetTop,width:p,height:v}}function Ka(_,l){var p=l.getRootNode&&l.getRootNode();if(_.contains(l))return!0;if(p&&qa(p)){var v=l;do{if(v&&_.isSameNode(v))return!0;v=v.parentNode||v.host}while(v)}return!1}function cn(_){return Bt(_).getComputedStyle(_)}function rf(_){return["table","td","th"].indexOf(an(_))>=0}function Cs(_){return((Xs(_)?_.ownerDocument:_.document)||window.document).documentElement}function No(_){return an(_)==="html"?_:_.assignedSlot||_.parentNode||(qa(_)?_.host:null)||Cs(_)}function us(_){return Tn(_)&&cn(_).position!=="fixed"?_.offsetParent:null}function xi(_){for(var l=Bt(_),p=us(_);p&&rf(p)&&cn(p).position==="static";)p=us(p);return p&&(an(p)==="html"||an(p)==="body"&&cn(p).position==="static")?l:p||(function(v){var V=/firefox/i.test(Po());if(/Trident/i.test(Po())&&Tn(v)&&cn(v).position==="fixed")return null;var L=No(v);for(qa(L)&&(L=L.host);Tn(L)&&["html","body"].indexOf(an(L))<0;){var q=cn(L);if(q.transform!=="none"||q.perspective!=="none"||q.contain==="paint"||["transform","perspective"].indexOf(q.willChange)!==-1||V&&q.willChange==="filter"||V&&q.filter&&q.filter!=="none")return L;L=L.parentNode}return null})(_)||l}function Vi(_){return["top","bottom"].indexOf(_)>=0?"x":"y"}function Ss(_,l,p){return Js(_,Is(l,p))}function za(_){return Object.assign({},{top:0,right:0,bottom:0,left:0},_)}function Ur(_,l){return l.reduce(function(p,v){return p[v]=_,p},{})}const Br={name:"arrow",enabled:!0,phase:"main",fn:function(_){var l,p=_.state,v=_.name,V=_.options,L=p.elements.arrow,q=p.modifiersData.popperOffsets,Z=Kn(p.placement),oe=Vi(Z),ge=[Ut,on].indexOf(Z)>=0?"height":"width";if(L&&q){var _e=(function(ht,ot){return za(typeof(ht=typeof ht=="function"?ht(Object.assign({},ot.rects,{placement:ot.placement})):ht)!="number"?ht:Ur(ht,Rn))})(V.padding,p),he=ko(L),Me=oe==="y"?Jt:Ut,Ie=oe==="y"?Kt:on,Ne=p.rects.reference[ge]+p.rects.reference[oe]-q[oe]-p.rects.popper[ge],Pe=q[oe]-p.rects.reference[oe],Oe=xi(L),ut=Oe?oe==="y"?Oe.clientHeight||0:Oe.clientWidth||0:0,mt=Ne/2-Pe/2,Be=_e[Me],Je=ut-he[ge]-_e[Ie],Ue=ut/2-he[ge]/2+mt,We=Ss(Be,Ue,Je),it=oe;p.modifiersData[v]=((l={})[it]=We,l.centerOffset=We-Ue,l)}},effect:function(_){var l=_.state,p=_.options.element,v=p===void 0?"[data-popper-arrow]":p;v!=null&&(typeof v!="string"||(v=l.elements.popper.querySelector(v)))&&Ka(l.elements.popper,v)&&(l.elements.arrow=v)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function er(_){return _.split("-")[1]}var Qa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yt(_){var l,p=_.popper,v=_.popperRect,V=_.placement,L=_.variation,q=_.offsets,Z=_.position,oe=_.gpuAcceleration,ge=_.adaptive,_e=_.roundOffsets,he=_.isFixed,Me=q.x,Ie=Me===void 0?0:Me,Ne=q.y,Pe=Ne===void 0?0:Ne,Oe=typeof _e=="function"?_e({x:Ie,y:Pe}):{x:Ie,y:Pe};Ie=Oe.x,Pe=Oe.y;var ut=q.hasOwnProperty("x"),mt=q.hasOwnProperty("y"),Be=Ut,Je=Jt,Ue=window;if(ge){var We=xi(p),it="clientHeight",ht="clientWidth";We===Bt(p)&&cn(We=Cs(p)).position!=="static"&&Z==="absolute"&&(it="scrollHeight",ht="scrollWidth"),(V===Jt||(V===Ut||V===on)&&L===Lr)&&(Je=Kt,Pe-=(he&&We===Ue&&Ue.visualViewport?Ue.visualViewport.height:We[it])-v.height,Pe*=oe?1:-1),V!==Ut&&(V!==Jt&&V!==Kt||L!==Lr)||(Be=on,Ie-=(he&&We===Ue&&Ue.visualViewport?Ue.visualViewport.width:We[ht])-v.width,Ie*=oe?1:-1)}var ot,Dt=Object.assign({position:Z},ge&&Qa),Fn=_e===!0?(function(ds,wn){var Xn=ds.x,Jn=ds.y,Ct=wn.devicePixelRatio||1;return{x:Pn(Xn*Ct)/Ct||0,y:Pn(Jn*Ct)/Ct||0}})({x:Ie,y:Pe},Bt(p)):{x:Ie,y:Pe};return Ie=Fn.x,Pe=Fn.y,oe?Object.assign({},Dt,((ot={})[Je]=mt?"0":"",ot[Be]=ut?"0":"",ot.transform=(Ue.devicePixelRatio||1)<=1?"translate("+Ie+"px, "+Pe+"px)":"translate3d("+Ie+"px, "+Pe+"px, 0)",ot)):Object.assign({},Dt,((l={})[Je]=mt?Pe+"px":"",l[Be]=ut?Ie+"px":"",l.transform="",l))}const Ya={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(_){var l=_.state,p=_.options,v=p.gpuAcceleration,V=v===void 0||v,L=p.adaptive,q=L===void 0||L,Z=p.roundOffsets,oe=Z===void 0||Z,ge={placement:Kn(l.placement),variation:er(l.placement),popper:l.elements.popper,popperRect:l.rects.popper,gpuAcceleration:V,isFixed:l.options.strategy==="fixed"};l.modifiersData.popperOffsets!=null&&(l.styles.popper=Object.assign({},l.styles.popper,yt(Object.assign({},ge,{offsets:l.modifiersData.popperOffsets,position:l.options.strategy,adaptive:q,roundOffsets:oe})))),l.modifiersData.arrow!=null&&(l.styles.arrow=Object.assign({},l.styles.arrow,yt(Object.assign({},ge,{offsets:l.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:oe})))),l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-placement":l.placement})},data:{}};var Oo={passive:!0};const Do={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(_){var l=_.state,p=_.instance,v=_.options,V=v.scroll,L=V===void 0||V,q=v.resize,Z=q===void 0||q,oe=Bt(l.elements.popper),ge=[].concat(l.scrollParents.reference,l.scrollParents.popper);return L&&ge.forEach(function(_e){_e.addEventListener("scroll",p.update,Oo)}),Z&&oe.addEventListener("resize",p.update,Oo),function(){L&&ge.forEach(function(_e){_e.removeEventListener("scroll",p.update,Oo)}),Z&&oe.removeEventListener("resize",p.update,Oo)}},data:{}};var kl={left:"right",right:"left",bottom:"top",top:"bottom"};function Li(_){return _.replace(/left|right|bottom|top/g,function(l){return kl[l]})}var xo={start:"end",end:"start"};function hs(_){return _.replace(/start|end/g,function(l){return xo[l]})}function Vo(_){var l=Bt(_);return{scrollLeft:l.pageXOffset,scrollTop:l.pageYOffset}}function Xa(_){return Zs(Cs(_)).left+Vo(_).scrollLeft}function tr(_){var l=cn(_),p=l.overflow,v=l.overflowX,V=l.overflowY;return/auto|scroll|overlay|hidden/.test(p+V+v)}function Ja(_){return["html","body","#document"].indexOf(an(_))>=0?_.ownerDocument.body:Tn(_)&&tr(_)?_:Ja(No(_))}function nr(_,l){var p;l===void 0&&(l=[]);var v=Ja(_),V=v===((p=_.ownerDocument)==null?void 0:p.body),L=Bt(v),q=V?[L].concat(L.visualViewport||[],tr(v)?v:[]):v,Z=l.concat(q);return V?Z:Z.concat(nr(No(q)))}function jr(_){return Object.assign({},_,{left:_.x,top:_.y,right:_.x+_.width,bottom:_.y+_.height})}function Za(_,l,p){return l===Io?jr((function(v,V){var L=Bt(v),q=Cs(v),Z=L.visualViewport,oe=q.clientWidth,ge=q.clientHeight,_e=0,he=0;if(Z){oe=Z.width,ge=Z.height;var Me=Ga();(Me||!Me&&V==="fixed")&&(_e=Z.offsetLeft,he=Z.offsetTop)}return{width:oe,height:ge,x:_e+Xa(v),y:he}})(_,p)):Xs(l)?(function(v,V){var L=Zs(v,!1,V==="fixed");return L.top=L.top+v.clientTop,L.left=L.left+v.clientLeft,L.bottom=L.top+v.clientHeight,L.right=L.left+v.clientWidth,L.width=v.clientWidth,L.height=v.clientHeight,L.x=L.left,L.y=L.top,L})(l,p):jr((function(v){var V,L=Cs(v),q=Vo(v),Z=(V=v.ownerDocument)==null?void 0:V.body,oe=Js(L.scrollWidth,L.clientWidth,Z?Z.scrollWidth:0,Z?Z.clientWidth:0),ge=Js(L.scrollHeight,L.clientHeight,Z?Z.scrollHeight:0,Z?Z.clientHeight:0),_e=-q.scrollLeft+Xa(v),he=-q.scrollTop;return cn(Z||L).direction==="rtl"&&(_e+=Js(L.clientWidth,Z?Z.clientWidth:0)-oe),{width:oe,height:ge,x:_e,y:he}})(Cs(_)))}function Mi(_){var l,p=_.reference,v=_.element,V=_.placement,L=V?Kn(V):null,q=V?er(V):null,Z=p.x+p.width/2-v.width/2,oe=p.y+p.height/2-v.height/2;switch(L){case Jt:l={x:Z,y:p.y-v.height};break;case Kt:l={x:Z,y:p.y+p.height};break;case on:l={x:p.x+p.width,y:oe};break;case Ut:l={x:p.x-v.width,y:oe};break;default:l={x:p.x,y:p.y}}var ge=L?Vi(L):null;if(ge!=null){var _e=ge==="y"?"height":"width";switch(q){case cs:l[ge]=l[ge]-(p[_e]/2-v[_e]/2);break;case Lr:l[ge]=l[ge]+(p[_e]/2-v[_e]/2)}}return l}function $r(_,l){l===void 0&&(l={});var p=l,v=p.placement,V=v===void 0?_.placement:v,L=p.strategy,q=L===void 0?_.strategy:L,Z=p.boundary,oe=Z===void 0?ja:Z,ge=p.rootBoundary,_e=ge===void 0?Io:ge,he=p.elementContext,Me=he===void 0?Ys:he,Ie=p.altBoundary,Ne=Ie!==void 0&&Ie,Pe=p.padding,Oe=Pe===void 0?0:Pe,ut=za(typeof Oe!="number"?Oe:Ur(Oe,Rn)),mt=Me===Ys?Co:Ys,Be=_.rects.popper,Je=_.elements[Ne?mt:Me],Ue=(function(wn,Xn,Jn,Ct){var Ds=Xn==="clippingParents"?(function(ft){var bn=nr(No(ft)),Zn=["absolute","fixed"].indexOf(cn(ft).position)>=0&&Tn(ft)?xi(ft):ft;return Xs(Zn)?bn.filter(function(Gr){return Xs(Gr)&&Ka(Gr,Zn)&&an(Gr)!=="body"}):[]})(wn):[].concat(Xn),xs=[].concat(Ds,[Jn]),jo=xs[0],zt=xs.reduce(function(ft,bn){var Zn=Za(wn,bn,Ct);return ft.top=Js(Zn.top,ft.top),ft.right=Is(Zn.right,ft.right),ft.bottom=Is(Zn.bottom,ft.bottom),ft.left=Js(Zn.left,ft.left),ft},Za(wn,jo,Ct));return zt.width=zt.right-zt.left,zt.height=zt.bottom-zt.top,zt.x=zt.left,zt.y=zt.top,zt})(Xs(Je)?Je:Je.contextElement||Cs(_.elements.popper),oe,_e,q),We=Zs(_.elements.reference),it=Mi({reference:We,element:Be,placement:V}),ht=jr(Object.assign({},Be,it)),ot=Me===Ys?ht:We,Dt={top:Ue.top-ot.top+ut.top,bottom:ot.bottom-Ue.bottom+ut.bottom,left:Ue.left-ot.left+ut.left,right:ot.right-Ue.right+ut.right},Fn=_.modifiersData.offset;if(Me===Ys&&Fn){var ds=Fn[V];Object.keys(Dt).forEach(function(wn){var Xn=[on,Kt].indexOf(wn)>=0?1:-1,Jn=[Jt,Kt].indexOf(wn)>=0?"y":"x";Dt[wn]+=ds[Jn]*Xn})}return Dt}function Nl(_,l){l===void 0&&(l={});var p=l,v=p.placement,V=p.boundary,L=p.rootBoundary,q=p.padding,Z=p.flipVariations,oe=p.allowedAutoPlacements,ge=oe===void 0?So:oe,_e=er(v),he=_e?Z?Oi:Oi.filter(function(Ne){return er(Ne)===_e}):Rn,Me=he.filter(function(Ne){return ge.indexOf(Ne)>=0});Me.length===0&&(Me=he);var Ie=Me.reduce(function(Ne,Pe){return Ne[Pe]=$r(_,{placement:Pe,boundary:V,rootBoundary:L,padding:q})[Kn(Pe)],Ne},{});return Object.keys(Ie).sort(function(Ne,Pe){return Ie[Ne]-Ie[Pe]})}const Hr={name:"flip",enabled:!0,phase:"main",fn:function(_){var l=_.state,p=_.options,v=_.name;if(!l.modifiersData[v]._skip){for(var V=p.mainAxis,L=V===void 0||V,q=p.altAxis,Z=q===void 0||q,oe=p.fallbackPlacements,ge=p.padding,_e=p.boundary,he=p.rootBoundary,Me=p.altBoundary,Ie=p.flipVariations,Ne=Ie===void 0||Ie,Pe=p.allowedAutoPlacements,Oe=l.options.placement,ut=Kn(Oe),mt=oe||(ut!==Oe&&Ne?(function(ft){if(Kn(ft)===As)return[];var bn=Li(ft);return[hs(ft),bn,hs(bn)]})(Oe):[Li(Oe)]),Be=[Oe].concat(mt).reduce(function(ft,bn){return ft.concat(Kn(bn)===As?Nl(l,{placement:bn,boundary:_e,rootBoundary:he,padding:ge,flipVariations:Ne,allowedAutoPlacements:Pe}):bn)},[]),Je=l.rects.reference,Ue=l.rects.popper,We=new Map,it=!0,ht=Be[0],ot=0;ot<Be.length;ot++){var Dt=Be[ot],Fn=Kn(Dt),ds=er(Dt)===cs,wn=[Jt,Kt].indexOf(Fn)>=0,Xn=wn?"width":"height",Jn=$r(l,{placement:Dt,boundary:_e,rootBoundary:he,altBoundary:Me,padding:ge}),Ct=wn?ds?on:Ut:ds?Kt:Jt;Je[Xn]>Ue[Xn]&&(Ct=Li(Ct));var Ds=Li(Ct),xs=[];if(L&&xs.push(Jn[Fn]<=0),Z&&xs.push(Jn[Ct]<=0,Jn[Ds]<=0),xs.every(function(ft){return ft})){ht=Dt,it=!1;break}We.set(Dt,xs)}if(it)for(var jo=function(ft){var bn=Be.find(function(Zn){var Gr=We.get(Zn);if(Gr)return Gr.slice(0,ft).every(function($l){return $l})});if(bn)return ht=bn,"break"},zt=Ne?3:1;zt>0&&jo(zt)!=="break";zt--);l.placement!==ht&&(l.modifiersData[v]._skip=!0,l.placement=ht,l.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function ec(_,l,p){return p===void 0&&(p={x:0,y:0}),{top:_.top-l.height-p.y,right:_.right-l.width+p.x,bottom:_.bottom-l.height+p.y,left:_.left-l.width-p.x}}function tc(_){return[Jt,on,Kt,Ut].some(function(l){return _[l]>=0})}const Lo={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(_){var l=_.state,p=_.name,v=l.rects.reference,V=l.rects.popper,L=l.modifiersData.preventOverflow,q=$r(l,{elementContext:"reference"}),Z=$r(l,{altBoundary:!0}),oe=ec(q,v),ge=ec(Z,V,L),_e=tc(oe),he=tc(ge);l.modifiersData[p]={referenceClippingOffsets:oe,popperEscapeOffsets:ge,isReferenceHidden:_e,hasPopperEscaped:he},l.attributes.popper=Object.assign({},l.attributes.popper,{"data-popper-reference-hidden":_e,"data-popper-escaped":he})}},Mo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(_){var l=_.state,p=_.options,v=_.name,V=p.offset,L=V===void 0?[0,0]:V,q=So.reduce(function(_e,he){return _e[he]=(function(Me,Ie,Ne){var Pe=Kn(Me),Oe=[Ut,Jt].indexOf(Pe)>=0?-1:1,ut=typeof Ne=="function"?Ne(Object.assign({},Ie,{placement:Me})):Ne,mt=ut[0],Be=ut[1];return mt=mt||0,Be=(Be||0)*Oe,[Ut,on].indexOf(Pe)>=0?{x:Be,y:mt}:{x:mt,y:Be}})(he,l.rects,L),_e},{}),Z=q[l.placement],oe=Z.x,ge=Z.y;l.modifiersData.popperOffsets!=null&&(l.modifiersData.popperOffsets.x+=oe,l.modifiersData.popperOffsets.y+=ge),l.modifiersData[v]=q}},Fo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(_){var l=_.state,p=_.name;l.modifiersData[p]=Mi({reference:l.rects.reference,element:l.rects.popper,placement:l.placement})},data:{}},Fi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(_){var l=_.state,p=_.options,v=_.name,V=p.mainAxis,L=V===void 0||V,q=p.altAxis,Z=q!==void 0&&q,oe=p.boundary,ge=p.rootBoundary,_e=p.altBoundary,he=p.padding,Me=p.tether,Ie=Me===void 0||Me,Ne=p.tetherOffset,Pe=Ne===void 0?0:Ne,Oe=$r(l,{boundary:oe,rootBoundary:ge,padding:he,altBoundary:_e}),ut=Kn(l.placement),mt=er(l.placement),Be=!mt,Je=Vi(ut),Ue=Je==="x"?"y":"x",We=l.modifiersData.popperOffsets,it=l.rects.reference,ht=l.rects.popper,ot=typeof Pe=="function"?Pe(Object.assign({},l.rects,{placement:l.placement})):Pe,Dt=typeof ot=="number"?{mainAxis:ot,altAxis:ot}:Object.assign({mainAxis:0,altAxis:0},ot),Fn=l.modifiersData.offset?l.modifiersData.offset[l.placement]:null,ds={x:0,y:0};if(We){if(L){var wn,Xn=Je==="y"?Jt:Ut,Jn=Je==="y"?Kt:on,Ct=Je==="y"?"height":"width",Ds=We[Je],xs=Ds+Oe[Xn],jo=Ds-Oe[Jn],zt=Ie?-ht[Ct]/2:0,ft=mt===cs?it[Ct]:ht[Ct],bn=mt===cs?-ht[Ct]:-it[Ct],Zn=l.elements.arrow,Gr=Ie&&Zn?ko(Zn):{width:0,height:0},$l=l.modifiersData["arrow#persistent"]?l.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},eg=$l[Xn],tg=$l[Jn],Hl=Ss(0,it[Ct],Gr[Ct]),cI=Be?it[Ct]/2-zt-Hl-eg-Dt.mainAxis:ft-Hl-eg-Dt.mainAxis,lI=Be?-it[Ct]/2+zt+Hl+tg+Dt.mainAxis:bn+Hl+tg+Dt.mainAxis,_f=l.elements.arrow&&xi(l.elements.arrow),uI=_f?Je==="y"?_f.clientTop||0:_f.clientLeft||0:0,ng=(wn=Fn?.[Je])!=null?wn:0,hI=Ds+lI-ng,sg=Ss(Ie?Is(xs,Ds+cI-ng-uI):xs,Ds,Ie?Js(jo,hI):jo);We[Je]=sg,ds[Je]=sg-Ds}if(Z){var rg,fI=Je==="x"?Jt:Ut,dI=Je==="x"?Kt:on,Wi=We[Ue],ql=Ue==="y"?"height":"width",ig=Wi+Oe[fI],og=Wi-Oe[dI],yf=[Jt,Ut].indexOf(ut)!==-1,ag=(rg=Fn?.[Ue])!=null?rg:0,cg=yf?ig:Wi-it[ql]-ht[ql]-ag+Dt.altAxis,lg=yf?Wi+it[ql]+ht[ql]-ag-Dt.altAxis:og,ug=Ie&&yf?(function(pI,mI,vf){var hg=Ss(pI,mI,vf);return hg>vf?vf:hg})(cg,Wi,lg):Ss(Ie?cg:ig,Wi,Ie?lg:og);We[Ue]=ug,ds[Ue]=ug-Wi}l.modifiersData[v]=ds}},requiresIfExists:["offset"]};function Ol(_,l,p){p===void 0&&(p=!1);var v,V,L=Tn(l),q=Tn(l)&&(function(he){var Me=he.getBoundingClientRect(),Ie=Pn(Me.width)/he.offsetWidth||1,Ne=Pn(Me.height)/he.offsetHeight||1;return Ie!==1||Ne!==1})(l),Z=Cs(l),oe=Zs(_,q,p),ge={scrollLeft:0,scrollTop:0},_e={x:0,y:0};return(L||!L&&!p)&&((an(l)!=="body"||tr(Z))&&(ge=(v=l)!==Bt(v)&&Tn(v)?{scrollLeft:(V=v).scrollLeft,scrollTop:V.scrollTop}:Vo(v)),Tn(l)?((_e=Zs(l,!0)).x+=l.clientLeft,_e.y+=l.clientTop):Z&&(_e.x=Xa(Z))),{x:oe.left+ge.scrollLeft-_e.x,y:oe.top+ge.scrollTop-_e.y,width:oe.width,height:oe.height}}function Dl(_){var l=new Map,p=new Set,v=[];function V(L){p.add(L.name),[].concat(L.requires||[],L.requiresIfExists||[]).forEach(function(q){if(!p.has(q)){var Z=l.get(q);Z&&V(Z)}}),v.push(L)}return _.forEach(function(L){l.set(L.name,L)}),_.forEach(function(L){p.has(L.name)||V(L)}),v}var Rs={placement:"bottom",modifiers:[],strategy:"absolute"};function nc(){for(var _=arguments.length,l=new Array(_),p=0;p<_;p++)l[p]=arguments[p];return!l.some(function(v){return!(v&&typeof v.getBoundingClientRect=="function")})}function Ui(_){_===void 0&&(_={});var l=_,p=l.defaultModifiers,v=p===void 0?[]:p,V=l.defaultOptions,L=V===void 0?Rs:V;return function(q,Z,oe){oe===void 0&&(oe=L);var ge,_e,he={placement:"bottom",orderedModifiers:[],options:Object.assign({},Rs,L),modifiersData:{},elements:{reference:q,popper:Z},attributes:{},styles:{}},Me=[],Ie=!1,Ne={state:he,setOptions:function(Oe){var ut=typeof Oe=="function"?Oe(he.options):Oe;Pe(),he.options=Object.assign({},L,he.options,ut),he.scrollParents={reference:Xs(q)?nr(q):q.contextElement?nr(q.contextElement):[],popper:nr(Z)};var mt,Be,Je=(function(Ue){var We=Dl(Ue);return Di.reduce(function(it,ht){return it.concat(We.filter(function(ot){return ot.phase===ht}))},[])})((mt=[].concat(v,he.options.modifiers),Be=mt.reduce(function(Ue,We){var it=Ue[We.name];return Ue[We.name]=it?Object.assign({},it,We,{options:Object.assign({},it.options,We.options),data:Object.assign({},it.data,We.data)}):We,Ue},{}),Object.keys(Be).map(function(Ue){return Be[Ue]})));return he.orderedModifiers=Je.filter(function(Ue){return Ue.enabled}),he.orderedModifiers.forEach(function(Ue){var We=Ue.name,it=Ue.options,ht=it===void 0?{}:it,ot=Ue.effect;if(typeof ot=="function"){var Dt=ot({state:he,name:We,instance:Ne,options:ht});Me.push(Dt||function(){})}}),Ne.update()},forceUpdate:function(){if(!Ie){var Oe=he.elements,ut=Oe.reference,mt=Oe.popper;if(nc(ut,mt)){he.rects={reference:Ol(ut,xi(mt),he.options.strategy==="fixed"),popper:ko(mt)},he.reset=!1,he.placement=he.options.placement,he.orderedModifiers.forEach(function(ot){return he.modifiersData[ot.name]=Object.assign({},ot.data)});for(var Be=0;Be<he.orderedModifiers.length;Be++)if(he.reset!==!0){var Je=he.orderedModifiers[Be],Ue=Je.fn,We=Je.options,it=We===void 0?{}:We,ht=Je.name;typeof Ue=="function"&&(he=Ue({state:he,options:it,name:ht,instance:Ne})||he)}else he.reset=!1,Be=-1}}},update:(ge=function(){return new Promise(function(Oe){Ne.forceUpdate(),Oe(he)})},function(){return _e||(_e=new Promise(function(Oe){Promise.resolve().then(function(){_e=void 0,Oe(ge())})})),_e}),destroy:function(){Pe(),Ie=!0}};if(!nc(q,Z))return Ne;function Pe(){Me.forEach(function(Oe){return Oe()}),Me=[]}return Ne.setOptions(oe).then(function(Oe){!Ie&&oe.onFirstUpdate&&oe.onFirstUpdate(Oe)}),Ne}}var xl=Ui(),Vl=Ui({defaultModifiers:[Do,Fo,Ya,Wa]}),qr=Ui({defaultModifiers:[Do,Fo,Ya,Wa,Mo,Hr,Fi,Br,Lo]});const ln=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Mr,afterRead:Pl,afterWrite:lt,applyStyles:Wa,arrow:Br,auto:As,basePlacements:Rn,beforeMain:ls,beforeRead:$a,beforeWrite:Fr,bottom:Kt,clippingParents:ja,computeStyles:Ya,createPopper:qr,createPopperBase:xl,createPopperLite:Vl,detectOverflow:$r,end:Lr,eventListeners:Do,flip:Hr,hide:Lo,left:Ut,main:Mn,modifierPhases:Di,offset:Mo,placements:So,popper:Ys,popperGenerator:Ui,popperOffsets:Fo,preventOverflow:Fi,read:Ha,reference:Co,right:on,start:cs,top:Jt,variationPlacements:Oi,viewport:Io,write:Ro},Symbol.toStringTag,{value:"Module"})),sc="dropdown",Ps=".bs.dropdown",ks=".data-api",a="ArrowUp",f="ArrowDown",g=`hide${Ps}`,w=`hidden${Ps}`,F=`show${Ps}`,$=`shown${Ps}`,ie=`click${Ps}${ks}`,xe=`keydown${Ps}${ks}`,Ot=`keyup${Ps}${ks}`,Ge="show",pt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',zn=`${pt}.${Ge}`,Qn=".dropdown-menu",Ns=H()?"top-end":"top-start",Os=H()?"top-start":"top-end",Uo=H()?"bottom-end":"bottom-start",rc=H()?"bottom-start":"bottom-end",Gb=H()?"left-start":"right-start",Kb=H()?"right-start":"left-start",zb={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Qb={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class fs extends G{constructor(l,p){super(l,p),this._popper=null,this._parent=this._element.parentNode,this._menu=W.next(this._element,Qn)[0]||W.prev(this._element,Qn)[0]||W.findOne(Qn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return zb}static get DefaultType(){return Qb}static get NAME(){return sc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const l={relatedTarget:this._element};if(!Y.trigger(this._element,F,l).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const p of[].concat(...document.body.children))Y.on(p,"mouseover",E);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ge),this._element.classList.add(Ge),Y.trigger(this._element,$,l)}}hide(){if(m(this._element)||!this._isShown())return;const l={relatedTarget:this._element};this._completeHide(l)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(l){if(!Y.trigger(this._element,g,l).defaultPrevented){if("ontouchstart"in document.documentElement)for(const p of[].concat(...document.body.children))Y.off(p,"mouseover",E);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ge),this._element.classList.remove(Ge),this._element.setAttribute("aria-expanded","false"),kt.removeDataAttribute(this._menu,"popper"),Y.trigger(this._element,w,l)}}_getConfig(l){if(typeof(l=super._getConfig(l)).reference=="object"&&!u(l.reference)&&typeof l.reference.getBoundingClientRect!="function")throw new TypeError(`${sc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return l}_createPopper(){if(ln===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let l=this._element;this._config.reference==="parent"?l=this._parent:u(this._config.reference)?l=h(this._config.reference):typeof this._config.reference=="object"&&(l=this._config.reference);const p=this._getPopperConfig();this._popper=qr(l,this._menu,p)}_isShown(){return this._menu.classList.contains(Ge)}_getPlacement(){const l=this._parent;if(l.classList.contains("dropend"))return Gb;if(l.classList.contains("dropstart"))return Kb;if(l.classList.contains("dropup-center"))return"top";if(l.classList.contains("dropdown-center"))return"bottom";const p=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return l.classList.contains("dropup")?p?Os:Ns:p?rc:Uo}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(p=>Number.parseInt(p,10)):typeof l=="function"?p=>l(p,this._element):l}_getPopperConfig(){const l={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(kt.setDataAttribute(this._menu,"popper","static"),l.modifiers=[{name:"applyStyles",enabled:!1}]),{...l,...R(this._config.popperConfig,[void 0,l])}}_selectMenuItem({key:l,target:p}){const v=W.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(V=>d(V));v.length&&j(v,p,l===f,!v.includes(p)).focus()}static jQueryInterface(l){return this.each(function(){const p=fs.getOrCreateInstance(this,l);if(typeof l=="string"){if(p[l]===void 0)throw new TypeError(`No method named "${l}"`);p[l]()}})}static clearMenus(l){if(l.button===2||l.type==="keyup"&&l.key!=="Tab")return;const p=W.find(zn);for(const v of p){const V=fs.getInstance(v);if(!V||V._config.autoClose===!1)continue;const L=l.composedPath(),q=L.includes(V._menu);if(L.includes(V._element)||V._config.autoClose==="inside"&&!q||V._config.autoClose==="outside"&&q||V._menu.contains(l.target)&&(l.type==="keyup"&&l.key==="Tab"||/input|select|option|textarea|form/i.test(l.target.tagName)))continue;const Z={relatedTarget:V._element};l.type==="click"&&(Z.clickEvent=l),V._completeHide(Z)}}static dataApiKeydownHandler(l){const p=/input|textarea/i.test(l.target.tagName),v=l.key==="Escape",V=[a,f].includes(l.key);if(!V&&!v||p&&!v)return;l.preventDefault();const L=this.matches(pt)?this:W.prev(this,pt)[0]||W.next(this,pt)[0]||W.findOne(pt,l.delegateTarget.parentNode),q=fs.getOrCreateInstance(L);if(V)return l.stopPropagation(),q.show(),void q._selectMenuItem(l);q._isShown()&&(l.stopPropagation(),q.hide(),L.focus())}}Y.on(document,xe,pt,fs.dataApiKeydownHandler),Y.on(document,xe,Qn,fs.dataApiKeydownHandler),Y.on(document,ie,fs.clearMenus),Y.on(document,Ot,fs.clearMenus),Y.on(document,ie,pt,function(_){_.preventDefault(),fs.getOrCreateInstance(this).toggle()}),M(fs);const wm="backdrop",bm="show",Am=`mousedown.bs.${wm}`,Yb={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Xb={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Im extends At{constructor(l){super(),this._config=this._getConfig(l),this._isAppended=!1,this._element=null}static get Default(){return Yb}static get DefaultType(){return Xb}static get NAME(){return wm}show(l){if(!this._config.isVisible)return void R(l);this._append();const p=this._getElement();this._config.isAnimated&&O(p),p.classList.add(bm),this._emulateAnimation(()=>{R(l)})}hide(l){this._config.isVisible?(this._getElement().classList.remove(bm),this._emulateAnimation(()=>{this.dispose(),R(l)})):R(l)}dispose(){this._isAppended&&(Y.off(this._element,Am),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const l=document.createElement("div");l.className=this._config.className,this._config.isAnimated&&l.classList.add("fade"),this._element=l}return this._element}_configAfterMerge(l){return l.rootElement=h(l.rootElement),l}_append(){if(this._isAppended)return;const l=this._getElement();this._config.rootElement.append(l),Y.on(l,Am,()=>{R(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(l){x(l,this._getElement(),this._config.isAnimated)}}const Ll=".bs.focustrap",Jb=`focusin${Ll}`,Zb=`keydown.tab${Ll}`,Cm="backward",eA={autofocus:!0,trapElement:null},tA={autofocus:"boolean",trapElement:"element"};class Sm extends At{constructor(l){super(),this._config=this._getConfig(l),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return eA}static get DefaultType(){return tA}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Y.off(document,Ll),Y.on(document,Jb,l=>this._handleFocusin(l)),Y.on(document,Zb,l=>this._handleKeydown(l)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Y.off(document,Ll))}_handleFocusin(l){const{trapElement:p}=this._config;if(l.target===document||l.target===p||p.contains(l.target))return;const v=W.focusableChildren(p);v.length===0?p.focus():this._lastTabNavDirection===Cm?v[v.length-1].focus():v[0].focus()}_handleKeydown(l){l.key==="Tab"&&(this._lastTabNavDirection=l.shiftKey?Cm:"forward")}}const Rm=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Pm=".sticky-top",Ml="padding-right",km="margin-right";class of{constructor(){this._element=document.body}getWidth(){const l=document.documentElement.clientWidth;return Math.abs(window.innerWidth-l)}hide(){const l=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ml,p=>p+l),this._setElementAttributes(Rm,Ml,p=>p+l),this._setElementAttributes(Pm,km,p=>p-l)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ml),this._resetElementAttributes(Rm,Ml),this._resetElementAttributes(Pm,km)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(l,p,v){const V=this.getWidth();this._applyManipulationCallback(l,L=>{if(L!==this._element&&window.innerWidth>L.clientWidth+V)return;this._saveInitialAttribute(L,p);const q=window.getComputedStyle(L).getPropertyValue(p);L.style.setProperty(p,`${v(Number.parseFloat(q))}px`)})}_saveInitialAttribute(l,p){const v=l.style.getPropertyValue(p);v&&kt.setDataAttribute(l,p,v)}_resetElementAttributes(l,p){this._applyManipulationCallback(l,v=>{const V=kt.getDataAttribute(v,p);V!==null?(kt.removeDataAttribute(v,p),v.style.setProperty(p,V)):v.style.removeProperty(p)})}_applyManipulationCallback(l,p){if(u(l))p(l);else for(const v of W.find(l,this._element))p(v)}}const Yn=".bs.modal",nA=`hide${Yn}`,sA=`hidePrevented${Yn}`,Nm=`hidden${Yn}`,Om=`show${Yn}`,rA=`shown${Yn}`,iA=`resize${Yn}`,oA=`click.dismiss${Yn}`,aA=`mousedown.dismiss${Yn}`,cA=`keydown.dismiss${Yn}`,lA=`click${Yn}.data-api`,Dm="modal-open",xm="show",af="modal-static",uA={backdrop:!0,focus:!0,keyboard:!0},hA={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Bi extends G{constructor(l,p){super(l,p),this._dialog=W.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new of,this._addEventListeners()}static get Default(){return uA}static get DefaultType(){return hA}static get NAME(){return"modal"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||this._isTransitioning||Y.trigger(this._element,Om,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Dm),this._adjustDialog(),this._backdrop.show(()=>this._showElement(l)))}hide(){this._isShown&&!this._isTransitioning&&(Y.trigger(this._element,nA).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(xm),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Y.off(window,Yn),Y.off(this._dialog,Yn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Im({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Sm({trapElement:this._element})}_showElement(l){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const p=W.findOne(".modal-body",this._dialog);p&&(p.scrollTop=0),O(this._element),this._element.classList.add(xm),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Y.trigger(this._element,rA,{relatedTarget:l})},this._dialog,this._isAnimated())}_addEventListeners(){Y.on(this._element,cA,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Y.on(window,iA,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Y.on(this._element,aA,l=>{Y.one(this._element,oA,p=>{this._element===l.target&&this._element===p.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Dm),this._resetAdjustments(),this._scrollBar.reset(),Y.trigger(this._element,Nm)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Y.trigger(this._element,sA).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,p=this._element.style.overflowY;p==="hidden"||this._element.classList.contains(af)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(af),this._queueCallback(()=>{this._element.classList.remove(af),this._queueCallback(()=>{this._element.style.overflowY=p},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const l=this._element.scrollHeight>document.documentElement.clientHeight,p=this._scrollBar.getWidth(),v=p>0;if(v&&!l){const V=H()?"paddingLeft":"paddingRight";this._element.style[V]=`${p}px`}if(!v&&l){const V=H()?"paddingRight":"paddingLeft";this._element.style[V]=`${p}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(l,p){return this.each(function(){const v=Bi.getOrCreateInstance(this,l);if(typeof l=="string"){if(v[l]===void 0)throw new TypeError(`No method named "${l}"`);v[l](p)}})}}Y.on(document,lA,'[data-bs-toggle="modal"]',function(_){const l=W.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&_.preventDefault(),Y.one(l,Om,v=>{v.defaultPrevented||Y.one(l,Nm,()=>{d(this)&&this.focus()})});const p=W.findOne(".modal.show");p&&Bi.getInstance(p).hide(),Bi.getOrCreateInstance(l).toggle(this)}),ve(Bi),M(Bi);const sr=".bs.offcanvas",Vm=".data-api",fA=`load${sr}${Vm}`,Lm="show",Mm="showing",Fm="hiding",Um=".offcanvas.show",dA=`show${sr}`,pA=`shown${sr}`,mA=`hide${sr}`,Bm=`hidePrevented${sr}`,jm=`hidden${sr}`,gA=`resize${sr}`,_A=`click${sr}${Vm}`,yA=`keydown.dismiss${sr}`,vA={backdrop:!0,keyboard:!0,scroll:!1},EA={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class rr extends G{constructor(l,p){super(l,p),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return vA}static get DefaultType(){return EA}static get NAME(){return"offcanvas"}toggle(l){return this._isShown?this.hide():this.show(l)}show(l){this._isShown||Y.trigger(this._element,dA,{relatedTarget:l}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new of().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Mm),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Lm),this._element.classList.remove(Mm),Y.trigger(this._element,pA,{relatedTarget:l})},this._element,!0))}hide(){this._isShown&&(Y.trigger(this._element,mA).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Fm),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Lm,Fm),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new of().reset(),Y.trigger(this._element,jm)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const l=!!this._config.backdrop;return new Im({className:"offcanvas-backdrop",isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?()=>{this._config.backdrop!=="static"?this.hide():Y.trigger(this._element,Bm)}:null})}_initializeFocusTrap(){return new Sm({trapElement:this._element})}_addEventListeners(){Y.on(this._element,yA,l=>{l.key==="Escape"&&(this._config.keyboard?this.hide():Y.trigger(this._element,Bm))})}static jQueryInterface(l){return this.each(function(){const p=rr.getOrCreateInstance(this,l);if(typeof l=="string"){if(p[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);p[l](this)}})}}Y.on(document,_A,'[data-bs-toggle="offcanvas"]',function(_){const l=W.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&_.preventDefault(),m(this))return;Y.one(l,jm,()=>{d(this)&&this.focus()});const p=W.findOne(Um);p&&p!==l&&rr.getInstance(p).hide(),rr.getOrCreateInstance(l).toggle(this)}),Y.on(window,fA,()=>{for(const _ of W.find(Um))rr.getOrCreateInstance(_).show()}),Y.on(window,gA,()=>{for(const _ of W.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(_).position!=="fixed"&&rr.getOrCreateInstance(_).hide()}),ve(rr),M(rr);const $m={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},TA=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),wA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,bA=(_,l)=>{const p=_.nodeName.toLowerCase();return l.includes(p)?!TA.has(p)||!!wA.test(_.nodeValue):l.filter(v=>v instanceof RegExp).some(v=>v.test(p))},AA={allowList:$m,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},IA={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},CA={entry:"(string|element|function|null)",selector:"(string|element)"};class SA extends At{constructor(l){super(),this._config=this._getConfig(l)}static get Default(){return AA}static get DefaultType(){return IA}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(l=>this._resolvePossibleFunction(l)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(l){return this._checkContent(l),this._config.content={...this._config.content,...l},this}toHtml(){const l=document.createElement("div");l.innerHTML=this._maybeSanitize(this._config.template);for(const[V,L]of Object.entries(this._config.content))this._setContent(l,L,V);const p=l.children[0],v=this._resolvePossibleFunction(this._config.extraClass);return v&&p.classList.add(...v.split(" ")),p}_typeCheckConfig(l){super._typeCheckConfig(l),this._checkContent(l.content)}_checkContent(l){for(const[p,v]of Object.entries(l))super._typeCheckConfig({selector:p,entry:v},CA)}_setContent(l,p,v){const V=W.findOne(v,l);V&&((p=this._resolvePossibleFunction(p))?u(p)?this._putElementInTemplate(h(p),V):this._config.html?V.innerHTML=this._maybeSanitize(p):V.textContent=p:V.remove())}_maybeSanitize(l){return this._config.sanitize?(function(p,v,V){if(!p.length)return p;if(V&&typeof V=="function")return V(p);const L=new window.DOMParser().parseFromString(p,"text/html"),q=[].concat(...L.body.querySelectorAll("*"));for(const Z of q){const oe=Z.nodeName.toLowerCase();if(!Object.keys(v).includes(oe)){Z.remove();continue}const ge=[].concat(...Z.attributes),_e=[].concat(v["*"]||[],v[oe]||[]);for(const he of ge)bA(he,_e)||Z.removeAttribute(he.nodeName)}return L.body.innerHTML})(l,this._config.allowList,this._config.sanitizeFn):l}_resolvePossibleFunction(l){return R(l,[void 0,this])}_putElementInTemplate(l,p){if(this._config.html)return p.innerHTML="",void p.append(l);p.textContent=l.textContent}}const RA=new Set(["sanitize","allowList","sanitizeFn"]),cf="fade",Fl="show",PA=".tooltip-inner",Hm=".modal",qm="hide.bs.modal",ic="hover",lf="focus",uf="click",kA={AUTO:"auto",TOP:"top",RIGHT:H()?"left":"right",BOTTOM:"bottom",LEFT:H()?"right":"left"},NA={allowList:$m,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},OA={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ji extends G{constructor(l,p){if(ln===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(l,p),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return NA}static get DefaultType(){return OA}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Y.off(this._element.closest(Hm),qm,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const l=Y.trigger(this._element,this.constructor.eventName("show")),p=(y(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(l.defaultPrevented||!p)return;this._disposePopper();const v=this._getTipElement();this._element.setAttribute("aria-describedby",v.getAttribute("id"));const{container:V}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(V.append(v),Y.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(v),v.classList.add(Fl),"ontouchstart"in document.documentElement)for(const L of[].concat(...document.body.children))Y.on(L,"mouseover",E);this._queueCallback(()=>{Y.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Y.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Fl),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))Y.off(l,"mouseover",E);this._activeTrigger[uf]=!1,this._activeTrigger[lf]=!1,this._activeTrigger[ic]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Y.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(l){const p=this._getTemplateFactory(l).toHtml();if(!p)return null;p.classList.remove(cf,Fl),p.classList.add(`bs-${this.constructor.NAME}-auto`);const v=(V=>{do V+=Math.floor(1e6*Math.random());while(document.getElementById(V));return V})(this.constructor.NAME).toString();return p.setAttribute("id",v),this._isAnimated()&&p.classList.add(cf),p}setContent(l){this._newContent=l,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(l){return this._templateFactory?this._templateFactory.changeContent(l):this._templateFactory=new SA({...this._config,content:l,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[PA]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(l){return this.constructor.getOrCreateInstance(l.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(cf)}_isShown(){return this.tip&&this.tip.classList.contains(Fl)}_createPopper(l){const p=R(this._config.placement,[this,l,this._element]),v=kA[p.toUpperCase()];return qr(this._element,l,this._getPopperConfig(v))}_getOffset(){const{offset:l}=this._config;return typeof l=="string"?l.split(",").map(p=>Number.parseInt(p,10)):typeof l=="function"?p=>l(p,this._element):l}_resolvePossibleFunction(l){return R(l,[this._element,this._element])}_getPopperConfig(l){const p={placement:l,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:v=>{this._getTipElement().setAttribute("data-popper-placement",v.state.placement)}}]};return{...p,...R(this._config.popperConfig,[void 0,p])}}_setListeners(){const l=this._config.trigger.split(" ");for(const p of l)if(p==="click")Y.on(this._element,this.constructor.eventName("click"),this._config.selector,v=>{const V=this._initializeOnDelegatedTarget(v);V._activeTrigger[uf]=!(V._isShown()&&V._activeTrigger[uf]),V.toggle()});else if(p!=="manual"){const v=p===ic?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),V=p===ic?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Y.on(this._element,v,this._config.selector,L=>{const q=this._initializeOnDelegatedTarget(L);q._activeTrigger[L.type==="focusin"?lf:ic]=!0,q._enter()}),Y.on(this._element,V,this._config.selector,L=>{const q=this._initializeOnDelegatedTarget(L);q._activeTrigger[L.type==="focusout"?lf:ic]=q._element.contains(L.relatedTarget),q._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Y.on(this._element.closest(Hm),qm,this._hideModalHandler)}_fixTitle(){const l=this._element.getAttribute("title");l&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",l),this._element.setAttribute("data-bs-original-title",l),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(l,p){clearTimeout(this._timeout),this._timeout=setTimeout(l,p)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(l){const p=kt.getDataAttributes(this._element);for(const v of Object.keys(p))RA.has(v)&&delete p[v];return l={...p,...typeof l=="object"&&l?l:{}},l=this._mergeConfigObj(l),l=this._configAfterMerge(l),this._typeCheckConfig(l),l}_configAfterMerge(l){return l.container=l.container===!1?document.body:h(l.container),typeof l.delay=="number"&&(l.delay={show:l.delay,hide:l.delay}),typeof l.title=="number"&&(l.title=l.title.toString()),typeof l.content=="number"&&(l.content=l.content.toString()),l}_getDelegateConfig(){const l={};for(const[p,v]of Object.entries(this._config))this.constructor.Default[p]!==v&&(l[p]=v);return l.selector=!1,l.trigger="manual",l}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(l){return this.each(function(){const p=ji.getOrCreateInstance(this,l);if(typeof l=="string"){if(p[l]===void 0)throw new TypeError(`No method named "${l}"`);p[l]()}})}}M(ji);const DA=".popover-header",xA=".popover-body",VA={...ji.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},LA={...ji.DefaultType,content:"(null|string|element|function)"};class Ul extends ji{static get Default(){return VA}static get DefaultType(){return LA}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[DA]:this._getTitle(),[xA]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(l){return this.each(function(){const p=Ul.getOrCreateInstance(this,l);if(typeof l=="string"){if(p[l]===void 0)throw new TypeError(`No method named "${l}"`);p[l]()}})}}M(Ul);const hf=".bs.scrollspy",MA=`activate${hf}`,Wm=`click${hf}`,FA=`load${hf}.data-api`,Bo="active",ff="[href]",Gm=".nav-link",UA=`${Gm}, .nav-item > ${Gm}, .list-group-item`,BA={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},jA={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class oc extends G{constructor(l,p){super(l,p),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return BA}static get DefaultType(){return jA}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const l of this._observableSections.values())this._observer.observe(l)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(l){return l.target=h(l.target)||document.body,l.rootMargin=l.offset?`${l.offset}px 0px -30%`:l.rootMargin,typeof l.threshold=="string"&&(l.threshold=l.threshold.split(",").map(p=>Number.parseFloat(p))),l}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Y.off(this._config.target,Wm),Y.on(this._config.target,Wm,ff,l=>{const p=this._observableSections.get(l.target.hash);if(p){l.preventDefault();const v=this._rootElement||window,V=p.offsetTop-this._element.offsetTop;if(v.scrollTo)return void v.scrollTo({top:V,behavior:"smooth"});v.scrollTop=V}}))}_getNewObserver(){const l={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(p=>this._observerCallback(p),l)}_observerCallback(l){const p=q=>this._targetLinks.get(`#${q.target.id}`),v=q=>{this._previousScrollData.visibleEntryTop=q.target.offsetTop,this._process(p(q))},V=(this._rootElement||document.documentElement).scrollTop,L=V>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=V;for(const q of l){if(!q.isIntersecting){this._activeTarget=null,this._clearActiveClass(p(q));continue}const Z=q.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(L&&Z){if(v(q),!V)return}else L||Z||v(q)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const l=W.find(ff,this._config.target);for(const p of l){if(!p.hash||m(p))continue;const v=W.findOne(decodeURI(p.hash),this._element);d(v)&&(this._targetLinks.set(decodeURI(p.hash),p),this._observableSections.set(p.hash,v))}}_process(l){this._activeTarget!==l&&(this._clearActiveClass(this._config.target),this._activeTarget=l,l.classList.add(Bo),this._activateParents(l),Y.trigger(this._element,MA,{relatedTarget:l}))}_activateParents(l){if(l.classList.contains("dropdown-item"))W.findOne(".dropdown-toggle",l.closest(".dropdown")).classList.add(Bo);else for(const p of W.parents(l,".nav, .list-group"))for(const v of W.prev(p,UA))v.classList.add(Bo)}_clearActiveClass(l){l.classList.remove(Bo);const p=W.find(`${ff}.${Bo}`,l);for(const v of p)v.classList.remove(Bo)}static jQueryInterface(l){return this.each(function(){const p=oc.getOrCreateInstance(this,l);if(typeof l=="string"){if(p[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);p[l]()}})}}Y.on(window,FA,()=>{for(const _ of W.find('[data-bs-spy="scroll"]'))oc.getOrCreateInstance(_)}),M(oc);const $i=".bs.tab",$A=`hide${$i}`,HA=`hidden${$i}`,qA=`show${$i}`,WA=`shown${$i}`,GA=`click${$i}`,KA=`keydown${$i}`,zA=`load${$i}`,QA="ArrowLeft",Km="ArrowRight",YA="ArrowUp",zm="ArrowDown",df="Home",Qm="End",Hi="active",Ym="fade",pf="show",Xm=".dropdown-toggle",mf=`:not(${Xm})`,Jm='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',gf=`.nav-link${mf}, .list-group-item${mf}, [role="tab"]${mf}, ${Jm}`,XA=`.${Hi}[data-bs-toggle="tab"], .${Hi}[data-bs-toggle="pill"], .${Hi}[data-bs-toggle="list"]`;class qi extends G{constructor(l){super(l),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Y.on(this._element,KA,p=>this._keydown(p)))}static get NAME(){return"tab"}show(){const l=this._element;if(this._elemIsActive(l))return;const p=this._getActiveElem(),v=p?Y.trigger(p,$A,{relatedTarget:l}):null;Y.trigger(l,qA,{relatedTarget:p}).defaultPrevented||v&&v.defaultPrevented||(this._deactivate(p,l),this._activate(l,p))}_activate(l,p){l&&(l.classList.add(Hi),this._activate(W.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.removeAttribute("tabindex"),l.setAttribute("aria-selected",!0),this._toggleDropDown(l,!0),Y.trigger(l,WA,{relatedTarget:p})):l.classList.add(pf)},l,l.classList.contains(Ym)))}_deactivate(l,p){l&&(l.classList.remove(Hi),l.blur(),this._deactivate(W.getElementFromSelector(l)),this._queueCallback(()=>{l.getAttribute("role")==="tab"?(l.setAttribute("aria-selected",!1),l.setAttribute("tabindex","-1"),this._toggleDropDown(l,!1),Y.trigger(l,HA,{relatedTarget:p})):l.classList.remove(pf)},l,l.classList.contains(Ym)))}_keydown(l){if(![QA,Km,YA,zm,df,Qm].includes(l.key))return;l.stopPropagation(),l.preventDefault();const p=this._getChildren().filter(V=>!m(V));let v;if([df,Qm].includes(l.key))v=p[l.key===df?0:p.length-1];else{const V=[Km,zm].includes(l.key);v=j(p,l.target,V,!0)}v&&(v.focus({preventScroll:!0}),qi.getOrCreateInstance(v).show())}_getChildren(){return W.find(gf,this._parent)}_getActiveElem(){return this._getChildren().find(l=>this._elemIsActive(l))||null}_setInitialAttributes(l,p){this._setAttributeIfNotExists(l,"role","tablist");for(const v of p)this._setInitialAttributesOnChild(v)}_setInitialAttributesOnChild(l){l=this._getInnerElement(l);const p=this._elemIsActive(l),v=this._getOuterElement(l);l.setAttribute("aria-selected",p),v!==l&&this._setAttributeIfNotExists(v,"role","presentation"),p||l.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(l,"role","tab"),this._setInitialAttributesOnTargetPanel(l)}_setInitialAttributesOnTargetPanel(l){const p=W.getElementFromSelector(l);p&&(this._setAttributeIfNotExists(p,"role","tabpanel"),l.id&&this._setAttributeIfNotExists(p,"aria-labelledby",`${l.id}`))}_toggleDropDown(l,p){const v=this._getOuterElement(l);if(!v.classList.contains("dropdown"))return;const V=(L,q)=>{const Z=W.findOne(L,v);Z&&Z.classList.toggle(q,p)};V(Xm,Hi),V(".dropdown-menu",pf),v.setAttribute("aria-expanded",p)}_setAttributeIfNotExists(l,p,v){l.hasAttribute(p)||l.setAttribute(p,v)}_elemIsActive(l){return l.classList.contains(Hi)}_getInnerElement(l){return l.matches(gf)?l:W.findOne(gf,l)}_getOuterElement(l){return l.closest(".nav-item, .list-group-item")||l}static jQueryInterface(l){return this.each(function(){const p=qi.getOrCreateInstance(this);if(typeof l=="string"){if(p[l]===void 0||l.startsWith("_")||l==="constructor")throw new TypeError(`No method named "${l}"`);p[l]()}})}}Y.on(document,GA,Jm,function(_){["A","AREA"].includes(this.tagName)&&_.preventDefault(),m(this)||qi.getOrCreateInstance(this).show()}),Y.on(window,zA,()=>{for(const _ of W.find(XA))qi.getOrCreateInstance(_)}),M(qi);const Wr=".bs.toast",JA=`mouseover${Wr}`,ZA=`mouseout${Wr}`,eI=`focusin${Wr}`,tI=`focusout${Wr}`,nI=`hide${Wr}`,sI=`hidden${Wr}`,rI=`show${Wr}`,iI=`shown${Wr}`,Zm="hide",Bl="show",jl="showing",oI={animation:"boolean",autohide:"boolean",delay:"number"},aI={animation:!0,autohide:!0,delay:5e3};class ac extends G{constructor(l,p){super(l,p),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return aI}static get DefaultType(){return oI}static get NAME(){return"toast"}show(){Y.trigger(this._element,rI).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Zm),O(this._element),this._element.classList.add(Bl,jl),this._queueCallback(()=>{this._element.classList.remove(jl),Y.trigger(this._element,iI),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Y.trigger(this._element,nI).defaultPrevented||(this._element.classList.add(jl),this._queueCallback(()=>{this._element.classList.add(Zm),this._element.classList.remove(jl,Bl),Y.trigger(this._element,sI)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Bl),super.dispose()}isShown(){return this._element.classList.contains(Bl)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(l,p){switch(l.type){case"mouseover":case"mouseout":this._hasMouseInteraction=p;break;case"focusin":case"focusout":this._hasKeyboardInteraction=p}if(p)return void this._clearTimeout();const v=l.relatedTarget;this._element===v||this._element.contains(v)||this._maybeScheduleHide()}_setListeners(){Y.on(this._element,JA,l=>this._onInteraction(l,!0)),Y.on(this._element,ZA,l=>this._onInteraction(l,!1)),Y.on(this._element,eI,l=>this._onInteraction(l,!0)),Y.on(this._element,tI,l=>this._onInteraction(l,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(l){return this.each(function(){const p=ac.getOrCreateInstance(this,l);if(typeof l=="string"){if(p[l]===void 0)throw new TypeError(`No method named "${l}"`);p[l](this)}})}}return ve(ac),M(ac),{Alert:N,Button:J,Carousel:Vr,Collapse:Qs,Dropdown:fs,Modal:Bi,Offcanvas:rr,Popover:Ul,ScrollSpy:oc,Tab:qi,Toast:ac,Tooltip:ji}})})(cu)),cu.exports}_I();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function xn(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const $e={},Zi=[],jn=()=>{},qd=()=>!1,ba=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),oh=t=>t.startsWith("onUpdate:"),at=Object.assign,ah=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},yI=Object.prototype.hasOwnProperty,Xe=(t,e)=>yI.call(t,e),ye=Array.isArray,eo=t=>vo(t)==="[object Map]",wi=t=>vo(t)==="[object Set]",Qf=t=>vo(t)==="[object Date]",Ky=t=>vo(t)==="[object RegExp]",Ae=t=>typeof t=="function",ct=t=>typeof t=="string",is=t=>typeof t=="symbol",nt=t=>t!==null&&typeof t=="object",ch=t=>(nt(t)||Ae(t))&&Ae(t.then)&&Ae(t.catch),Wd=Object.prototype.toString,vo=t=>Wd.call(t),zy=t=>vo(t).slice(8,-1),rl=t=>vo(t)==="[object Object]",lh=t=>ct(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,to=xn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vI=xn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),uh=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},EI=/-\w/g,Xt=uh(t=>t.replace(EI,e=>e.slice(1).toUpperCase())),TI=/\B([A-Z])/g,gn=uh(t=>t.replace(TI,"-$1").toLowerCase()),Aa=uh(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zo=uh(t=>t?`on${Aa(t)}`:""),dn=(t,e)=>!Object.is(t,e),no=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Gd=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Mc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Fc=t=>{const e=ct(t)?Number(t):NaN;return isNaN(e)?t:e};let dg;const il=()=>dg||(dg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),wI=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function bI(t){return wI.test(t)?`__props.${t}`:`__props[${JSON.stringify(t)}]`}function AI(t,e){return t+JSON.stringify(e,(n,s)=>typeof s=="function"?s.toString():s)}const II={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},CI={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"CACHED",[-2]:"BAIL"},SI={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},RI={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},PI={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},kI="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",Kd=xn(kI),NI=Kd,pg=2;function OI(t,e=0,n=t.length){if(e=Math.max(0,Math.min(e,t.length)),n=Math.max(0,Math.min(n,t.length)),e>n)return"";let s=t.split(/(\r?\n)/);const r=s.filter((c,u)=>u%2===1);s=s.filter((c,u)=>u%2===0);let i=0;const o=[];for(let c=0;c<s.length;c++)if(i+=s[c].length+(r[c]&&r[c].length||0),i>=e){for(let u=c-pg;u<=c+pg||n>i;u++){if(u<0||u>=s.length)continue;const h=u+1;o.push(`${h}${" ".repeat(Math.max(3-String(h).length,0))}|  ${s[u]}`);const d=s[u].length,m=r[u]&&r[u].length||0;if(u===c){const y=e-(i-(d+m)),E=Math.max(1,n>i?d-y:n-e);o.push("   |  "+" ".repeat(y)+"^".repeat(E))}else if(u>c){if(n>i){const y=Math.max(Math.min(n-i,d),1);o.push("   |  "+"^".repeat(y))}i+=d+m}}break}return o.join(`
`)}function Ia(t){if(ye(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=ct(s)?Qy(s):Ia(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(ct(t)||nt(t))return t}const DI=/;(?![^(]*\))/g,xI=/:([^]+)/,VI=/\/\*[^]*?\*\//g;function Qy(t){const e={};return t.replace(VI,"").split(DI).forEach(n=>{if(n){const s=n.split(xI);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function LI(t){if(!t)return"";if(ct(t))return t;let e="";for(const n in t){const s=t[n];if(ct(s)||typeof s=="number"){const r=n.startsWith("--")?n:gn(n);e+=`${r}:${s};`}}return e}function Eo(t){let e="";if(ct(t))e=t;else if(ye(t))for(let n=0;n<t.length;n++){const s=Eo(t[n]);s&&(e+=s+" ")}else if(nt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Yy(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ct(e)&&(t.class=Eo(e)),n&&(t.style=Ia(n)),t}const MI="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",FI="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",UI="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",BI="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",jI=xn(MI),$I=xn(FI),HI=xn(UI),qI=xn(BI),Xy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jy=xn(Xy),WI=xn(Xy+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function zd(t){return!!t||t===""}const GI=/[>/="'\u0009\u000a\u000c\u0020]/,Ef={};function KI(t){if(Ef.hasOwnProperty(t))return Ef[t];const e=GI.test(t);return e&&console.error(`unsafe attribute name: ${t}`),Ef[t]=!e}const zI={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},QI=xn("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),YI=xn("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),XI=xn("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function JI(t){if(t==null)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"}const ZI=/["'&<>]/;function eC(t){const e=""+t,n=ZI.exec(e);if(!n)return e;let s="",r,i,o=0;for(i=n.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}o!==i&&(s+=e.slice(o,i)),o=i+1,s+=r}return o!==i?s+e.slice(o,i):s}const tC=/^-?>|<!--|-->|--!>|<!-$/g;function nC(t){return t.replace(tC,"")}const Zy=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function sC(t,e){return t.replace(Zy,n=>e?n==='"'?'\\\\\\"':`\\\\${n}`:`\\${n}`)}function rC(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=_r(t[s],e[s]);return n}function _r(t,e){if(t===e)return!0;let n=Qf(t),s=Qf(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=is(t),s=is(e),n||s)return t===e;if(n=ye(t),s=ye(e),n||s)return n&&s?rC(t,e):!1;if(n=nt(t),s=nt(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const c=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(c&&!u||!c&&u||!_r(t[o],e[o]))return!1}}return String(t)===String(e)}function ol(t,e){return t.findIndex(n=>_r(n,e))}const ev=t=>!!(t&&t.__v_isRef===!0),Ca=t=>ct(t)?t:t==null?"":ye(t)||nt(t)&&(t.toString===Wd||!Ae(t.toString))?ev(t)?Ca(t.value):JSON.stringify(t,tv,2):String(t),tv=(t,e)=>ev(e)?tv(t,e.value):eo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[Tf(s,i)+" =>"]=r,n),{})}:wi(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Tf(n))}:is(e)?Tf(e):nt(e)&&!ye(e)&&!rl(e)?String(e):e,Tf=(t,e="")=>{var n;return is(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};function nv(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}const VL=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:Zi,EMPTY_OBJ:$e,NO:qd,NOOP:jn,PatchFlagNames:CI,PatchFlags:II,ShapeFlags:SI,SlotFlags:RI,camelize:Xt,capitalize:Aa,cssVarNameEscapeSymbolsRE:Zy,def:Gd,escapeHtml:eC,escapeHtmlComment:nC,extend:at,genCacheKey:AI,genPropsAccessExp:bI,generateCodeFrame:OI,getEscapedCssVarName:sC,getGlobalThis:il,hasChanged:dn,hasOwn:Xe,hyphenate:gn,includeBooleanAttr:zd,invokeArrayFns:no,isArray:ye,isBooleanAttr:WI,isBuiltInDirective:vI,isDate:Qf,isFunction:Ae,isGloballyAllowed:Kd,isGloballyWhitelisted:NI,isHTMLTag:jI,isIntegerKey:lh,isKnownHtmlAttr:QI,isKnownMathMLAttr:XI,isKnownSvgAttr:YI,isMap:eo,isMathMLTag:HI,isModelListener:oh,isObject:nt,isOn:ba,isPlainObject:rl,isPromise:ch,isRegExp:Ky,isRenderableAttrValue:JI,isReservedProp:to,isSSRSafeAttrName:KI,isSVGTag:$I,isSet:wi,isSpecialBooleanAttr:Jy,isString:ct,isSymbol:is,isVoidTag:qI,looseEqual:_r,looseIndexOf:ol,looseToNumber:Mc,makeMap:xn,normalizeClass:Eo,normalizeCssVarValue:nv,normalizeProps:Yy,normalizeStyle:Ia,objectToString:Wd,parseStringStyle:Qy,propsToAttrMap:zI,remove:ah,slotFlagsText:PI,stringifyStyle:LI,toDisplayString:Ca,toHandlerKey:Zo,toNumber:Fc,toRawType:zy,toTypeString:vo},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hn;class Qd{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=hn,!e&&hn&&(this.index=(hn.scopes||(hn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=hn;try{return hn=this,e()}finally{hn=n}}}on(){++this._on===1&&(this.prevScope=hn,hn=this)}off(){this._on>0&&--this._on===0&&(hn=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function iC(t){return new Qd(t)}function sv(){return hn}function oC(t,e=!1){hn&&hn.cleanups.push(t)}let gt;const wf=new WeakSet;class Uc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,hn&&hn.active&&hn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,wf.has(this)&&(wf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||iv(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mg(this),ov(this);const e=gt,n=gs;gt=this,gs=!0;try{return this.fn()}finally{av(this),gt=e,gs=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Jd(e);this.deps=this.depsTail=void 0,mg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?wf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yf(this)&&this.run()}get dirty(){return Yf(this)}}let rv=0,wc,bc;function iv(t,e=!1){if(t.flags|=8,e){t.next=bc,bc=t;return}t.next=wc,wc=t}function Yd(){rv++}function Xd(){if(--rv>0)return;if(bc){let e=bc;for(bc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;wc;){let e=wc;for(wc=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function ov(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function av(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),Jd(s),aC(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Yf(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(cv(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function cv(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Bc)||(t.globalVersion=Bc,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Yf(t))))return;t.flags|=2;const e=t.dep,n=gt,s=gs;gt=t,gs=!0;try{ov(t);const r=t.fn(t._value);(e.version===0||dn(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{gt=n,gs=s,av(t),t.flags&=-3}}function Jd(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Jd(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function aC(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function cC(t,e){t.effect instanceof Uc&&(t=t.effect.fn);const n=new Uc(t);e&&at(n,e);try{n.run()}catch(r){throw n.stop(),r}const s=n.run.bind(n);return s.effect=n,s}function lC(t){t.effect.stop()}let gs=!0;const lv=[];function yr(){lv.push(gs),gs=!1}function vr(){const t=lv.pop();gs=t===void 0?!0:t}function mg(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=gt;gt=void 0;try{e()}finally{gt=n}}}let Bc=0;class uC{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class hh{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!gt||!gs||gt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==gt)n=this.activeLink=new uC(gt,this),gt.deps?(n.prevDep=gt.depsTail,gt.depsTail.nextDep=n,gt.depsTail=n):gt.deps=gt.depsTail=n,uv(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=gt.depsTail,n.nextDep=void 0,gt.depsTail.nextDep=n,gt.depsTail=n,gt.deps===n&&(gt.deps=s)}return n}trigger(e){this.version++,Bc++,this.notify(e)}notify(e){Yd();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Xd()}}}function uv(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)uv(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const bu=new WeakMap,so=Symbol(""),Xf=Symbol(""),jc=Symbol("");function pn(t,e,n){if(gs&&gt){let s=bu.get(t);s||bu.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new hh),r.map=s,r.key=n),r.track()}}function lr(t,e,n,s,r,i){const o=bu.get(t);if(!o){Bc++;return}const c=u=>{u&&u.trigger()};if(Yd(),e==="clear")o.forEach(c);else{const u=ye(t),h=u&&lh(n);if(u&&n==="length"){const d=Number(s);o.forEach((m,y)=>{(y==="length"||y===jc||!is(y)&&y>=d)&&c(m)})}else switch((n!==void 0||o.has(void 0))&&c(o.get(n)),h&&c(o.get(jc)),e){case"add":u?h&&c(o.get("length")):(c(o.get(so)),eo(t)&&c(o.get(Xf)));break;case"delete":u||(c(o.get(so)),eo(t)&&c(o.get(Xf)));break;case"set":eo(t)&&c(o.get(so));break}}Xd()}function hC(t,e){const n=bu.get(t);return n&&n.get(e)}function $o(t){const e=ze(t);return e===t?e:(pn(e,"iterate",jc),$n(t)?e:e.map(en))}function fh(t){return pn(t=ze(t),"iterate",jc),t}const fC={__proto__:null,[Symbol.iterator](){return bf(this,Symbol.iterator,en)},concat(...t){return $o(this).concat(...t.map(e=>ye(e)?$o(e):e))},entries(){return bf(this,"entries",t=>(t[1]=en(t[1]),t))},every(t,e){return ir(this,"every",t,e,void 0,arguments)},filter(t,e){return ir(this,"filter",t,e,n=>n.map(en),arguments)},find(t,e){return ir(this,"find",t,e,en,arguments)},findIndex(t,e){return ir(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ir(this,"findLast",t,e,en,arguments)},findLastIndex(t,e){return ir(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ir(this,"forEach",t,e,void 0,arguments)},includes(...t){return Af(this,"includes",t)},indexOf(...t){return Af(this,"indexOf",t)},join(t){return $o(this).join(t)},lastIndexOf(...t){return Af(this,"lastIndexOf",t)},map(t,e){return ir(this,"map",t,e,void 0,arguments)},pop(){return cc(this,"pop")},push(...t){return cc(this,"push",t)},reduce(t,...e){return gg(this,"reduce",t,e)},reduceRight(t,...e){return gg(this,"reduceRight",t,e)},shift(){return cc(this,"shift")},some(t,e){return ir(this,"some",t,e,void 0,arguments)},splice(...t){return cc(this,"splice",t)},toReversed(){return $o(this).toReversed()},toSorted(t){return $o(this).toSorted(t)},toSpliced(...t){return $o(this).toSpliced(...t)},unshift(...t){return cc(this,"unshift",t)},values(){return bf(this,"values",en)}};function bf(t,e,n){const s=fh(t),r=s[e]();return s!==t&&!$n(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=n(i.value)),i}),r}const dC=Array.prototype;function ir(t,e,n,s,r,i){const o=fh(t),c=o!==t&&!$n(t),u=o[e];if(u!==dC[e]){const m=u.apply(t,i);return c?en(m):m}let h=n;o!==t&&(c?h=function(m,y){return n.call(this,en(m),y,t)}:n.length>2&&(h=function(m,y){return n.call(this,m,y,t)}));const d=u.call(o,h,s);return c&&r?r(d):d}function gg(t,e,n,s){const r=fh(t);let i=n;return r!==t&&($n(t)?n.length>3&&(i=function(o,c,u){return n.call(this,o,c,u,t)}):i=function(o,c,u){return n.call(this,o,en(c),u,t)}),r[e](i,...s)}function Af(t,e,n){const s=ze(t);pn(s,"iterate",jc);const r=s[e](...n);return(r===-1||r===!1)&&mh(n[0])?(n[0]=ze(n[0]),s[e](...n)):r}function cc(t,e,n=[]){yr(),Yd();const s=ze(t)[e].apply(t,n);return Xd(),vr(),s}const pC=xn("__proto__,__v_isRef,__isVue"),hv=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(is));function mC(t){is(t)||(t=String(t));const e=ze(this);return pn(e,"has",t),e.hasOwnProperty(t)}class fv{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?yv:_v:i?gv:mv).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ye(e);if(!r){let u;if(o&&(u=fC[n]))return u;if(n==="hasOwnProperty")return mC}const c=Reflect.get(e,n,qt(e)?e:s);if((is(n)?hv.has(n):pC(n))||(r||pn(e,"get",n),i))return c;if(qt(c)){const u=o&&lh(n)?c:c.value;return r&&nt(u)?Au(u):u}return nt(c)?r?Au(c):Sa(c):c}}class dv extends fv{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const u=Er(i);if(!$n(s)&&!Er(s)&&(i=ze(i),s=ze(s)),!ye(e)&&qt(i)&&!qt(s))return u||(i.value=s),!0}const o=ye(e)&&lh(n)?Number(n)<e.length:Xe(e,n),c=Reflect.set(e,n,s,qt(e)?e:r);return e===ze(r)&&(o?dn(s,i)&&lr(e,"set",n,s):lr(e,"add",n,s)),c}deleteProperty(e,n){const s=Xe(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&lr(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!is(n)||!hv.has(n))&&pn(e,"has",n),s}ownKeys(e){return pn(e,"iterate",ye(e)?"length":so),Reflect.ownKeys(e)}}class pv extends fv{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const gC=new dv,_C=new pv,yC=new dv(!0),vC=new pv(!0),Jf=t=>t,Wl=t=>Reflect.getPrototypeOf(t);function EC(t,e,n){return function(...s){const r=this.__v_raw,i=ze(r),o=eo(i),c=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,h=r[t](...s),d=n?Jf:e?Iu:en;return!e&&pn(i,"iterate",u?Xf:so),{next(){const{value:m,done:y}=h.next();return y?{value:m,done:y}:{value:c?[d(m[0]),d(m[1])]:d(m),done:y}},[Symbol.iterator](){return this}}}}function Gl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function TC(t,e){const n={get(r){const i=this.__v_raw,o=ze(i),c=ze(r);t||(dn(r,c)&&pn(o,"get",r),pn(o,"get",c));const{has:u}=Wl(o),h=e?Jf:t?Iu:en;if(u.call(o,r))return h(i.get(r));if(u.call(o,c))return h(i.get(c));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&pn(ze(r),"iterate",so),r.size},has(r){const i=this.__v_raw,o=ze(i),c=ze(r);return t||(dn(r,c)&&pn(o,"has",r),pn(o,"has",c)),r===c?i.has(r):i.has(r)||i.has(c)},forEach(r,i){const o=this,c=o.__v_raw,u=ze(c),h=e?Jf:t?Iu:en;return!t&&pn(u,"iterate",so),c.forEach((d,m)=>r.call(i,h(d),h(m),o))}};return at(n,t?{add:Gl("add"),set:Gl("set"),delete:Gl("delete"),clear:Gl("clear")}:{add(r){!e&&!$n(r)&&!Er(r)&&(r=ze(r));const i=ze(this);return Wl(i).has.call(i,r)||(i.add(r),lr(i,"add",r,r)),this},set(r,i){!e&&!$n(i)&&!Er(i)&&(i=ze(i));const o=ze(this),{has:c,get:u}=Wl(o);let h=c.call(o,r);h||(r=ze(r),h=c.call(o,r));const d=u.call(o,r);return o.set(r,i),h?dn(i,d)&&lr(o,"set",r,i):lr(o,"add",r,i),this},delete(r){const i=ze(this),{has:o,get:c}=Wl(i);let u=o.call(i,r);u||(r=ze(r),u=o.call(i,r)),c&&c.call(i,r);const h=i.delete(r);return u&&lr(i,"delete",r,void 0),h},clear(){const r=ze(this),i=r.size!==0,o=r.clear();return i&&lr(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=EC(r,t,e)}),n}function dh(t,e){const n=TC(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Xe(n,r)&&r in s?n:s,r,i)}const wC={get:dh(!1,!1)},bC={get:dh(!1,!0)},AC={get:dh(!0,!1)},IC={get:dh(!0,!0)},mv=new WeakMap,gv=new WeakMap,_v=new WeakMap,yv=new WeakMap;function CC(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function SC(t){return t.__v_skip||!Object.isExtensible(t)?0:CC(zy(t))}function Sa(t){return Er(t)?t:ph(t,!1,gC,wC,mv)}function Zd(t){return ph(t,!1,yC,bC,gv)}function Au(t){return ph(t,!0,_C,AC,_v)}function RC(t){return ph(t,!0,vC,IC,yv)}function ph(t,e,n,s,r){if(!nt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=SC(t);if(i===0)return t;const o=r.get(t);if(o)return o;const c=new Proxy(t,i===2?s:n);return r.set(t,c),c}function oi(t){return Er(t)?oi(t.__v_raw):!!(t&&t.__v_isReactive)}function Er(t){return!!(t&&t.__v_isReadonly)}function $n(t){return!!(t&&t.__v_isShallow)}function mh(t){return t?!!t.__v_raw:!1}function ze(t){const e=t&&t.__v_raw;return e?ze(e):t}function vv(t){return!Xe(t,"__v_skip")&&Object.isExtensible(t)&&Gd(t,"__v_skip",!0),t}const en=t=>nt(t)?Sa(t):t,Iu=t=>nt(t)?Au(t):t;function qt(t){return t?t.__v_isRef===!0:!1}function ro(t){return Ev(t,!1)}function ep(t){return Ev(t,!0)}function Ev(t,e){return qt(t)?t:new PC(t,e)}class PC{constructor(e,n){this.dep=new hh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:ze(e),this._value=n?e:en(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||$n(e)||Er(e);e=s?e:ze(e),dn(e,n)&&(this._rawValue=e,this._value=s?e:en(e),this.dep.trigger())}}function kC(t){t.dep&&t.dep.trigger()}function Yt(t){return qt(t)?t.value:t}function NC(t){return Ae(t)?t():Yt(t)}const OC={get:(t,e,n)=>e==="__v_raw"?t:Yt(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return qt(r)&&!qt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function tp(t){return oi(t)?t:new Proxy(t,OC)}class DC{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new hh,{get:s,set:r}=e(n.track.bind(n),n.trigger.bind(n));this._get=s,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Tv(t){return new DC(t)}function xC(t){const e=ye(t)?new Array(t.length):{};for(const n in t)e[n]=wv(t,n);return e}class VC{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return hC(ze(this._object),this._key)}}class LC{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function MC(t,e,n){return qt(t)?t:Ae(t)?new LC(t):nt(t)&&arguments.length>1?wv(t,e,n):ro(t)}function wv(t,e,n){const s=t[e];return qt(s)?s:new VC(t,e,n)}class FC{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new hh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Bc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&gt!==this)return iv(this,!0),!0}get value(){const e=this.dep.track();return cv(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function UC(t,e,n=!1){let s,r;return Ae(t)?s=t:(s=t.get,r=t.set),new FC(s,r,n)}const BC={GET:"get",HAS:"has",ITERATE:"iterate"},jC={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Kl={},Cu=new WeakMap;let Xr;function $C(){return Xr}function bv(t,e=!1,n=Xr){if(n){let s=Cu.get(n);s||Cu.set(n,s=[]),s.push(t)}}function HC(t,e,n=$e){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:c,call:u}=n,h=x=>r?x:$n(x)||r===!1||r===0?ur(x,1):ur(x);let d,m,y,E,O=!1,D=!1;if(qt(t)?(m=()=>t.value,O=$n(t)):oi(t)?(m=()=>h(t),O=!0):ye(t)?(D=!0,O=t.some(x=>oi(x)||$n(x)),m=()=>t.map(x=>{if(qt(x))return x.value;if(oi(x))return h(x);if(Ae(x))return u?u(x,2):x()})):Ae(t)?e?m=u?()=>u(t,2):t:m=()=>{if(y){yr();try{y()}finally{vr()}}const x=Xr;Xr=d;try{return u?u(t,3,[E]):t(E)}finally{Xr=x}}:m=jn,e&&r){const x=m,j=r===!0?1/0:r;m=()=>ur(x(),j)}const U=sv(),H=()=>{d.stop(),U&&U.active&&ah(U.effects,d)};if(i&&e){const x=e;e=(...j)=>{x(...j),H()}}let M=D?new Array(t.length).fill(Kl):Kl;const R=x=>{if(!(!(d.flags&1)||!d.dirty&&!x))if(e){const j=d.run();if(r||O||(D?j.some((z,S)=>dn(z,M[S])):dn(j,M))){y&&y();const z=Xr;Xr=d;try{const S=[j,M===Kl?void 0:D&&M[0]===Kl?[]:M,E];M=j,u?u(e,3,S):e(...S)}finally{Xr=z}}}else d.run()};return c&&c(R),d=new Uc(m),d.scheduler=o?()=>o(R,!1):R,E=x=>bv(x,!1,d),y=d.onStop=()=>{const x=Cu.get(d);if(x){if(u)u(x,4);else for(const j of x)j();Cu.delete(d)}},e?s?R(!0):M=d.run():o?o(R.bind(null,!0),!0):d.run(),H.pause=d.pause.bind(d),H.resume=d.resume.bind(d),H.stop=H,H}function ur(t,e=1/0,n){if(e<=0||!nt(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,qt(t))ur(t.value,e,n);else if(ye(t))for(let s=0;s<t.length;s++)ur(t[s],e,n);else if(wi(t)||eo(t))t.forEach(s=>{ur(s,e,n)});else if(rl(t)){for(const s in t)ur(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&ur(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Av=[];function qC(t){Av.push(t)}function WC(){Av.pop()}function GC(t,e){}const KC={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},zC={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ra(t,e,n,s){try{return s?t(...s):t()}catch(r){To(r,e,n)}}function os(t,e,n,s){if(Ae(t)){const r=Ra(t,e,n,s);return r&&ch(r)&&r.catch(i=>{To(i,e,n)}),r}if(ye(t)){const r=[];for(let i=0;i<t.length;i++)r.push(os(t[i],e,n,s));return r}}function To(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||$e;if(e){let c=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const d=c.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](t,u,h)===!1)return}c=c.parent}if(i){yr(),Ra(i,null,10,[t,u,h]),vr();return}}QC(t,n,r,s,o)}function QC(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Cn=[];let Ls=-1;const ea=[];let Jr=null,qo=0;const Iv=Promise.resolve();let Su=null;function al(t){const e=Su||Iv;return t?e.then(this?t.bind(this):t):e}function YC(t){let e=Ls+1,n=Cn.length;for(;e<n;){const s=e+n>>>1,r=Cn[s],i=Hc(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function np(t){if(!(t.flags&1)){const e=Hc(t),n=Cn[Cn.length-1];!n||!(t.flags&2)&&e>=Hc(n)?Cn.push(t):Cn.splice(YC(e),0,t),t.flags|=1,Cv()}}function Cv(){Su||(Su=Iv.then(Sv))}function $c(t){ye(t)?ea.push(...t):Jr&&t.id===-1?Jr.splice(qo+1,0,t):t.flags&1||(ea.push(t),t.flags|=1),Cv()}function _g(t,e,n=Ls+1){for(;n<Cn.length;n++){const s=Cn[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Cn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ru(t){if(ea.length){const e=[...new Set(ea)].sort((n,s)=>Hc(n)-Hc(s));if(ea.length=0,Jr){Jr.push(...e);return}for(Jr=e,qo=0;qo<Jr.length;qo++){const n=Jr[qo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Jr=null,qo=0}}const Hc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Sv(t){try{for(Ls=0;Ls<Cn.length;Ls++){const e=Cn[Ls];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ra(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ls<Cn.length;Ls++){const e=Cn[Ls];e&&(e.flags&=-2)}Ls=-1,Cn.length=0,Ru(),Su=null,(Cn.length||ea.length)&&Sv()}}let Wo,zl=[];function Rv(t,e){var n,s;Wo=t,Wo?(Wo.enabled=!0,zl.forEach(({event:r,args:i})=>Wo.emit(r,...i)),zl=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{Rv(i,e)}),setTimeout(()=>{Wo||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,zl=[])},3e3)):zl=[]}let sn=null,gh=null;function qc(t){const e=sn;return sn=t,gh=t&&t.type.__scopeId||null,e}function XC(t){gh=t}function JC(){gh=null}const ZC=t=>Yi;function Yi(t,e=sn,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Kc(-1);const i=qc(e);let o;try{o=t(...r)}finally{qc(i),s._d&&Kc(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function eS(t,e){if(sn===null)return t;const n=fl(sn),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,c,u=$e]=e[r];i&&(Ae(i)&&(i={mounted:i,updated:i}),i.deep&&ur(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:c,modifiers:u}))}return t}function Ms(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const c=r[o];i&&(c.oldValue=i[o].value);let u=c.dir[s];u&&(yr(),os(u,n,8,[t.el,c,t,e]),vr())}}const Pv=Symbol("_vte"),kv=t=>t.__isTeleport,Ac=t=>t&&(t.disabled||t.disabled===""),yg=t=>t&&(t.defer||t.defer===""),vg=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Eg=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Zf=(t,e)=>{const n=t&&t.to;return ct(n)?e?e(n):null:n},Nv={name:"Teleport",__isTeleport:!0,process(t,e,n,s,r,i,o,c,u,h){const{mc:d,pc:m,pbc:y,o:{insert:E,querySelector:O,createText:D,createComment:U}}=h,H=Ac(e.props);let{shapeFlag:M,children:R,dynamicChildren:x}=e;if(t==null){const j=e.el=D(""),z=e.anchor=D("");E(j,n,s),E(z,n,s);const S=(T,I)=>{M&16&&d(R,T,I,r,i,o,c,u)},b=()=>{const T=e.target=Zf(e.props,O),I=Ov(T,e,D,E);T&&(o!=="svg"&&vg(T)?o="svg":o!=="mathml"&&Eg(T)&&(o="mathml"),r&&r.isCE&&(r.ce._teleportTargets||(r.ce._teleportTargets=new Set)).add(T),H||(S(T,I),lu(e,!1)))};H&&(S(n,z),lu(e,!0)),yg(e.props)?(e.el.__isMounted=!1,$t(()=>{b(),delete e.el.__isMounted},i)):b()}else{if(yg(e.props)&&t.el.__isMounted===!1){$t(()=>{Nv.process(t,e,n,s,r,i,o,c,u,h)},i);return}e.el=t.el,e.targetStart=t.targetStart;const j=e.anchor=t.anchor,z=e.target=t.target,S=e.targetAnchor=t.targetAnchor,b=Ac(t.props),T=b?n:z,I=b?j:S;if(o==="svg"||vg(z)?o="svg":(o==="mathml"||Eg(z))&&(o="mathml"),x?(y(t.dynamicChildren,x,T,r,i,o,c),dp(t,e,!0)):u||m(t,e,T,I,r,i,o,c,!1),H)b?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ql(e,n,j,h,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=Zf(e.props,O);P&&Ql(e,P,null,h,0)}else b&&Ql(e,z,S,h,1);lu(e,H)}},remove(t,e,n,{um:s,o:{remove:r}},i){const{shapeFlag:o,children:c,anchor:u,targetStart:h,targetAnchor:d,target:m,props:y}=t;if(m&&(r(h),r(d)),i&&r(u),o&16){const E=i||!Ac(y);for(let O=0;O<c.length;O++){const D=c[O];s(D,e,n,E,!!D.dynamicChildren)}}},move:Ql,hydrate:tS};function Ql(t,e,n,{o:{insert:s},m:r},i=2){i===0&&s(t.targetAnchor,e,n);const{el:o,anchor:c,shapeFlag:u,children:h,props:d}=t,m=i===2;if(m&&s(o,e,n),(!m||Ac(d))&&u&16)for(let y=0;y<h.length;y++)r(h[y],e,n,2);m&&s(c,e,n)}function tS(t,e,n,s,r,i,{o:{nextSibling:o,parentNode:c,querySelector:u,insert:h,createText:d}},m){function y(D,U,H,M){U.anchor=m(o(D),U,c(D),n,s,r,i),U.targetStart=H,U.targetAnchor=M}const E=e.target=Zf(e.props,u),O=Ac(e.props);if(E){const D=E._lpa||E.firstChild;if(e.shapeFlag&16)if(O)y(t,e,D,D&&o(D));else{e.anchor=o(t);let U=D;for(;U;){if(U&&U.nodeType===8){if(U.data==="teleport start anchor")e.targetStart=U;else if(U.data==="teleport anchor"){e.targetAnchor=U,E._lpa=e.targetAnchor&&o(e.targetAnchor);break}}U=o(U)}e.targetAnchor||Ov(E,e,d,h),m(D&&o(D),e,E,n,s,r,i)}lu(e,O)}else O&&e.shapeFlag&16&&y(t,e,t,o(t));return e.anchor&&o(e.anchor)}const nS=Nv;function lu(t,e){const n=t.ctx;if(n&&n.ut){let s,r;for(e?(s=t.el,r=t.anchor):(s=t.targetStart,r=t.targetAnchor);s&&s!==r;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function Ov(t,e,n,s){const r=e.targetStart=n(""),i=e.targetAnchor=n("");return r[Pv]=i,t&&(s(r,t),s(i,t)),i}const cr=Symbol("_leaveCb"),Yl=Symbol("_enterCb");function sp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Pa(()=>{t.isMounted=!0}),ul(()=>{t.isUnmounting=!0}),t}const es=[Function,Array],rp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:es,onEnter:es,onAfterEnter:es,onEnterCancelled:es,onBeforeLeave:es,onLeave:es,onAfterLeave:es,onLeaveCancelled:es,onBeforeAppear:es,onAppear:es,onAfterAppear:es,onAppearCancelled:es},Dv=t=>{const e=t.subTree;return e.component?Dv(e.component):e},sS={name:"BaseTransition",props:rp,setup(t,{slots:e}){const n=Vn(),s=sp();return()=>{const r=e.default&&_h(e.default(),!0);if(!r||!r.length)return;const i=xv(r),o=ze(t),{mode:c}=o;if(s.isLeaving)return If(i);const u=Tg(i);if(!u)return If(i);let h=aa(u,o,s,n,m=>h=m);u.type!==Vt&&Tr(u,h);let d=n.subTree&&Tg(n.subTree);if(d&&d.type!==Vt&&!ps(d,u)&&Dv(n).type!==Vt){let m=aa(d,o,s,n);if(Tr(d,m),c==="out-in"&&u.type!==Vt)return s.isLeaving=!0,m.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete m.afterLeave,d=void 0},If(i);c==="in-out"&&u.type!==Vt?m.delayLeave=(y,E,O)=>{const D=Lv(s,d);D[String(d.key)]=d,y[cr]=()=>{E(),y[cr]=void 0,delete h.delayedLeave,d=void 0},h.delayedLeave=()=>{O(),delete h.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return i}}};function xv(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==Vt){e=n;break}}return e}const Vv=sS;function Lv(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function aa(t,e,n,s,r){const{appear:i,mode:o,persisted:c=!1,onBeforeEnter:u,onEnter:h,onAfterEnter:d,onEnterCancelled:m,onBeforeLeave:y,onLeave:E,onAfterLeave:O,onLeaveCancelled:D,onBeforeAppear:U,onAppear:H,onAfterAppear:M,onAppearCancelled:R}=e,x=String(t.key),j=Lv(n,t),z=(T,I)=>{T&&os(T,s,9,I)},S=(T,I)=>{const P=I[1];z(T,I),ye(T)?T.every(k=>k.length<=1)&&P():T.length<=1&&P()},b={mode:o,persisted:c,beforeEnter(T){let I=u;if(!n.isMounted)if(i)I=U||u;else return;T[cr]&&T[cr](!0);const P=j[x];P&&ps(t,P)&&P.el[cr]&&P.el[cr](),z(I,[T])},enter(T){let I=h,P=d,k=m;if(!n.isMounted)if(i)I=H||h,P=M||d,k=R||m;else return;let A=!1;const be=T[Yl]=Le=>{A||(A=!0,Le?z(k,[T]):z(P,[T]),b.delayedLeave&&b.delayedLeave(),T[Yl]=void 0)};I?S(I,[T,be]):be()},leave(T,I){const P=String(t.key);if(T[Yl]&&T[Yl](!0),n.isUnmounting)return I();z(y,[T]);let k=!1;const A=T[cr]=be=>{k||(k=!0,I(),be?z(D,[T]):z(O,[T]),T[cr]=void 0,j[P]===t&&delete j[P])};j[P]=t,E?S(E,[T,A]):A()},clone(T){const I=aa(T,e,n,s,r);return r&&r(I),I}};return b}function If(t){if(ll(t))return t=Ws(t),t.children=null,t}function Tg(t){if(!ll(t))return kv(t.type)&&t.children?xv(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&Ae(n.default))return n.default()}}function Tr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Tr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function _h(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const c=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ht?(o.patchFlag&128&&r++,s=s.concat(_h(o.children,e,c))):(e||o.type!==Vt)&&s.push(c!=null?Ws(o,{key:c}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function cl(t,e){return Ae(t)?at({name:t.name},e,{setup:t}):t}function rS(){const t=Vn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function ip(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function iS(t){const e=Vn(),n=ep(null);if(e){const r=e.refs===$e?e.refs={}:e.refs;Object.defineProperty(r,t,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}const Pu=new WeakMap;function ta(t,e,n,s,r=!1){if(ye(t)){t.forEach((O,D)=>ta(O,e&&(ye(e)?e[D]:e),n,s,r));return}if(ai(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ta(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?fl(s.component):s.el,o=r?null:i,{i:c,r:u}=t,h=e&&e.r,d=c.refs===$e?c.refs={}:c.refs,m=c.setupState,y=ze(m),E=m===$e?qd:O=>Xe(y,O);if(h!=null&&h!==u){if(wg(e),ct(h))d[h]=null,E(h)&&(m[h]=null);else if(qt(h)){h.value=null;const O=e;O.k&&(d[O.k]=null)}}if(Ae(u))Ra(u,c,12,[o,d]);else{const O=ct(u),D=qt(u);if(O||D){const U=()=>{if(t.f){const H=O?E(u)?m[u]:d[u]:u.value;if(r)ye(H)&&ah(H,i);else if(ye(H))H.includes(i)||H.push(i);else if(O)d[u]=[i],E(u)&&(m[u]=d[u]);else{const M=[i];u.value=M,t.k&&(d[t.k]=M)}}else O?(d[u]=o,E(u)&&(m[u]=o)):D&&(u.value=o,t.k&&(d[t.k]=o))};if(o){const H=()=>{U(),Pu.delete(t)};H.id=-1,Pu.set(t,H),$t(H,n)}else wg(t),U()}}}function wg(t){const e=Pu.get(t);e&&(e.flags|=8,Pu.delete(t))}let bg=!1;const Ho=()=>{bg||(console.error("Hydration completed but contains mismatches."),bg=!0)},oS=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",aS=t=>t.namespaceURI.includes("MathML"),Xl=t=>{if(t.nodeType===1){if(oS(t))return"svg";if(aS(t))return"mathml"}},Xo=t=>t.nodeType===8;function cS(t){const{mt:e,p:n,o:{patchProp:s,createText:r,nextSibling:i,parentNode:o,remove:c,insert:u,createComment:h}}=t,d=(R,x)=>{if(!x.hasChildNodes()){n(null,R,x),Ru(),x._vnode=R;return}m(x.firstChild,R,null,null,null),Ru(),x._vnode=R},m=(R,x,j,z,S,b=!1)=>{b=b||!!x.dynamicChildren;const T=Xo(R)&&R.data==="[",I=()=>D(R,x,j,z,S,T),{type:P,ref:k,shapeFlag:A,patchFlag:be}=x;let Le=R.nodeType;x.el=R,be===-2&&(b=!1,x.dynamicChildren=null);let pe=null;switch(P){case ci:Le!==3?x.children===""?(u(x.el=r(""),o(R),R),pe=R):pe=I():(R.data!==x.children&&(Ho(),R.data=x.children),pe=i(R));break;case Vt:M(R)?(pe=i(R),H(x.el=R.content.firstChild,R,j)):Le!==8||T?pe=I():pe=i(R);break;case ao:if(T&&(R=i(R),Le=R.nodeType),Le===1||Le===3){pe=R;const Re=!x.children.length;for(let fe=0;fe<x.staticCount;fe++)Re&&(x.children+=pe.nodeType===1?pe.outerHTML:pe.data),fe===x.staticCount-1&&(x.anchor=pe),pe=i(pe);return T?i(pe):pe}else I();break;case Ht:T?pe=O(R,x,j,z,S,b):pe=I();break;default:if(A&1)(Le!==1||x.type.toLowerCase()!==R.tagName.toLowerCase())&&!M(R)?pe=I():pe=y(R,x,j,z,S,b);else if(A&6){x.slotScopeIds=S;const Re=o(R);if(T?pe=U(R):Xo(R)&&R.data==="teleport start"?pe=U(R,R.data,"teleport end"):pe=i(R),e(x,Re,null,j,z,Xl(Re),b),ai(x)&&!x.type.__asyncResolved){let fe;T?(fe=Ze(Ht),fe.anchor=pe?pe.previousSibling:Re.lastChild):fe=R.nodeType===3?pp(""):Ze("div"),fe.el=R,x.component.subTree=fe}}else A&64?Le!==8?pe=I():pe=x.type.hydrate(R,x,j,z,S,b,t,E):A&128&&(pe=x.type.hydrate(R,x,j,z,Xl(o(R)),S,b,t,m))}return k!=null&&ta(k,null,z,x),pe},y=(R,x,j,z,S,b)=>{b=b||!!x.dynamicChildren;const{type:T,props:I,patchFlag:P,shapeFlag:k,dirs:A,transition:be}=x,Le=T==="input"||T==="option";if(Le||P!==-1){A&&Ms(x,null,j,"created");let pe=!1;if(M(R)){pe=cE(null,be)&&j&&j.vnode.props&&j.vnode.props.appear;const fe=R.content.firstChild;if(pe){const st=fe.getAttribute("class");st&&(fe.$cls=st),be.beforeEnter(fe)}H(fe,R,j),x.el=R=fe}if(k&16&&!(I&&(I.innerHTML||I.textContent))){let fe=E(R.firstChild,x,R,j,z,S,b);for(;fe;){Jl(R,1)||Ho();const st=fe;fe=fe.nextSibling,c(st)}}else if(k&8){let fe=x.children;fe[0]===`
`&&(R.tagName==="PRE"||R.tagName==="TEXTAREA")&&(fe=fe.slice(1)),R.textContent!==fe&&(Jl(R,0)||Ho(),R.textContent=x.children)}if(I){if(Le||!b||P&48){const fe=R.tagName.includes("-");for(const st in I)(Le&&(st.endsWith("value")||st==="indeterminate")||ba(st)&&!to(st)||st[0]==="."||fe)&&s(R,st,null,I[st],void 0,j)}else if(I.onClick)s(R,"onClick",null,I.onClick,void 0,j);else if(P&4&&oi(I.style))for(const fe in I.style)I.style[fe]}let Re;(Re=I&&I.onVnodeBeforeMount)&&kn(Re,j,x),A&&Ms(x,null,j,"beforeMount"),((Re=I&&I.onVnodeMounted)||A||pe)&&_E(()=>{Re&&kn(Re,j,x),pe&&be.enter(R),A&&Ms(x,null,j,"mounted")},z)}return R.nextSibling},E=(R,x,j,z,S,b,T)=>{T=T||!!x.dynamicChildren;const I=x.children,P=I.length;for(let k=0;k<P;k++){const A=T?I[k]:I[k]=On(I[k]),be=A.type===ci;R?(be&&!T&&k+1<P&&On(I[k+1]).type===ci&&(u(r(R.data.slice(A.children.length)),j,i(R)),R.data=A.children),R=m(R,A,z,S,b,T)):be&&!A.children?u(A.el=r(""),j):(Jl(j,1)||Ho(),n(null,A,j,null,z,S,Xl(j),b))}return R},O=(R,x,j,z,S,b)=>{const{slotScopeIds:T}=x;T&&(S=S?S.concat(T):T);const I=o(R),P=E(i(R),x,I,j,z,S,b);return P&&Xo(P)&&P.data==="]"?i(x.anchor=P):(Ho(),u(x.anchor=h("]"),I,P),P)},D=(R,x,j,z,S,b)=>{if(Jl(R.parentElement,1)||Ho(),x.el=null,b){const P=U(R);for(;;){const k=i(R);if(k&&k!==P)c(k);else break}}const T=i(R),I=o(R);return c(R),n(null,x,I,T,j,z,Xl(I),S),j&&(j.vnode.el=x.el,wh(j,x.el)),T},U=(R,x="[",j="]")=>{let z=0;for(;R;)if(R=i(R),R&&Xo(R)&&(R.data===x&&z++,R.data===j)){if(z===0)return i(R);z--}return R},H=(R,x,j)=>{const z=x.parentNode;z&&z.replaceChild(R,x);let S=j;for(;S;)S.vnode.el===x&&(S.vnode.el=S.subTree.el=R),S=S.parent},M=R=>R.nodeType===1&&R.tagName==="TEMPLATE";return[d,m]}const Ag="data-allow-mismatch",lS={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Jl(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(Ag);)t=t.parentElement;const n=t&&t.getAttribute(Ag);if(n==null)return!1;if(n==="")return!0;{const s=n.split(",");return e===0&&s.includes("children")?!0:s.includes(lS[e])}}const uS=il().requestIdleCallback||(t=>setTimeout(t,1)),hS=il().cancelIdleCallback||(t=>clearTimeout(t)),fS=(t=1e4)=>e=>{const n=uS(e,{timeout:t});return()=>hS(n)};function dS(t){const{top:e,left:n,bottom:s,right:r}=t.getBoundingClientRect(),{innerHeight:i,innerWidth:o}=window;return(e>0&&e<i||s>0&&s<i)&&(n>0&&n<o||r>0&&r<o)}const pS=t=>(e,n)=>{const s=new IntersectionObserver(r=>{for(const i of r)if(i.isIntersecting){s.disconnect(),e();break}},t);return n(r=>{if(r instanceof Element){if(dS(r))return e(),s.disconnect(),!1;s.observe(r)}}),()=>s.disconnect()},mS=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},gS=(t=[])=>(e,n)=>{ct(t)&&(t=[t]);let s=!1;const r=o=>{s||(s=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{n(o=>{for(const c of t)o.removeEventListener(c,r)})};return n(o=>{for(const c of t)o.addEventListener(c,r,{once:!0})}),i};function _S(t,e){if(Xo(t)&&t.data==="["){let n=1,s=t.nextSibling;for(;s;){if(s.nodeType===1){if(e(s)===!1)break}else if(Xo(s))if(s.data==="]"){if(--n===0)break}else s.data==="["&&n++;s=s.nextSibling}}else e(t)}const ai=t=>!!t.type.__asyncLoader;function yS(t){Ae(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:s,delay:r=200,hydrate:i,timeout:o,suspensible:c=!0,onError:u}=t;let h=null,d,m=0;const y=()=>(m++,h=null,E()),E=()=>{let O;return h||(O=h=e().catch(D=>{if(D=D instanceof Error?D:new Error(String(D)),u)return new Promise((U,H)=>{u(D,()=>U(y()),()=>H(D),m+1)});throw D}).then(D=>O!==h&&h?h:(D&&(D.__esModule||D[Symbol.toStringTag]==="Module")&&(D=D.default),d=D,D)))};return cl({name:"AsyncComponentWrapper",__asyncLoader:E,__asyncHydrate(O,D,U){let H=!1;(D.bu||(D.bu=[])).push(()=>H=!0);const M=()=>{H||U()},R=i?()=>{const x=i(M,j=>_S(O,j));x&&(D.bum||(D.bum=[])).push(x)}:M;d?R():E().then(()=>!D.isUnmounted&&R())},get __asyncResolved(){return d},setup(){const O=tn;if(ip(O),d)return()=>Cf(d,O);const D=R=>{h=null,To(R,O,13,!s)};if(c&&O.suspense||la)return E().then(R=>()=>Cf(R,O)).catch(R=>(D(R),()=>s?Ze(s,{error:R}):null));const U=ro(!1),H=ro(),M=ro(!!r);return r&&setTimeout(()=>{M.value=!1},r),o!=null&&setTimeout(()=>{if(!U.value&&!H.value){const R=new Error(`Async component timed out after ${o}ms.`);D(R),H.value=R}},o),E().then(()=>{U.value=!0,O.parent&&ll(O.parent.vnode)&&O.parent.update()}).catch(R=>{D(R),H.value=R}),()=>{if(U.value&&d)return Cf(d,O);if(H.value&&s)return Ze(s,{error:H.value});if(n&&!M.value)return Ze(n)}}})}function Cf(t,e){const{ref:n,props:s,children:r,ce:i}=e.vnode,o=Ze(t,s,r);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const ll=t=>t.type.__isKeepAlive,vS={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=Vn(),s=n.ctx;if(!s.renderer)return()=>{const M=e.default&&e.default();return M&&M.length===1?M[0]:M};const r=new Map,i=new Set;let o=null;const c=n.suspense,{renderer:{p:u,m:h,um:d,o:{createElement:m}}}=s,y=m("div");s.activate=(M,R,x,j,z)=>{const S=M.component;h(M,R,x,0,c),u(S.vnode,M,R,x,S,c,j,M.slotScopeIds,z),$t(()=>{S.isDeactivated=!1,S.a&&no(S.a);const b=M.props&&M.props.onVnodeMounted;b&&kn(b,S.parent,M)},c)},s.deactivate=M=>{const R=M.component;Nu(R.m),Nu(R.a),h(M,y,null,1,c),$t(()=>{R.da&&no(R.da);const x=M.props&&M.props.onVnodeUnmounted;x&&kn(x,R.parent,M),R.isDeactivated=!0},c)};function E(M){Sf(M),d(M,n,c,!0)}function O(M){r.forEach((R,x)=>{const j=hd(R.type);j&&!M(j)&&D(x)})}function D(M){const R=r.get(M);R&&(!o||!ps(R,o))?E(R):o&&Sf(o),r.delete(M),i.delete(M)}oo(()=>[t.include,t.exclude],([M,R])=>{M&&O(x=>dc(M,x)),R&&O(x=>!dc(R,x))},{flush:"post",deep:!0});let U=null;const H=()=>{U!=null&&(Ou(n.subTree.type)?$t(()=>{r.set(U,Zl(n.subTree))},n.subTree.suspense):r.set(U,Zl(n.subTree)))};return Pa(H),vh(H),ul(()=>{r.forEach(M=>{const{subTree:R,suspense:x}=n,j=Zl(R);if(M.type===j.type&&M.key===j.key){Sf(j);const z=j.component.da;z&&$t(z,x);return}E(M)})}),()=>{if(U=null,!e.default)return o=null;const M=e.default(),R=M[0];if(M.length>1)return o=null,M;if(!wr(R)||!(R.shapeFlag&4)&&!(R.shapeFlag&128))return o=null,R;let x=Zl(R);if(x.type===Vt)return o=null,x;const j=x.type,z=hd(ai(x)?x.type.__asyncResolved||{}:j),{include:S,exclude:b,max:T}=t;if(S&&(!z||!dc(S,z))||b&&z&&dc(b,z))return x.shapeFlag&=-257,o=x,R;const I=x.key==null?j:x.key,P=r.get(I);return x.el&&(x=Ws(x),R.shapeFlag&128&&(R.ssContent=x)),U=I,P?(x.el=P.el,x.component=P.component,x.transition&&Tr(x,x.transition),x.shapeFlag|=512,i.delete(I),i.add(I)):(i.add(I),T&&i.size>parseInt(T,10)&&D(i.values().next().value)),x.shapeFlag|=256,o=x,Ou(R.type)?R:x}}},ES=vS;function dc(t,e){return ye(t)?t.some(n=>dc(n,e)):ct(t)?t.split(",").includes(e):Ky(t)?(t.lastIndex=0,t.test(e)):!1}function Mv(t,e){Uv(t,"a",e)}function Fv(t,e){Uv(t,"da",e)}function Uv(t,e,n=tn){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(yh(e,s,n),n){let r=n.parent;for(;r&&r.parent;)ll(r.parent.vnode)&&TS(s,e,n,r),r=r.parent}}function TS(t,e,n,s){const r=yh(e,t,s,!0);Eh(()=>{ah(s[e],r)},n)}function Sf(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Zl(t){return t.shapeFlag&128?t.ssContent:t}function yh(t,e,n=tn,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{yr();const c=ho(n),u=os(e,n,t,o);return c(),vr(),u});return s?r.unshift(i):r.push(i),i}}const Rr=t=>(e,n=tn)=>{(!la||t==="sp")&&yh(t,(...s)=>e(...s),n)},Bv=Rr("bm"),Pa=Rr("m"),op=Rr("bu"),vh=Rr("u"),ul=Rr("bum"),Eh=Rr("um"),jv=Rr("sp"),$v=Rr("rtg"),Hv=Rr("rtc");function qv(t,e=tn){yh("ec",t,e)}const ap="components",wS="directives";function Wv(t,e){return cp(ap,t,!0,e)||t}const Gv=Symbol.for("v-ndc");function bS(t){return ct(t)?cp(ap,t,!1)||t:t||Gv}function AS(t){return cp(wS,t)}function cp(t,e,n=!0,s=!1){const r=sn||tn;if(r){const i=r.type;if(t===ap){const c=hd(i,!1);if(c&&(c===e||c===Xt(e)||c===Aa(Xt(e))))return i}const o=Ig(r[t]||i[t],e)||Ig(r.appContext[t],e);return!o&&s?i:o}}function Ig(t,e){return t&&(t[e]||t[Xt(e)]||t[Aa(Xt(e))])}function Kv(t,e,n,s){let r;const i=n&&n[s],o=ye(t);if(o||ct(t)){const c=o&&oi(t);let u=!1,h=!1;c&&(u=!$n(t),h=Er(t),t=fh(t)),r=new Array(t.length);for(let d=0,m=t.length;d<m;d++)r[d]=e(u?h?Iu(en(t[d])):en(t[d]):t[d],d,void 0,i&&i[d])}else if(typeof t=="number"){r=new Array(t);for(let c=0;c<t;c++)r[c]=e(c+1,c,void 0,i&&i[c])}else if(nt(t))if(t[Symbol.iterator])r=Array.from(t,(c,u)=>e(c,u,void 0,i&&i[u]));else{const c=Object.keys(t);r=new Array(c.length);for(let u=0,h=c.length;u<h;u++){const d=c[u];r[u]=e(t[d],d,u,i&&i[u])}}else r=[];return n&&(n[s]=r),r}function IS(t,e){for(let n=0;n<e.length;n++){const s=e[n];if(ye(s))for(let r=0;r<s.length;r++)t[s[r].name]=s[r].fn;else s&&(t[s.name]=s.key?(...r)=>{const i=s.fn(...r);return i&&(i.key=s.key),i}:s.fn)}return t}function CS(t,e,n={},s,r){if(sn.ce||sn.parent&&ai(sn.parent)&&sn.parent.ce){const h=Object.keys(n).length>0;return e!=="default"&&(n.name=e),Sn(),ca(Ht,null,[Ze("slot",n,s&&s())],h?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),Sn();const o=i&&lp(i(n)),c=n.key||o&&o.key,u=ca(Ht,{key:(c&&!is(c)?c:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return!r&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}function lp(t){return t.some(e=>wr(e)?!(e.type===Vt||e.type===Ht&&!lp(e.children)):!0)?t:null}function SS(t,e){const n={};for(const s in t)n[e&&/[A-Z]/.test(s)?`on:${s}`:Zo(s)]=t[s];return n}const ed=t=>t?AE(t)?fl(t):ed(t.parent):null,Ic=at(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ed(t.parent),$root:t=>ed(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>up(t),$forceUpdate:t=>t.f||(t.f=()=>{np(t.update)}),$nextTick:t=>t.n||(t.n=al.bind(t.proxy)),$watch:t=>iR.bind(t)}),Rf=(t,e)=>t!==$e&&!t.__isScriptSetup&&Xe(t,e),td={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:c,appContext:u}=t;let h;if(e[0]!=="$"){const E=o[e];if(E!==void 0)switch(E){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Rf(s,e))return o[e]=1,s[e];if(r!==$e&&Xe(r,e))return o[e]=2,r[e];if((h=t.propsOptions[0])&&Xe(h,e))return o[e]=3,i[e];if(n!==$e&&Xe(n,e))return o[e]=4,n[e];nd&&(o[e]=0)}}const d=Ic[e];let m,y;if(d)return e==="$attrs"&&pn(t.attrs,"get",""),d(t);if((m=c.__cssModules)&&(m=m[e]))return m;if(n!==$e&&Xe(n,e))return o[e]=4,n[e];if(y=u.config.globalProperties,Xe(y,e))return y[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Rf(r,e)?(r[e]=n,!0):s!==$e&&Xe(s,e)?(s[e]=n,!0):Xe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i,type:o}},c){let u,h;return!!(n[c]||t!==$e&&c[0]!=="$"&&Xe(t,c)||Rf(e,c)||(u=i[0])&&Xe(u,c)||Xe(s,c)||Xe(Ic,c)||Xe(r.config.globalProperties,c)||(h=o.__cssModules)&&h[c])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},RS=at({},td,{get(t,e){if(e!==Symbol.unscopables)return td.get(t,e,t)},has(t,e){return e[0]!=="_"&&!Kd(e)}});function PS(){return null}function kS(){return null}function NS(t){}function OS(t){}function DS(){return null}function xS(){}function VS(t,e){return null}function LS(){return zv().slots}function MS(){return zv().attrs}function zv(t){const e=Vn();return e.setupContext||(e.setupContext=SE(e))}function Wc(t){return ye(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function FS(t,e){const n=Wc(t);for(const s in e){if(s.startsWith("__skip"))continue;let r=n[s];r?ye(r)||Ae(r)?r=n[s]={type:r,default:e[s]}:r.default=e[s]:r===null&&(r=n[s]={default:e[s]}),r&&e[`__skip_${s}`]&&(r.skipFactory=!0)}return n}function US(t,e){return!t||!e?t||e:ye(t)&&ye(e)?t.concat(e):at({},Wc(t),Wc(e))}function BS(t,e){const n={};for(const s in t)e.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>t[s]});return n}function jS(t){const e=Vn();let n=t();return cd(),ch(n)&&(n=n.catch(s=>{throw ho(e),s})),[n,()=>ho(e)]}let nd=!0;function $S(t){const e=up(t),n=t.proxy,s=t.ctx;nd=!1,e.beforeCreate&&Cg(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:c,provide:u,inject:h,created:d,beforeMount:m,mounted:y,beforeUpdate:E,updated:O,activated:D,deactivated:U,beforeDestroy:H,beforeUnmount:M,destroyed:R,unmounted:x,render:j,renderTracked:z,renderTriggered:S,errorCaptured:b,serverPrefetch:T,expose:I,inheritAttrs:P,components:k,directives:A,filters:be}=e;if(h&&HS(h,s,null),o)for(const Re in o){const fe=o[Re];Ae(fe)&&(s[Re]=fe.bind(n))}if(r){const Re=r.call(n,n);nt(Re)&&(t.data=Sa(Re))}if(nd=!0,i)for(const Re in i){const fe=i[Re],st=Ae(fe)?fe.bind(n,n):Ae(fe.get)?fe.get.bind(n,n):jn,Ln=!Ae(fe)&&Ae(fe.set)?fe.set.bind(n):jn,Y=Un({get:st,set:Ln});Object.defineProperty(s,Re,{enumerable:!0,configurable:!0,get:()=>Y.value,set:Pt=>Y.value=Pt})}if(c)for(const Re in c)Qv(c[Re],s,n,Re);if(u){const Re=Ae(u)?u.call(n):u;Reflect.ownKeys(Re).forEach(fe=>{Cc(fe,Re[fe])})}d&&Cg(d,t,"c");function pe(Re,fe){ye(fe)?fe.forEach(st=>Re(st.bind(n))):fe&&Re(fe.bind(n))}if(pe(Bv,m),pe(Pa,y),pe(op,E),pe(vh,O),pe(Mv,D),pe(Fv,U),pe(qv,b),pe(Hv,z),pe($v,S),pe(ul,M),pe(Eh,x),pe(jv,T),ye(I))if(I.length){const Re=t.exposed||(t.exposed={});I.forEach(fe=>{Object.defineProperty(Re,fe,{get:()=>n[fe],set:st=>n[fe]=st,enumerable:!0})})}else t.exposed||(t.exposed={});j&&t.render===jn&&(t.render=j),P!=null&&(t.inheritAttrs=P),k&&(t.components=k),A&&(t.directives=A),T&&ip(t)}function HS(t,e,n=jn){ye(t)&&(t=sd(t));for(const s in t){const r=t[s];let i;nt(r)?"default"in r?i=ss(r.from||s,r.default,!0):i=ss(r.from||s):i=ss(r),qt(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function Cg(t,e,n){os(ye(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Qv(t,e,n,s){let r=s.includes(".")?dE(n,s):()=>n[s];if(ct(t)){const i=e[t];Ae(i)&&oo(r,i)}else if(Ae(t))oo(r,t.bind(n));else if(nt(t))if(ye(t))t.forEach(i=>Qv(i,e,n,s));else{const i=Ae(t.handler)?t.handler.bind(n):e[t.handler];Ae(i)&&oo(r,i,t)}}function up(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,c=i.get(e);let u;return c?u=c:!r.length&&!n&&!s?u=e:(u={},r.length&&r.forEach(h=>ku(u,h,o,!0)),ku(u,e,o)),nt(e)&&i.set(e,u),u}function ku(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&ku(t,i,n,!0),r&&r.forEach(o=>ku(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const c=qS[o]||n&&n[o];t[o]=c?c(t[o],e[o]):e[o]}return t}const qS={data:Sg,props:Rg,emits:Rg,methods:pc,computed:pc,beforeCreate:An,created:An,beforeMount:An,mounted:An,beforeUpdate:An,updated:An,beforeDestroy:An,beforeUnmount:An,destroyed:An,unmounted:An,activated:An,deactivated:An,errorCaptured:An,serverPrefetch:An,components:pc,directives:pc,watch:GS,provide:Sg,inject:WS};function Sg(t,e){return e?t?function(){return at(Ae(t)?t.call(this,this):t,Ae(e)?e.call(this,this):e)}:e:t}function WS(t,e){return pc(sd(t),sd(e))}function sd(t){if(ye(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function An(t,e){return t?[...new Set([].concat(t,e))]:e}function pc(t,e){return t?at(Object.create(null),t,e):e}function Rg(t,e){return t?ye(t)&&ye(e)?[...new Set([...t,...e])]:at(Object.create(null),Wc(t),Wc(e??{})):e}function GS(t,e){if(!t)return e;if(!e)return t;const n=at(Object.create(null),t);for(const s in e)n[s]=An(t[s],e[s]);return n}function Yv(){return{app:null,config:{isNativeTag:qd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let KS=0;function zS(t,e){return function(s,r=null){Ae(s)||(s=at({},s)),r!=null&&!nt(r)&&(r=null);const i=Yv(),o=new WeakSet,c=[];let u=!1;const h=i.app={_uid:KS++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:PE,get config(){return i.config},set config(d){},use(d,...m){return o.has(d)||(d&&Ae(d.install)?(o.add(d),d.install(h,...m)):Ae(d)&&(o.add(d),d(h,...m))),h},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),h},component(d,m){return m?(i.components[d]=m,h):i.components[d]},directive(d,m){return m?(i.directives[d]=m,h):i.directives[d]},mount(d,m,y){if(!u){const E=h._ceVNode||Ze(s,r);return E.appContext=i,y===!0?y="svg":y===!1&&(y=void 0),m&&e?e(E,d):t(E,d,y),u=!0,h._container=d,d.__vue_app__=h,fl(E.component)}},onUnmount(d){c.push(d)},unmount(){u&&(os(c,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(d,m){return i.provides[d]=m,h},runWithContext(d){const m=io;io=h;try{return d()}finally{io=m}}};return h}}let io=null;function Cc(t,e){if(tn){let n=tn.provides;const s=tn.parent&&tn.parent.provides;s===n&&(n=tn.provides=Object.create(s)),n[t]=e}}function ss(t,e,n=!1){const s=Vn();if(s||io){let r=io?io._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Ae(e)?e.call(s&&s.proxy):e}}function QS(){return!!(Vn()||io)}const Xv={},Jv=()=>Object.create(Xv),Zv=t=>Object.getPrototypeOf(t)===Xv;function YS(t,e,n,s=!1){const r={},i=Jv();t.propsDefaults=Object.create(null),eE(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Zd(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function XS(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,c=ze(r),[u]=t.propsOptions;let h=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let m=0;m<d.length;m++){let y=d[m];if(Th(t.emitsOptions,y))continue;const E=e[y];if(u)if(Xe(i,y))E!==i[y]&&(i[y]=E,h=!0);else{const O=Xt(y);r[O]=rd(u,c,O,E,t,!1)}else E!==i[y]&&(i[y]=E,h=!0)}}}else{eE(t,e,r,i)&&(h=!0);let d;for(const m in c)(!e||!Xe(e,m)&&((d=gn(m))===m||!Xe(e,d)))&&(u?n&&(n[m]!==void 0||n[d]!==void 0)&&(r[m]=rd(u,c,m,void 0,t,!0)):delete r[m]);if(i!==c)for(const m in i)(!e||!Xe(e,m))&&(delete i[m],h=!0)}h&&lr(t.attrs,"set","")}function eE(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,c;if(e)for(let u in e){if(to(u))continue;const h=e[u];let d;r&&Xe(r,d=Xt(u))?!i||!i.includes(d)?n[d]=h:(c||(c={}))[d]=h:Th(t.emitsOptions,u)||(!(u in s)||h!==s[u])&&(s[u]=h,o=!0)}if(i){const u=ze(n),h=c||$e;for(let d=0;d<i.length;d++){const m=i[d];n[m]=rd(r,u,m,h[m],t,!Xe(h,m))}}return o}function rd(t,e,n,s,r,i){const o=t[n];if(o!=null){const c=Xe(o,"default");if(c&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&Ae(u)){const{propsDefaults:h}=r;if(n in h)s=h[n];else{const d=ho(r);s=h[n]=u.call(null,e),d()}}else s=u;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!c?s=!1:o[1]&&(s===""||s===gn(n))&&(s=!0))}return s}const JS=new WeakMap;function tE(t,e,n=!1){const s=n?JS:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},c=[];let u=!1;if(!Ae(t)){const d=m=>{u=!0;const[y,E]=tE(m,e,!0);at(o,y),E&&c.push(...E)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!u)return nt(t)&&s.set(t,Zi),Zi;if(ye(i))for(let d=0;d<i.length;d++){const m=Xt(i[d]);Pg(m)&&(o[m]=$e)}else if(i)for(const d in i){const m=Xt(d);if(Pg(m)){const y=i[d],E=o[m]=ye(y)||Ae(y)?{type:y}:at({},y),O=E.type;let D=!1,U=!0;if(ye(O))for(let H=0;H<O.length;++H){const M=O[H],R=Ae(M)&&M.name;if(R==="Boolean"){D=!0;break}else R==="String"&&(U=!1)}else D=Ae(O)&&O.name==="Boolean";E[0]=D,E[1]=U,(D||Xe(E,"default"))&&c.push(m)}}const h=[o,c];return nt(t)&&s.set(t,h),h}function Pg(t){return t[0]!=="$"&&!to(t)}const hp=t=>t==="_"||t==="_ctx"||t==="$stable",fp=t=>ye(t)?t.map(On):[On(t)],ZS=(t,e,n)=>{if(e._n)return e;const s=Yi((...r)=>fp(e(...r)),n);return s._c=!1,s},nE=(t,e,n)=>{const s=t._ctx;for(const r in t){if(hp(r))continue;const i=t[r];if(Ae(i))e[r]=ZS(r,i,s);else if(i!=null){const o=fp(i);e[r]=()=>o}}},sE=(t,e)=>{const n=fp(e);t.slots.default=()=>n},rE=(t,e,n)=>{for(const s in e)(n||!hp(s))&&(t[s]=e[s])},eR=(t,e,n)=>{const s=t.slots=Jv();if(t.vnode.shapeFlag&32){const r=e._;r?(rE(s,e,n),n&&Gd(s,"_",r,!0)):nE(e,s)}else e&&sE(t,e)},tR=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=$e;if(s.shapeFlag&32){const c=e._;c?n&&c===1?i=!1:rE(r,e,n):(i=!e.$stable,nE(e,r)),o=e}else e&&(sE(t,e),o={default:1});if(i)for(const c in r)!hp(c)&&o[c]==null&&delete r[c]},$t=_E;function iE(t){return aE(t)}function oE(t){return aE(t,cS)}function aE(t,e){const n=il();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:c,createComment:u,setText:h,setElementText:d,parentNode:m,nextSibling:y,setScopeId:E=jn,insertStaticContent:O}=t,D=(C,N,B,J=null,K=null,ee=null,se=void 0,te=null,re=!!N.dynamicChildren)=>{if(C===N)return;C&&!ps(C,N)&&(J=G(C),Pt(C,K,ee,!0),C=null),N.patchFlag===-2&&(re=!1,N.dynamicChildren=null);const{type:ne,ref:Te,shapeFlag:ce}=N;switch(ne){case ci:U(C,N,B,J);break;case Vt:H(C,N,B,J);break;case ao:C==null&&M(N,B,J,se);break;case Ht:k(C,N,B,J,K,ee,se,te,re);break;default:ce&1?j(C,N,B,J,K,ee,se,te,re):ce&6?A(C,N,B,J,K,ee,se,te,re):(ce&64||ce&128)&&ne.process(C,N,B,J,K,ee,se,te,re,ve)}Te!=null&&K?ta(Te,C&&C.ref,ee,N||C,!N):Te==null&&C&&C.ref!=null&&ta(C.ref,null,ee,C,!0)},U=(C,N,B,J)=>{if(C==null)s(N.el=c(N.children),B,J);else{const K=N.el=C.el;N.children!==C.children&&h(K,N.children)}},H=(C,N,B,J)=>{C==null?s(N.el=u(N.children||""),B,J):N.el=C.el},M=(C,N,B,J)=>{[C.el,C.anchor]=O(C.children,N,B,J,C.el,C.anchor)},R=({el:C,anchor:N},B,J)=>{let K;for(;C&&C!==N;)K=y(C),s(C,B,J),C=K;s(N,B,J)},x=({el:C,anchor:N})=>{let B;for(;C&&C!==N;)B=y(C),r(C),C=B;r(N)},j=(C,N,B,J,K,ee,se,te,re)=>{N.type==="svg"?se="svg":N.type==="math"&&(se="mathml"),C==null?z(N,B,J,K,ee,se,te,re):T(C,N,K,ee,se,te,re)},z=(C,N,B,J,K,ee,se,te)=>{let re,ne;const{props:Te,shapeFlag:ce,transition:me,dirs:Ee}=C;if(re=C.el=o(C.type,ee,Te&&Te.is,Te),ce&8?d(re,C.children):ce&16&&b(C.children,re,null,J,K,Pf(C,ee),se,te),Ee&&Ms(C,null,J,"created"),S(re,C,C.scopeId,se,J),Te){for(const Ye in Te)Ye!=="value"&&!to(Ye)&&i(re,Ye,null,Te[Ye],ee,J);"value"in Te&&i(re,"value",null,Te.value,ee),(ne=Te.onVnodeBeforeMount)&&kn(ne,J,C)}Ee&&Ms(C,null,J,"beforeMount");const Fe=cE(K,me);Fe&&me.beforeEnter(re),s(re,N,B),((ne=Te&&Te.onVnodeMounted)||Fe||Ee)&&$t(()=>{ne&&kn(ne,J,C),Fe&&me.enter(re),Ee&&Ms(C,null,J,"mounted")},K)},S=(C,N,B,J,K)=>{if(B&&E(C,B),J)for(let ee=0;ee<J.length;ee++)E(C,J[ee]);if(K){let ee=K.subTree;if(N===ee||Ou(ee.type)&&(ee.ssContent===N||ee.ssFallback===N)){const se=K.vnode;S(C,se,se.scopeId,se.slotScopeIds,K.parent)}}},b=(C,N,B,J,K,ee,se,te,re=0)=>{for(let ne=re;ne<C.length;ne++){const Te=C[ne]=te?Zr(C[ne]):On(C[ne]);D(null,Te,N,B,J,K,ee,se,te)}},T=(C,N,B,J,K,ee,se)=>{const te=N.el=C.el;let{patchFlag:re,dynamicChildren:ne,dirs:Te}=N;re|=C.patchFlag&16;const ce=C.props||$e,me=N.props||$e;let Ee;if(B&&Gi(B,!1),(Ee=me.onVnodeBeforeUpdate)&&kn(Ee,B,N,C),Te&&Ms(N,C,B,"beforeUpdate"),B&&Gi(B,!0),(ce.innerHTML&&me.innerHTML==null||ce.textContent&&me.textContent==null)&&d(te,""),ne?I(C.dynamicChildren,ne,te,B,J,Pf(N,K),ee):se||fe(C,N,te,null,B,J,Pf(N,K),ee,!1),re>0){if(re&16)P(te,ce,me,B,K);else if(re&2&&ce.class!==me.class&&i(te,"class",null,me.class,K),re&4&&i(te,"style",ce.style,me.style,K),re&8){const Fe=N.dynamicProps;for(let Ye=0;Ye<Fe.length;Ye++){const Qe=Fe[Ye],It=ce[Qe],dt=me[Qe];(dt!==It||Qe==="value")&&i(te,Qe,It,dt,K,B)}}re&1&&C.children!==N.children&&d(te,N.children)}else!se&&ne==null&&P(te,ce,me,B,K);((Ee=me.onVnodeUpdated)||Te)&&$t(()=>{Ee&&kn(Ee,B,N,C),Te&&Ms(N,C,B,"updated")},J)},I=(C,N,B,J,K,ee,se)=>{for(let te=0;te<N.length;te++){const re=C[te],ne=N[te],Te=re.el&&(re.type===Ht||!ps(re,ne)||re.shapeFlag&198)?m(re.el):B;D(re,ne,Te,null,J,K,ee,se,!0)}},P=(C,N,B,J,K)=>{if(N!==B){if(N!==$e)for(const ee in N)!to(ee)&&!(ee in B)&&i(C,ee,N[ee],null,K,J);for(const ee in B){if(to(ee))continue;const se=B[ee],te=N[ee];se!==te&&ee!=="value"&&i(C,ee,te,se,K,J)}"value"in B&&i(C,"value",N.value,B.value,K)}},k=(C,N,B,J,K,ee,se,te,re)=>{const ne=N.el=C?C.el:c(""),Te=N.anchor=C?C.anchor:c("");let{patchFlag:ce,dynamicChildren:me,slotScopeIds:Ee}=N;Ee&&(te=te?te.concat(Ee):Ee),C==null?(s(ne,B,J),s(Te,B,J),b(N.children||[],B,Te,K,ee,se,te,re)):ce>0&&ce&64&&me&&C.dynamicChildren?(I(C.dynamicChildren,me,B,K,ee,se,te),(N.key!=null||K&&N===K.subTree)&&dp(C,N,!0)):fe(C,N,B,Te,K,ee,se,te,re)},A=(C,N,B,J,K,ee,se,te,re)=>{N.slotScopeIds=te,C==null?N.shapeFlag&512?K.ctx.activate(N,B,J,se,re):be(N,B,J,K,ee,se,re):Le(C,N,re)},be=(C,N,B,J,K,ee,se)=>{const te=C.component=bE(C,J,K);if(ll(C)&&(te.ctx.renderer=ve),IE(te,!1,se),te.asyncDep){if(K&&K.registerDep(te,pe,se),!C.el){const re=te.subTree=Ze(Vt);H(null,re,N,B),C.placeholder=re.el}}else pe(te,C,N,B,K,ee,se)},Le=(C,N,B)=>{const J=N.component=C.component;if(fR(C,N,B))if(J.asyncDep&&!J.asyncResolved){Re(J,N,B);return}else J.next=N,J.update();else N.el=C.el,J.vnode=N},pe=(C,N,B,J,K,ee,se)=>{const te=()=>{if(C.isMounted){let{next:ce,bu:me,u:Ee,parent:Fe,vnode:Ye}=C;{const Et=lE(C);if(Et){ce&&(ce.el=Ye.el,Re(C,ce,se)),Et.asyncDep.then(()=>{C.isUnmounted||te()});return}}let Qe=ce,It;Gi(C,!1),ce?(ce.el=Ye.el,Re(C,ce,se)):ce=Ye,me&&no(me),(It=ce.props&&ce.props.onVnodeBeforeUpdate)&&kn(It,Fe,ce,Ye),Gi(C,!0);const dt=uu(C),Nt=C.subTree;C.subTree=dt,D(Nt,dt,m(Nt.el),G(Nt),C,K,ee),ce.el=dt.el,Qe===null&&wh(C,dt.el),Ee&&$t(Ee,K),(It=ce.props&&ce.props.onVnodeUpdated)&&$t(()=>kn(It,Fe,ce,Ye),K)}else{let ce;const{el:me,props:Ee}=N,{bm:Fe,m:Ye,parent:Qe,root:It,type:dt}=C,Nt=ai(N);if(Gi(C,!1),Fe&&no(Fe),!Nt&&(ce=Ee&&Ee.onVnodeBeforeMount)&&kn(ce,Qe,N),Gi(C,!0),me&&rt){const Et=()=>{C.subTree=uu(C),rt(me,C.subTree,C,K,null)};Nt&&dt.__asyncHydrate?dt.__asyncHydrate(me,C,Et):Et()}else{It.ce&&It.ce._def.shadowRoot!==!1&&It.ce._injectChildStyle(dt);const Et=C.subTree=uu(C);D(null,Et,B,J,C,K,ee),N.el=Et.el}if(Ye&&$t(Ye,K),!Nt&&(ce=Ee&&Ee.onVnodeMounted)){const Et=N;$t(()=>kn(ce,Qe,Et),K)}(N.shapeFlag&256||Qe&&ai(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&C.a&&$t(C.a,K),C.isMounted=!0,N=B=J=null}};C.scope.on();const re=C.effect=new Uc(te);C.scope.off();const ne=C.update=re.run.bind(re),Te=C.job=re.runIfDirty.bind(re);Te.i=C,Te.id=C.uid,re.scheduler=()=>np(Te),Gi(C,!0),ne()},Re=(C,N,B)=>{N.component=C;const J=C.vnode.props;C.vnode=N,C.next=null,XS(C,N.props,J,B),tR(C,N.children,B),yr(),_g(C),vr()},fe=(C,N,B,J,K,ee,se,te,re=!1)=>{const ne=C&&C.children,Te=C?C.shapeFlag:0,ce=N.children,{patchFlag:me,shapeFlag:Ee}=N;if(me>0){if(me&128){Ln(ne,ce,B,J,K,ee,se,te,re);return}else if(me&256){st(ne,ce,B,J,K,ee,se,te,re);return}}Ee&8?(Te&16&&At(ne,K,ee),ce!==ne&&d(B,ce)):Te&16?Ee&16?Ln(ne,ce,B,J,K,ee,se,te,re):At(ne,K,ee,!0):(Te&8&&d(B,""),Ee&16&&b(ce,B,J,K,ee,se,te,re))},st=(C,N,B,J,K,ee,se,te,re)=>{C=C||Zi,N=N||Zi;const ne=C.length,Te=N.length,ce=Math.min(ne,Te);let me;for(me=0;me<ce;me++){const Ee=N[me]=re?Zr(N[me]):On(N[me]);D(C[me],Ee,B,null,K,ee,se,te,re)}ne>Te?At(C,K,ee,!0,!1,ce):b(N,B,J,K,ee,se,te,re,ce)},Ln=(C,N,B,J,K,ee,se,te,re)=>{let ne=0;const Te=N.length;let ce=C.length-1,me=Te-1;for(;ne<=ce&&ne<=me;){const Ee=C[ne],Fe=N[ne]=re?Zr(N[ne]):On(N[ne]);if(ps(Ee,Fe))D(Ee,Fe,B,null,K,ee,se,te,re);else break;ne++}for(;ne<=ce&&ne<=me;){const Ee=C[ce],Fe=N[me]=re?Zr(N[me]):On(N[me]);if(ps(Ee,Fe))D(Ee,Fe,B,null,K,ee,se,te,re);else break;ce--,me--}if(ne>ce){if(ne<=me){const Ee=me+1,Fe=Ee<Te?N[Ee].el:J;for(;ne<=me;)D(null,N[ne]=re?Zr(N[ne]):On(N[ne]),B,Fe,K,ee,se,te,re),ne++}}else if(ne>me)for(;ne<=ce;)Pt(C[ne],K,ee,!0),ne++;else{const Ee=ne,Fe=ne,Ye=new Map;for(ne=Fe;ne<=me;ne++){const wt=N[ne]=re?Zr(N[ne]):On(N[ne]);wt.key!=null&&Ye.set(wt.key,ne)}let Qe,It=0;const dt=me-Fe+1;let Nt=!1,Et=0;const as=new Array(dt);for(ne=0;ne<dt;ne++)as[ne]=0;for(ne=Ee;ne<=ce;ne++){const wt=C[ne];if(It>=dt){Pt(wt,K,ee,!0);continue}let En;if(wt.key!=null)En=Ye.get(wt.key);else for(Qe=Fe;Qe<=me;Qe++)if(as[Qe-Fe]===0&&ps(wt,N[Qe])){En=Qe;break}En===void 0?Pt(wt,K,ee,!0):(as[En-Fe]=ne+1,En>=Et?Et=En:Nt=!0,D(wt,N[En],B,null,K,ee,se,te,re),It++)}const ws=Nt?nR(as):Zi;for(Qe=ws.length-1,ne=dt-1;ne>=0;ne--){const wt=Fe+ne,En=N[wt],Ks=N[wt+1],Ci=wt+1<Te?Ks.el||Ks.placeholder:J;as[ne]===0?D(null,En,B,Ci,K,ee,se,te,re):Nt&&(Qe<0||ne!==ws[Qe]?Y(En,B,Ci,2):Qe--)}}},Y=(C,N,B,J,K=null)=>{const{el:ee,type:se,transition:te,children:re,shapeFlag:ne}=C;if(ne&6){Y(C.component.subTree,N,B,J);return}if(ne&128){C.suspense.move(N,B,J);return}if(ne&64){se.move(C,N,B,ve);return}if(se===Ht){s(ee,N,B);for(let ce=0;ce<re.length;ce++)Y(re[ce],N,B,J);s(C.anchor,N,B);return}if(se===ao){R(C,N,B);return}if(J!==2&&ne&1&&te)if(J===0)te.beforeEnter(ee),s(ee,N,B),$t(()=>te.enter(ee),K);else{const{leave:ce,delayLeave:me,afterLeave:Ee}=te,Fe=()=>{C.ctx.isUnmounted?r(ee):s(ee,N,B)},Ye=()=>{ee._isLeaving&&ee[cr](!0),ce(ee,()=>{Fe(),Ee&&Ee()})};me?me(ee,Fe,Ye):Ye()}else s(ee,N,B)},Pt=(C,N,B,J=!1,K=!1)=>{const{type:ee,props:se,ref:te,children:re,dynamicChildren:ne,shapeFlag:Te,patchFlag:ce,dirs:me,cacheIndex:Ee}=C;if(ce===-2&&(K=!1),te!=null&&(yr(),ta(te,null,B,C,!0),vr()),Ee!=null&&(N.renderCache[Ee]=void 0),Te&256){N.ctx.deactivate(C);return}const Fe=Te&1&&me,Ye=!ai(C);let Qe;if(Ye&&(Qe=se&&se.onVnodeBeforeUnmount)&&kn(Qe,N,C),Te&6)kt(C.component,B,J);else{if(Te&128){C.suspense.unmount(B,J);return}Fe&&Ms(C,null,N,"beforeUnmount"),Te&64?C.type.remove(C,N,B,ve,J):ne&&!ne.hasOnce&&(ee!==Ht||ce>0&&ce&64)?At(ne,N,B,!1,!0):(ee===Ht&&ce&384||!K&&Te&16)&&At(re,N,B),J&&Wn(C)}(Ye&&(Qe=se&&se.onVnodeUnmounted)||Fe)&&$t(()=>{Qe&&kn(Qe,N,C),Fe&&Ms(C,null,N,"unmounted")},B)},Wn=C=>{const{type:N,el:B,anchor:J,transition:K}=C;if(N===Ht){vn(B,J);return}if(N===ao){x(C);return}const ee=()=>{r(B),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(C.shapeFlag&1&&K&&!K.persisted){const{leave:se,delayLeave:te}=K,re=()=>se(B,ee);te?te(C.el,ee,re):re()}else ee()},vn=(C,N)=>{let B;for(;C!==N;)B=y(C),r(C),C=B;r(N)},kt=(C,N,B)=>{const{bum:J,scope:K,job:ee,subTree:se,um:te,m:re,a:ne}=C;Nu(re),Nu(ne),J&&no(J),K.stop(),ee&&(ee.flags|=8,Pt(se,C,N,B)),te&&$t(te,N),$t(()=>{C.isUnmounted=!0},N)},At=(C,N,B,J=!1,K=!1,ee=0)=>{for(let se=ee;se<C.length;se++)Pt(C[se],N,B,J,K)},G=C=>{if(C.shapeFlag&6)return G(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const N=y(C.anchor||C.el),B=N&&N[Pv];return B?y(B):N};let ue=!1;const W=(C,N,B)=>{C==null?N._vnode&&Pt(N._vnode,null,null,!0):D(N._vnode||null,C,N,null,null,null,B),N._vnode=C,ue||(ue=!0,_g(),Ru(),ue=!1)},ve={p:D,um:Pt,m:Y,r:Wn,mt:be,mc:b,pc:fe,pbc:I,n:G,o:t};let Ve,rt;return e&&([Ve,rt]=e(ve)),{render:W,hydrate:Ve,createApp:zS(W,Ve)}}function Pf({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Gi({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function cE(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function dp(t,e,n=!1){const s=t.children,r=e.children;if(ye(s)&&ye(r))for(let i=0;i<s.length;i++){const o=s[i];let c=r[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=r[i]=Zr(r[i]),c.el=o.el),!n&&c.patchFlag!==-2&&dp(o,c)),c.type===ci&&c.patchFlag!==-1&&(c.el=o.el),c.type===Vt&&!c.el&&(c.el=o.el)}}function nR(t){const e=t.slice(),n=[0];let s,r,i,o,c;const u=t.length;for(s=0;s<u;s++){const h=t[s];if(h!==0){if(r=n[n.length-1],t[r]<h){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)c=i+o>>1,t[n[c]]<h?i=c+1:o=c;h<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function lE(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:lE(e)}function Nu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const uE=Symbol.for("v-scx"),hE=()=>ss(uE);function sR(t,e){return hl(t,null,e)}function rR(t,e){return hl(t,null,{flush:"post"})}function fE(t,e){return hl(t,null,{flush:"sync"})}function oo(t,e,n){return hl(t,e,n)}function hl(t,e,n=$e){const{immediate:s,deep:r,flush:i,once:o}=n,c=at({},n),u=e&&s||!e&&i!=="post";let h;if(la){if(i==="sync"){const E=hE();h=E.__watcherHandles||(E.__watcherHandles=[])}else if(!u){const E=()=>{};return E.stop=jn,E.resume=jn,E.pause=jn,E}}const d=tn;c.call=(E,O,D)=>os(E,d,O,D);let m=!1;i==="post"?c.scheduler=E=>{$t(E,d&&d.suspense)}:i!=="sync"&&(m=!0,c.scheduler=(E,O)=>{O?E():np(E)}),c.augmentJob=E=>{e&&(E.flags|=4),m&&(E.flags|=2,d&&(E.id=d.uid,E.i=d))};const y=HC(t,e,c);return la&&(h?h.push(y):u&&y()),y}function iR(t,e,n){const s=this.proxy,r=ct(t)?t.includes(".")?dE(s,t):()=>s[t]:t.bind(s,s);let i;Ae(e)?i=e:(i=e.handler,n=e);const o=ho(this),c=hl(r,i.bind(s),n);return o(),c}function dE(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function oR(t,e,n=$e){const s=Vn(),r=Xt(e),i=gn(e),o=pE(t,r),c=Tv((u,h)=>{let d,m=$e,y;return fE(()=>{const E=t[r];dn(d,E)&&(d=E,h())}),{get(){return u(),n.get?n.get(d):d},set(E){const O=n.set?n.set(E):E;if(!dn(O,d)&&!(m!==$e&&dn(E,m)))return;const D=s.vnode.props;D&&(e in D||r in D||i in D)&&(`onUpdate:${e}`in D||`onUpdate:${r}`in D||`onUpdate:${i}`in D)||(d=E,h()),s.emit(`update:${e}`,O),dn(E,O)&&dn(E,m)&&!dn(O,y)&&h(),m=E,y=O}}});return c[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?o||$e:c,done:!1}:{done:!0}}}},c}const pE=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Xt(e)}Modifiers`]||t[`${gn(e)}Modifiers`];function aR(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||$e;let r=n;const i=e.startsWith("update:"),o=i&&pE(s,e.slice(7));o&&(o.trim&&(r=n.map(d=>ct(d)?d.trim():d)),o.number&&(r=n.map(Mc)));let c,u=s[c=Zo(e)]||s[c=Zo(Xt(e))];!u&&i&&(u=s[c=Zo(gn(e))]),u&&os(u,t,6,r);const h=s[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,os(h,t,6,r)}}const cR=new WeakMap;function mE(t,e,n=!1){const s=n?cR:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},c=!1;if(!Ae(t)){const u=h=>{const d=mE(h,e,!0);d&&(c=!0,at(o,d))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!c?(nt(t)&&s.set(t,null),null):(ye(i)?i.forEach(u=>o[u]=null):at(o,i),nt(t)&&s.set(t,o),o)}function Th(t,e){return!t||!ba(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xe(t,e[0].toLowerCase()+e.slice(1))||Xe(t,gn(e))||Xe(t,e))}function uu(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:c,emit:u,render:h,renderCache:d,props:m,data:y,setupState:E,ctx:O,inheritAttrs:D}=t,U=qc(t);let H,M;try{if(n.shapeFlag&4){const x=r||s,j=x;H=On(h.call(j,x,d,m,E,y,O)),M=c}else{const x=e;H=On(x.length>1?x(m,{attrs:c,slots:o,emit:u}):x(m,null)),M=e.props?c:uR(c)}}catch(x){Sc.length=0,To(x,t,1),H=Ze(Vt)}let R=H;if(M&&D!==!1){const x=Object.keys(M),{shapeFlag:j}=R;x.length&&j&7&&(i&&x.some(oh)&&(M=hR(M,i)),R=Ws(R,M,!1,!0))}return n.dirs&&(R=Ws(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&Tr(R,n.transition),H=R,qc(U),H}function lR(t,e=!0){let n;for(let s=0;s<t.length;s++){const r=t[s];if(wr(r)){if(r.type!==Vt||r.children==="v-if"){if(n)return;n=r}}else return}return n}const uR=t=>{let e;for(const n in t)(n==="class"||n==="style"||ba(n))&&((e||(e={}))[n]=t[n]);return e},hR=(t,e)=>{const n={};for(const s in t)(!oh(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function fR(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:c,patchFlag:u}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?kg(s,o,h):!!o;if(u&8){const d=e.dynamicProps;for(let m=0;m<d.length;m++){const y=d[m];if(o[y]!==s[y]&&!Th(h,y))return!0}}}else return(r||c)&&(!c||!c.$stable)?!0:s===o?!1:s?o?kg(s,o,h):!0:!!o;return!1}function kg(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Th(n,i))return!0}return!1}function wh({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Ou=t=>t.__isSuspense;let id=0;const dR={name:"Suspense",__isSuspense:!0,process(t,e,n,s,r,i,o,c,u,h){if(t==null)mR(e,n,s,r,i,o,c,u,h);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}gR(t,e,n,s,r,o,c,u,h)}},hydrate:_R,normalize:yR},pR=dR;function Gc(t,e){const n=t.props&&t.props[e];Ae(n)&&n()}function mR(t,e,n,s,r,i,o,c,u){const{p:h,o:{createElement:d}}=u,m=d("div"),y=t.suspense=gE(t,r,s,e,m,n,i,o,c,u);h(null,y.pendingBranch=t.ssContent,m,null,s,y,i,o),y.deps>0?(Gc(t,"onPending"),Gc(t,"onFallback"),h(null,t.ssFallback,e,n,s,null,i,o),na(y,t.ssFallback)):y.resolve(!1,!0)}function gR(t,e,n,s,r,i,o,c,{p:u,um:h,o:{createElement:d}}){const m=e.suspense=t.suspense;m.vnode=e,e.el=t.el;const y=e.ssContent,E=e.ssFallback,{activeBranch:O,pendingBranch:D,isInFallback:U,isHydrating:H}=m;if(D)m.pendingBranch=y,ps(D,y)?(u(D,y,m.hiddenContainer,null,r,m,i,o,c),m.deps<=0?m.resolve():U&&(H||(u(O,E,n,s,r,null,i,o,c),na(m,E)))):(m.pendingId=id++,H?(m.isHydrating=!1,m.activeBranch=D):h(D,r,m),m.deps=0,m.effects.length=0,m.hiddenContainer=d("div"),U?(u(null,y,m.hiddenContainer,null,r,m,i,o,c),m.deps<=0?m.resolve():(u(O,E,n,s,r,null,i,o,c),na(m,E))):O&&ps(O,y)?(u(O,y,n,s,r,m,i,o,c),m.resolve(!0)):(u(null,y,m.hiddenContainer,null,r,m,i,o,c),m.deps<=0&&m.resolve()));else if(O&&ps(O,y))u(O,y,n,s,r,m,i,o,c),na(m,y);else if(Gc(e,"onPending"),m.pendingBranch=y,y.shapeFlag&512?m.pendingId=y.component.suspenseId:m.pendingId=id++,u(null,y,m.hiddenContainer,null,r,m,i,o,c),m.deps<=0)m.resolve();else{const{timeout:M,pendingId:R}=m;M>0?setTimeout(()=>{m.pendingId===R&&m.fallback(E)},M):M===0&&m.fallback(E)}}function gE(t,e,n,s,r,i,o,c,u,h,d=!1){const{p:m,m:y,um:E,n:O,o:{parentNode:D,remove:U}}=h;let H;const M=vR(t);M&&e&&e.pendingBranch&&(H=e.pendingId,e.deps++);const R=t.props?Fc(t.props.timeout):void 0,x=i,j={vnode:t,parent:e,parentComponent:n,namespace:o,container:s,hiddenContainer:r,deps:0,pendingId:id++,timeout:typeof R=="number"?R:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(z=!1,S=!1){const{vnode:b,activeBranch:T,pendingBranch:I,pendingId:P,effects:k,parentComponent:A,container:be}=j;let Le=!1;j.isHydrating?j.isHydrating=!1:z||(Le=T&&I.transition&&I.transition.mode==="out-in",Le&&(T.transition.afterLeave=()=>{P===j.pendingId&&(y(I,be,i===x?O(T):i,0),$c(k))}),T&&(D(T.el)===be&&(i=O(T)),E(T,A,j,!0)),Le||y(I,be,i,0)),na(j,I),j.pendingBranch=null,j.isInFallback=!1;let pe=j.parent,Re=!1;for(;pe;){if(pe.pendingBranch){pe.effects.push(...k),Re=!0;break}pe=pe.parent}!Re&&!Le&&$c(k),j.effects=[],M&&e&&e.pendingBranch&&H===e.pendingId&&(e.deps--,e.deps===0&&!S&&e.resolve()),Gc(b,"onResolve")},fallback(z){if(!j.pendingBranch)return;const{vnode:S,activeBranch:b,parentComponent:T,container:I,namespace:P}=j;Gc(S,"onFallback");const k=O(b),A=()=>{j.isInFallback&&(m(null,z,I,k,T,null,P,c,u),na(j,z))},be=z.transition&&z.transition.mode==="out-in";be&&(b.transition.afterLeave=A),j.isInFallback=!0,E(b,T,null,!0),be||A()},move(z,S,b){j.activeBranch&&y(j.activeBranch,z,S,b),j.container=z},next(){return j.activeBranch&&O(j.activeBranch)},registerDep(z,S,b){const T=!!j.pendingBranch;T&&j.deps++;const I=z.vnode.el;z.asyncDep.catch(P=>{To(P,z,0)}).then(P=>{if(z.isUnmounted||j.isUnmounted||j.pendingId!==z.suspenseId)return;z.asyncResolved=!0;const{vnode:k}=z;ld(z,P,!1),I&&(k.el=I);const A=!I&&z.subTree.el;S(z,k,D(I||z.subTree.el),I?null:O(z.subTree),j,o,b),A&&U(A),wh(z,k.el),T&&--j.deps===0&&j.resolve()})},unmount(z,S){j.isUnmounted=!0,j.activeBranch&&E(j.activeBranch,n,z,S),j.pendingBranch&&E(j.pendingBranch,n,z,S)}};return j}function _R(t,e,n,s,r,i,o,c,u){const h=e.suspense=gE(e,s,n,t.parentNode,document.createElement("div"),null,r,i,o,c,!0),d=u(t,h.pendingBranch=e.ssContent,n,h,i,o);return h.deps===0&&h.resolve(!1,!0),d}function yR(t){const{shapeFlag:e,children:n}=t,s=e&32;t.ssContent=Ng(s?n.default:n),t.ssFallback=s?Ng(n.fallback):Ze(Vt)}function Ng(t){let e;if(Ae(t)){const n=uo&&t._c;n&&(t._d=!1,Sn()),t=t(),n&&(t._d=!0,e=_n,yE())}return ye(t)&&(t=lR(t)),t=On(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function _E(t,e){e&&e.pendingBranch?ye(t)?e.effects.push(...t):e.effects.push(t):$c(t)}function na(t,e){t.activeBranch=e;const{vnode:n,parentComponent:s}=t;let r=e.el;for(;!r&&e.component;)e=e.component.subTree,r=e.el;n.el=r,s&&s.subTree===n&&(s.vnode.el=r,wh(s,r))}function vR(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ht=Symbol.for("v-fgt"),ci=Symbol.for("v-txt"),Vt=Symbol.for("v-cmt"),ao=Symbol.for("v-stc"),Sc=[];let _n=null;function Sn(t=!1){Sc.push(_n=t?null:[])}function yE(){Sc.pop(),_n=Sc[Sc.length-1]||null}let uo=1;function Kc(t,e=!1){uo+=t,t<0&&_n&&e&&(_n.hasOnce=!0)}function vE(t){return t.dynamicChildren=uo>0?_n||Zi:null,yE(),uo>0&&_n&&_n.push(t),t}function pr(t,e,n,s,r,i){return vE(ae(t,e,n,s,r,i,!0))}function ca(t,e,n,s,r){return vE(Ze(t,e,n,s,r,!0))}function wr(t){return t?t.__v_isVNode===!0:!1}function ps(t,e){return t.type===e.type&&t.key===e.key}function ER(t){}const EE=({key:t})=>t??null,hu=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ct(t)||qt(t)||Ae(t)?{i:sn,r:t,k:e,f:!!n}:t:null);function ae(t,e=null,n=null,s=0,r=null,i=t===Ht?0:1,o=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&EE(e),ref:e&&hu(e),scopeId:gh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:sn};return c?(mp(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=ct(n)?8:16),uo>0&&!o&&_n&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&_n.push(u),u}const Ze=TR;function TR(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Gv)&&(t=Vt),wr(t)){const c=Ws(t,e,!0);return n&&mp(c,n),uo>0&&!i&&_n&&(c.shapeFlag&6?_n[_n.indexOf(t)]=c:_n.push(c)),c.patchFlag=-2,c}if(PR(t)&&(t=t.__vccOpts),e){e=TE(e);let{class:c,style:u}=e;c&&!ct(c)&&(e.class=Eo(c)),nt(u)&&(mh(u)&&!ye(u)&&(u=at({},u)),e.style=Ia(u))}const o=ct(t)?1:Ou(t)?128:kv(t)?64:nt(t)?4:Ae(t)?2:0;return ae(t,e,n,s,r,o,i,!0)}function TE(t){return t?mh(t)||Zv(t)?at({},t):t:null}function Ws(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:c,transition:u}=t,h=e?wE(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&EE(h),ref:e&&e.ref?n&&i?ye(i)?i.concat(hu(e)):[i,hu(e)]:hu(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ht?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ws(t.ssContent),ssFallback:t.ssFallback&&Ws(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&s&&Tr(d,u.clone(d)),d}function pp(t=" ",e=0){return Ze(ci,null,t,e)}function wR(t,e){const n=Ze(ao,null,t);return n.staticCount=e,n}function od(t="",e=!1){return e?(Sn(),ca(Vt,null,t)):Ze(Vt,null,t)}function On(t){return t==null||typeof t=="boolean"?Ze(Vt):ye(t)?Ze(Ht,null,t.slice()):wr(t)?Zr(t):Ze(ci,null,String(t))}function Zr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ws(t)}function mp(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ye(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),mp(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Zv(e)?e._ctx=sn:r===3&&sn&&(sn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ae(e)?(e={default:e,_ctx:sn},n=32):(e=String(e),s&64?(n=16,e=[pp(e)]):n=8);t.children=e,t.shapeFlag|=n}function wE(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Eo([e.class,s.class]));else if(r==="style")e.style=Ia([e.style,s.style]);else if(ba(r)){const i=e[r],o=s[r];o&&i!==o&&!(ye(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function kn(t,e,n,s=null){os(t,e,7,[n,s])}const bR=Yv();let AR=0;function bE(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||bR,i={uid:AR++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Qd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tE(s,r),emitsOptions:mE(s,r),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:s.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=aR.bind(null,i),t.ce&&t.ce(i),i}let tn=null;const Vn=()=>tn||sn;let Du,ad;{const t=il(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Du=e("__VUE_INSTANCE_SETTERS__",n=>tn=n),ad=e("__VUE_SSR_SETTERS__",n=>la=n)}const ho=t=>{const e=tn;return Du(t),t.scope.on(),()=>{t.scope.off(),Du(e)}},cd=()=>{tn&&tn.scope.off(),Du(null)};function AE(t){return t.vnode.shapeFlag&4}let la=!1;function IE(t,e=!1,n=!1){e&&ad(e);const{props:s,children:r}=t.vnode,i=AE(t);YS(t,s,i,e),eR(t,r,n||e);const o=i?IR(t,e):void 0;return e&&ad(!1),o}function IR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,td);const{setup:s}=n;if(s){yr();const r=t.setupContext=s.length>1?SE(t):null,i=ho(t),o=Ra(s,t,0,[t.props,r]),c=ch(o);if(vr(),i(),(c||t.sp)&&!ai(t)&&ip(t),c){if(o.then(cd,cd),e)return o.then(u=>{ld(t,u,e)}).catch(u=>{To(u,t,0)});t.asyncDep=o}else ld(t,o,e)}else CE(t,e)}function ld(t,e,n){Ae(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:nt(e)&&(t.setupState=tp(e)),CE(t,n)}let xu,ud;function CR(t){xu=t,ud=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,RS))}}const SR=()=>!xu;function CE(t,e,n){const s=t.type;if(!t.render){if(!e&&xu&&!s.render){const r=s.template||up(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:c,compilerOptions:u}=s,h=at(at({isCustomElement:i,delimiters:c},o),u);s.render=xu(r,h)}}t.render=s.render||jn,ud&&ud(t)}{const r=ho(t);yr();try{$S(t)}finally{vr(),r()}}}const RR={get(t,e){return pn(t,"get",""),t[e]}};function SE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,RR),slots:t.slots,emit:t.emit,expose:e}}function fl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(tp(vv(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ic)return Ic[n](t)},has(e,n){return n in e||n in Ic}})):t.proxy}function hd(t,e=!0){return Ae(t)?t.displayName||t.name:t.name||e&&t.__name}function PR(t){return Ae(t)&&"__vccOpts"in t}const Un=(t,e)=>UC(t,e,la);function bh(t,e,n){try{Kc(-1);const s=arguments.length;return s===2?nt(e)&&!ye(e)?wr(e)?Ze(t,null,[e]):Ze(t,e):Ze(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&wr(n)&&(n=[n]),Ze(t,e,n))}finally{Kc(1)}}function kR(){}function NR(t,e,n,s){const r=n[s];if(r&&RE(r,t))return r;const i=e();return i.memo=t.slice(),i.cacheIndex=s,n[s]=i}function RE(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let s=0;s<n.length;s++)if(dn(n[s],e[s]))return!1;return uo>0&&_n&&_n.push(t),!0}const PE="3.5.22",OR=jn,DR=zC,xR=Wo,VR=Rv,LR={createComponentInstance:bE,setupComponent:IE,renderComponentRoot:uu,setCurrentRenderingInstance:qc,isVNode:wr,normalizeVNode:On,getComponentPublicInstance:fl,ensureValidVNode:lp,pushWarningContext:qC,popWarningContext:WC},MR=LR,FR=null,UR=null,BR=null;/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fd;const Og=typeof window<"u"&&window.trustedTypes;if(Og)try{fd=Og.createPolicy("vue",{createHTML:t=>t})}catch{}const kE=fd?t=>fd.createHTML(t):t=>t,jR="http://www.w3.org/2000/svg",$R="http://www.w3.org/1998/Math/MathML",ar=typeof document<"u"?document:null,Dg=ar&&ar.createElement("template"),HR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?ar.createElementNS(jR,t):e==="mathml"?ar.createElementNS($R,t):n?ar.createElement(t,{is:n}):ar.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>ar.createTextNode(t),createComment:t=>ar.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ar.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Dg.innerHTML=kE(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const c=Dg.content;if(s==="svg"||s==="mathml"){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}e.insertBefore(c,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Kr="transition",lc="animation",ua=Symbol("_vtc"),NE={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},OE=at({},rp,NE),qR=t=>(t.displayName="Transition",t.props=OE,t),WR=qR((t,{slots:e})=>bh(Vv,DE(t),e)),Ki=(t,e=[])=>{ye(t)?t.forEach(n=>n(...e)):t&&t(...e)},xg=t=>t?ye(t)?t.some(e=>e.length>1):t.length>1:!1;function DE(t){const e={};for(const k in t)k in NE||(e[k]=t[k]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:h=o,appearToClass:d=c,leaveFromClass:m=`${n}-leave-from`,leaveActiveClass:y=`${n}-leave-active`,leaveToClass:E=`${n}-leave-to`}=t,O=GR(r),D=O&&O[0],U=O&&O[1],{onBeforeEnter:H,onEnter:M,onEnterCancelled:R,onLeave:x,onLeaveCancelled:j,onBeforeAppear:z=H,onAppear:S=M,onAppearCancelled:b=R}=e,T=(k,A,be,Le)=>{k._enterCancelled=Le,Yr(k,A?d:c),Yr(k,A?h:o),be&&be()},I=(k,A)=>{k._isLeaving=!1,Yr(k,m),Yr(k,E),Yr(k,y),A&&A()},P=k=>(A,be)=>{const Le=k?S:M,pe=()=>T(A,k,be);Ki(Le,[A,pe]),Vg(()=>{Yr(A,k?u:i),Vs(A,k?d:c),xg(Le)||Lg(A,s,D,pe)})};return at(e,{onBeforeEnter(k){Ki(H,[k]),Vs(k,i),Vs(k,o)},onBeforeAppear(k){Ki(z,[k]),Vs(k,u),Vs(k,h)},onEnter:P(!1),onAppear:P(!0),onLeave(k,A){k._isLeaving=!0;const be=()=>I(k,A);Vs(k,m),k._enterCancelled?(Vs(k,y),dd(k)):(dd(k),Vs(k,y)),Vg(()=>{k._isLeaving&&(Yr(k,m),Vs(k,E),xg(x)||Lg(k,s,U,be))}),Ki(x,[k,be])},onEnterCancelled(k){T(k,!1,void 0,!0),Ki(R,[k])},onAppearCancelled(k){T(k,!0,void 0,!0),Ki(b,[k])},onLeaveCancelled(k){I(k),Ki(j,[k])}})}function GR(t){if(t==null)return null;if(nt(t))return[kf(t.enter),kf(t.leave)];{const e=kf(t);return[e,e]}}function kf(t){return Fc(t)}function Vs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[ua]||(t[ua]=new Set)).add(e)}function Yr(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[ua];n&&(n.delete(e),n.size||(t[ua]=void 0))}function Vg(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let KR=0;function Lg(t,e,n,s){const r=t._endId=++KR,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:c,propCount:u}=xE(t,e);if(!o)return s();const h=o+"end";let d=0;const m=()=>{t.removeEventListener(h,y),i()},y=E=>{E.target===t&&++d>=u&&m()};setTimeout(()=>{d<u&&m()},c+1),t.addEventListener(h,y)}function xE(t,e){const n=window.getComputedStyle(t),s=O=>(n[O]||"").split(", "),r=s(`${Kr}Delay`),i=s(`${Kr}Duration`),o=Mg(r,i),c=s(`${lc}Delay`),u=s(`${lc}Duration`),h=Mg(c,u);let d=null,m=0,y=0;e===Kr?o>0&&(d=Kr,m=o,y=i.length):e===lc?h>0&&(d=lc,m=h,y=u.length):(m=Math.max(o,h),d=m>0?o>h?Kr:lc:null,y=d?d===Kr?i.length:u.length:0);const E=d===Kr&&/\b(?:transform|all)(?:,|$)/.test(s(`${Kr}Property`).toString());return{type:d,timeout:m,propCount:y,hasTransform:E}}function Mg(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Fg(n)+Fg(t[s])))}function Fg(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function dd(t){return(t?t.ownerDocument:document).body.offsetHeight}function zR(t,e,n){const s=t[ua];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Vu=Symbol("_vod"),VE=Symbol("_vsh"),LE={name:"show",beforeMount(t,{value:e},{transition:n}){t[Vu]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):uc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),uc(t,!0),s.enter(t)):s.leave(t,()=>{uc(t,!1)}):uc(t,e))},beforeUnmount(t,{value:e}){uc(t,e)}};function uc(t,e){t.style.display=e?t[Vu]:"none",t[VE]=!e}function QR(){LE.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const ME=Symbol("");function YR(t){const e=Vn();if(!e)return;const n=e.ut=(r=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Lu(i,r))},s=()=>{const r=t(e.proxy);e.ce?Lu(e.ce,r):pd(e.subTree,r),n(r)};op(()=>{$c(s)}),Pa(()=>{oo(s,jn,{flush:"post"});const r=new MutationObserver(s);r.observe(e.subTree.el.parentNode,{childList:!0}),Eh(()=>r.disconnect())})}function pd(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{pd(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Lu(t.el,e);else if(t.type===Ht)t.children.forEach(n=>pd(n,e));else if(t.type===ao){let{el:n,anchor:s}=t;for(;n&&(Lu(n,e),n!==s);)n=n.nextSibling}}function Lu(t,e){if(t.nodeType===1){const n=t.style;let s="";for(const r in e){const i=nv(e[r]);n.setProperty(`--${r}`,i),s+=`--${r}: ${i};`}n[ME]=s}}const XR=/(?:^|;)\s*display\s*:/;function JR(t,e,n){const s=t.style,r=ct(n);let i=!1;if(n&&!r){if(e)if(ct(e))for(const o of e.split(";")){const c=o.slice(0,o.indexOf(":")).trim();n[c]==null&&fu(s,c,"")}else for(const o in e)n[o]==null&&fu(s,o,"");for(const o in n)o==="display"&&(i=!0),fu(s,o,n[o])}else if(r){if(e!==n){const o=s[ME];o&&(n+=";"+o),s.cssText=n,i=XR.test(n)}}else e&&t.removeAttribute("style");Vu in t&&(t[Vu]=i?s.display:"",t[VE]&&(s.display="none"))}const Ug=/\s*!important$/;function fu(t,e,n){if(ye(n))n.forEach(s=>fu(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=ZR(t,e);Ug.test(n)?t.setProperty(gn(s),n.replace(Ug,""),"important"):t[s]=n}}const Bg=["Webkit","Moz","ms"],Nf={};function ZR(t,e){const n=Nf[e];if(n)return n;let s=Xt(e);if(s!=="filter"&&s in t)return Nf[e]=s;s=Aa(s);for(let r=0;r<Bg.length;r++){const i=Bg[r]+s;if(i in t)return Nf[e]=i}return e}const jg="http://www.w3.org/1999/xlink";function $g(t,e,n,s,r,i=Jy(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(jg,e.slice(6,e.length)):t.setAttributeNS(jg,e,n):n==null||i&&!zd(n)?t.removeAttribute(e):t.setAttribute(e,i?"":is(n)?String(n):n)}function Hg(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?kE(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(c!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=zd(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function hr(t,e,n,s){t.addEventListener(e,n,s)}function eP(t,e,n,s){t.removeEventListener(e,n,s)}const qg=Symbol("_vei");function tP(t,e,n,s,r=null){const i=t[qg]||(t[qg]={}),o=i[e];if(s&&o)o.value=s;else{const[c,u]=nP(e);if(s){const h=i[e]=iP(s,r);hr(t,c,h,u)}else o&&(eP(t,c,o,u),i[e]=void 0)}}const Wg=/(?:Once|Passive|Capture)$/;function nP(t){let e;if(Wg.test(t)){e={};let s;for(;s=t.match(Wg);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):gn(t.slice(2)),e]}let Of=0;const sP=Promise.resolve(),rP=()=>Of||(sP.then(()=>Of=0),Of=Date.now());function iP(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;os(oP(s,n.value),e,5,[s])};return n.value=t,n.attached=rP(),n}function oP(t,e){if(ye(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Gg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,aP=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?zR(t,s,o):e==="style"?JR(t,n,s):ba(e)?oh(e)||tP(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):cP(t,e,s,o))?(Hg(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&$g(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ct(s))?Hg(t,Xt(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),$g(t,e,s,o))};function cP(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Gg(e)&&Ae(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Gg(e)&&ct(n)?!1:e in t}const Kg={};function FE(t,e,n){let s=cl(t,e);rl(s)&&(s=at({},s,e));class r extends Ah{constructor(o){super(s,o,n)}}return r.def=s,r}const lP=((t,e)=>FE(t,e,YE)),uP=typeof HTMLElement<"u"?HTMLElement:class{};class Ah extends uP{constructor(e,n={},s=Uu){super(),this._def=e,this._props=n,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==Uu?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow(at({},e.shadowRootOptions,{mode:"open"})),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Ah){this._parent=e;break}this._instance||(this._resolved?this._mount(this._def):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,al(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null,this._teleportTargets&&(this._teleportTargets.clear(),this._teleportTargets=void 0))})}_processMutations(e){for(const n of e)this._setAttr(n.attributeName)}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(this._processMutations.bind(this)),this._ob.observe(this,{attributes:!0});const e=(s,r=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=s;let c;if(i&&!ye(i))for(const u in i){const h=i[u];(h===Number||h&&h.type===Number)&&(u in this._props&&(this._props[u]=Fc(this._props[u])),(c||(c=Object.create(null)))[Xt(u)]=!0)}this._numberProps=c,this._resolveProps(s),this.shadowRoot&&this._applyStyles(o),this._mount(s)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(s=>{s.configureApp=this._def.configureApp,e(this._def=s,!0)}):e(this._def)}_mount(e){this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const s in n)Xe(this,s)||Object.defineProperty(this,s,{get:()=>Yt(n[s])})}_resolveProps(e){const{props:n}=e,s=ye(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r]);for(const r of s.map(Xt))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(i){this._setProp(r,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let s=n?this.getAttribute(e):Kg;const r=Xt(e);n&&this._numberProps&&this._numberProps[r]&&(s=Fc(s)),this._setProp(r,s,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,s=!0,r=!1){if(n!==this._props[e]&&(n===Kg?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),r&&this._instance&&this._update(),s)){const i=this._ob;i&&(this._processMutations(i.takeRecords()),i.disconnect()),n===!0?this.setAttribute(gn(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(gn(e),n+""):n||this.removeAttribute(gn(e)),i&&i.observe(this,{attributes:!0})}}_update(){const e=this._createVNode();this._app&&(e.appContext=this._app._context),QE(e,this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Ze(this._def,at(e,this._props));return this._instance||(n.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const r=(i,o)=>{this.dispatchEvent(new CustomEvent(i,rl(o[0])?at({detail:o},o[0]):{detail:o}))};s.emit=(i,...o)=>{r(i,o),gn(i)!==i&&r(gn(i),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const s=this._nonce;for(let r=e.length-1;r>=0;r--){const i=document.createElement("style");s&&i.setAttribute("nonce",s),i.textContent=e[r],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const s=n.nodeType===1&&n.getAttribute("slot")||"default";(e[s]||(e[s]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=this._getSlots(),n=this._instance.type.__scopeId;for(let s=0;s<e.length;s++){const r=e[s],i=r.getAttribute("name")||"default",o=this._slots[i],c=r.parentNode;if(o)for(const u of o){if(n&&u.nodeType===1){const h=n+"-s",d=document.createTreeWalker(u,1);u.setAttribute(h,"");let m;for(;m=d.nextNode();)m.setAttribute(h,"")}c.insertBefore(u,r)}else for(;r.firstChild;)c.insertBefore(r.firstChild,r);c.removeChild(r)}}_getSlots(){const e=[this];return this._teleportTargets&&e.push(...this._teleportTargets),e.reduce((n,s)=>(n.push(...Array.from(s.querySelectorAll("slot"))),n),[])}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function UE(t){const e=Vn(),n=e&&e.ce;return n||null}function hP(){const t=UE();return t&&t.shadowRoot}function fP(t="$style"){{const e=Vn();if(!e)return $e;const n=e.type.__cssModules;if(!n)return $e;const s=n[t];return s||$e}}const BE=new WeakMap,jE=new WeakMap,Mu=Symbol("_moveCb"),zg=Symbol("_enterCb"),dP=t=>(delete t.props.mode,t),pP=dP({name:"TransitionGroup",props:at({},OE,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Vn(),s=sp();let r,i;return vh(()=>{if(!r.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!vP(r[0].el,n.vnode.el,o)){r=[];return}r.forEach(gP),r.forEach(_P);const c=r.filter(yP);dd(n.vnode.el),c.forEach(u=>{const h=u.el,d=h.style;Vs(h,o),d.transform=d.webkitTransform=d.transitionDuration="";const m=h[Mu]=y=>{y&&y.target!==h||(!y||y.propertyName.endsWith("transform"))&&(h.removeEventListener("transitionend",m),h[Mu]=null,Yr(h,o))};h.addEventListener("transitionend",m)}),r=[]}),()=>{const o=ze(t),c=DE(o);let u=o.tag||Ht;if(r=[],i)for(let h=0;h<i.length;h++){const d=i[h];d.el&&d.el instanceof Element&&(r.push(d),Tr(d,aa(d,c,s,n)),BE.set(d,d.el.getBoundingClientRect()))}i=e.default?_h(e.default()):[];for(let h=0;h<i.length;h++){const d=i[h];d.key!=null&&Tr(d,aa(d,c,s,n))}return Ze(u,null,i)}}}),mP=pP;function gP(t){const e=t.el;e[Mu]&&e[Mu](),e[zg]&&e[zg]()}function _P(t){jE.set(t,t.el.getBoundingClientRect())}function yP(t){const e=BE.get(t),n=jE.get(t),s=e.left-n.left,r=e.top-n.top;if(s||r){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${r}px)`,i.transitionDuration="0s",t}}function vP(t,e,n){const s=t.cloneNode(),r=t[ua];r&&r.forEach(c=>{c.split(/\s+/).forEach(u=>u&&s.classList.remove(u))}),n.split(/\s+/).forEach(c=>c&&s.classList.add(c)),s.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(s);const{hasTransform:o}=xE(s);return i.removeChild(s),o}const pi=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ye(e)?n=>no(e,n):e};function EP(t){t.target.composing=!0}function Qg(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const rs=Symbol("_assign"),Fu={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[rs]=pi(r);const i=s||r.props&&r.props.type==="number";hr(t,e?"change":"input",o=>{if(o.target.composing)return;let c=t.value;n&&(c=c.trim()),i&&(c=Mc(c)),t[rs](c)}),n&&hr(t,"change",()=>{t.value=t.value.trim()}),e||(hr(t,"compositionstart",EP),hr(t,"compositionend",Qg),hr(t,"change",Qg))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[rs]=pi(o),t.composing)return;const c=(i||t.type==="number")&&!/^0\d/.test(t.value)?Mc(t.value):t.value,u=e??"";c!==u&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===u)||(t.value=u))}},gp={deep:!0,created(t,e,n){t[rs]=pi(n),hr(t,"change",()=>{const s=t._modelValue,r=ha(t),i=t.checked,o=t[rs];if(ye(s)){const c=ol(s,r),u=c!==-1;if(i&&!u)o(s.concat(r));else if(!i&&u){const h=[...s];h.splice(c,1),o(h)}}else if(wi(s)){const c=new Set(s);i?c.add(r):c.delete(r),o(c)}else o(HE(t,i))})},mounted:Yg,beforeUpdate(t,e,n){t[rs]=pi(n),Yg(t,e,n)}};function Yg(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(ye(e))r=ol(e,s.props.value)>-1;else if(wi(e))r=e.has(s.props.value);else{if(e===n)return;r=_r(e,HE(t,!0))}t.checked!==r&&(t.checked=r)}const _p={created(t,{value:e},n){t.checked=_r(e,n.props.value),t[rs]=pi(n),hr(t,"change",()=>{t[rs](ha(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[rs]=pi(s),e!==n&&(t.checked=_r(e,s.props.value))}},$E={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=wi(e);hr(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Mc(ha(o)):ha(o));t[rs](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,al(()=>{t._assigning=!1})}),t[rs]=pi(s)},mounted(t,{value:e}){Xg(t,e)},beforeUpdate(t,e,n){t[rs]=pi(n)},updated(t,{value:e}){t._assigning||Xg(t,e)}};function Xg(t,e){const n=t.multiple,s=ye(e);if(!(n&&!s&&!wi(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],c=ha(o);if(n)if(s){const u=typeof c;u==="string"||u==="number"?o.selected=e.some(h=>String(h)===String(c)):o.selected=ol(e,c)>-1}else o.selected=e.has(c);else if(_r(ha(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ha(t){return"_value"in t?t._value:t.value}function HE(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const qE={created(t,e,n){eu(t,e,n,null,"created")},mounted(t,e,n){eu(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){eu(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){eu(t,e,n,s,"updated")}};function WE(t,e){switch(t){case"SELECT":return $E;case"TEXTAREA":return Fu;default:switch(e){case"checkbox":return gp;case"radio":return _p;default:return Fu}}}function eu(t,e,n,s,r){const o=WE(t.tagName,n.props&&n.props.type)[r];o&&o(t,e,n,s)}function TP(){Fu.getSSRProps=({value:t})=>({value:t}),_p.getSSRProps=({value:t},e)=>{if(e.props&&_r(e.props.value,t))return{checked:!0}},gp.getSSRProps=({value:t},e)=>{if(ye(t)){if(e.props&&ol(t,e.props.value)>-1)return{checked:!0}}else if(wi(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},qE.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=WE(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const wP=["ctrl","shift","alt","meta"],bP={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>wP.some(n=>t[`${n}Key`]&&!e.includes(n))},AP=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((r,...i)=>{for(let o=0;o<e.length;o++){const c=bP[e[o]];if(c&&c(r,e))return}return t(r,...i)}))},IP={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},CP=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=(r=>{if(!("key"in r))return;const i=gn(r.key);if(e.some(o=>o===i||IP[o]===i))return t(r)}))},GE=at({patchProp:aP},HR);let Rc,Jg=!1;function KE(){return Rc||(Rc=iE(GE))}function zE(){return Rc=Jg?Rc:oE(GE),Jg=!0,Rc}const QE=((...t)=>{KE().render(...t)}),SP=((...t)=>{zE().hydrate(...t)}),Uu=((...t)=>{const e=KE().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=JE(s);if(!r)return;const i=e._component;!Ae(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,XE(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e}),YE=((...t)=>{const e=zE().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=JE(s);if(r)return n(r,!0,XE(r))},e});function XE(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function JE(t){return ct(t)?document.querySelector(t):t}let Zg=!1;const RP=()=>{Zg||(Zg=!0,TP(),QR())},LL=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Vv,BaseTransitionPropsValidators:rp,Comment:Vt,DeprecationTypes:BR,EffectScope:Qd,ErrorCodes:KC,ErrorTypeStrings:DR,Fragment:Ht,KeepAlive:ES,ReactiveEffect:Uc,Static:ao,Suspense:pR,Teleport:nS,Text:ci,TrackOpTypes:BC,Transition:WR,TransitionGroup:mP,TriggerOpTypes:jC,VueElement:Ah,assertNumber:GC,callWithAsyncErrorHandling:os,callWithErrorHandling:Ra,camelize:Xt,capitalize:Aa,cloneVNode:Ws,compatUtils:UR,computed:Un,createApp:Uu,createBlock:ca,createCommentVNode:od,createElementBlock:pr,createElementVNode:ae,createHydrationRenderer:oE,createPropsRestProxy:BS,createRenderer:iE,createSSRApp:YE,createSlots:IS,createStaticVNode:wR,createTextVNode:pp,createVNode:Ze,customRef:Tv,defineAsyncComponent:yS,defineComponent:cl,defineCustomElement:FE,defineEmits:kS,defineExpose:NS,defineModel:xS,defineOptions:OS,defineProps:PS,defineSSRCustomElement:lP,defineSlots:DS,devtools:xR,effect:cC,effectScope:iC,getCurrentInstance:Vn,getCurrentScope:sv,getCurrentWatcher:$C,getTransitionRawChildren:_h,guardReactiveProps:TE,h:bh,handleError:To,hasInjectionContext:QS,hydrate:SP,hydrateOnIdle:fS,hydrateOnInteraction:gS,hydrateOnMediaQuery:mS,hydrateOnVisible:pS,initCustomFormatter:kR,initDirectivesForSSR:RP,inject:ss,isMemoSame:RE,isProxy:mh,isReactive:oi,isReadonly:Er,isRef:qt,isRuntimeOnly:SR,isShallow:$n,isVNode:wr,markRaw:vv,mergeDefaults:FS,mergeModels:US,mergeProps:wE,nextTick:al,normalizeClass:Eo,normalizeProps:Yy,normalizeStyle:Ia,onActivated:Mv,onBeforeMount:Bv,onBeforeUnmount:ul,onBeforeUpdate:op,onDeactivated:Fv,onErrorCaptured:qv,onMounted:Pa,onRenderTracked:Hv,onRenderTriggered:$v,onScopeDispose:oC,onServerPrefetch:jv,onUnmounted:Eh,onUpdated:vh,onWatcherCleanup:bv,openBlock:Sn,popScopeId:JC,provide:Cc,proxyRefs:tp,pushScopeId:XC,queuePostFlushCb:$c,reactive:Sa,readonly:Au,ref:ro,registerRuntimeCompiler:CR,render:QE,renderList:Kv,renderSlot:CS,resolveComponent:Wv,resolveDirective:AS,resolveDynamicComponent:bS,resolveFilter:FR,resolveTransitionHooks:aa,setBlockTracking:Kc,setDevtoolsHook:VR,setTransitionHooks:Tr,shallowReactive:Zd,shallowReadonly:RC,shallowRef:ep,ssrContextKey:uE,ssrUtils:MR,stop:lC,toDisplayString:Ca,toHandlerKey:Zo,toHandlers:SS,toRaw:ze,toRef:MC,toRefs:xC,toValue:NC,transformVNodeArgs:ER,triggerRef:kC,unref:Yt,useAttrs:MS,useCssModule:fP,useCssVars:YR,useHost:UE,useId:rS,useModel:oR,useSSRContext:hE,useShadowRoot:hP,useSlots:LS,useTemplateRef:iS,useTransitionState:sp,vModelCheckbox:gp,vModelDynamic:qE,vModelRadio:_p,vModelSelect:$E,vModelText:Fu,vShow:LE,version:PE,warn:OR,watch:oo,watchEffect:sR,watchPostEffect:rR,watchSyncEffect:fE,withAsyncContext:jS,withCtx:Yi,withDefaults:VS,withDirectives:eS,withKeys:CP,withMemo:NR,withModifiers:AP,withScopeId:ZC},Symbol.toStringTag,{value:"Module"})),PP="modulepreload",kP=function(t){return"/"+t},e_={},dl=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");r=u(n.map(h=>{if(h=kP(h),h in e_)return;e_[h]=!0;const d=h.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":PP,d||(y.as="script"),y.crossOrigin="",y.href=h,c&&y.setAttribute("nonce",c),document.head.appendChild(y),d)return new Promise((E,O)=>{y.addEventListener("load",E),y.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return r.then(o=>{for(const c of o||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})};/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Go=typeof document<"u";function ZE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function NP(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&ZE(t.default)}const et=Object.assign;function Df(t,e){const n={};for(const s in e){const r=e[s];n[s]=ys(r)?r.map(t):t(r)}return n}const Pc=()=>{},ys=Array.isArray;function t_(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const eT=/#/g,OP=/&/g,DP=/\//g,xP=/=/g,VP=/\?/g,tT=/\+/g,LP=/%5B/g,MP=/%5D/g,nT=/%5E/g,FP=/%60/g,sT=/%7B/g,UP=/%7C/g,rT=/%7D/g,BP=/%20/g;function yp(t){return t==null?"":encodeURI(""+t).replace(UP,"|").replace(LP,"[").replace(MP,"]")}function jP(t){return yp(t).replace(sT,"{").replace(rT,"}").replace(nT,"^")}function md(t){return yp(t).replace(tT,"%2B").replace(BP,"+").replace(eT,"%23").replace(OP,"%26").replace(FP,"`").replace(sT,"{").replace(rT,"}").replace(nT,"^")}function $P(t){return md(t).replace(xP,"%3D")}function HP(t){return yp(t).replace(eT,"%23").replace(VP,"%3F")}function qP(t){return HP(t).replace(DP,"%2F")}function zc(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const WP=/\/$/,GP=t=>t.replace(WP,"");function xf(t,e,n="/"){let s,r={},i="",o="";const c=e.indexOf("#");let u=e.indexOf("?");return u=c>=0&&u>c?-1:u,u>=0&&(s=e.slice(0,u),i=e.slice(u,c>0?c:e.length),r=t(i.slice(1))),c>=0&&(s=s||e.slice(0,c),o=e.slice(c,e.length)),s=YP(s??e,n),{fullPath:s+i+o,path:s,query:r,hash:zc(o)}}function KP(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function n_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function zP(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&fa(e.matched[s],n.matched[r])&&iT(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function fa(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function iT(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!QP(t[n],e[n]))return!1;return!0}function QP(t,e){return ys(t)?s_(t,e):ys(e)?s_(e,t):t===e}function s_(t,e){return ys(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function YP(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,c;for(o=0;o<s.length;o++)if(c=s[o],c!==".")if(c==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const zr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let gd=(function(t){return t.pop="pop",t.push="push",t})({}),Vf=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function XP(t){if(!t)if(Go){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),GP(t)}const JP=/^[^#]+#/;function ZP(t,e){return t.replace(JP,"#")+e}function e0(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ih=()=>({left:window.scrollX,top:window.scrollY});function t0(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=e0(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function r_(t,e){return(history.state?history.state.position-e:-1)+t}const _d=new Map;function n0(t,e){_d.set(t,e)}function s0(t){const e=_d.get(t);return _d.delete(t),e}function r0(t){return typeof t=="string"||t&&typeof t=="object"}function oT(t){return typeof t=="string"||typeof t=="symbol"}let St=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const aT=Symbol("");St.MATCHER_NOT_FOUND+"",St.NAVIGATION_GUARD_REDIRECT+"",St.NAVIGATION_ABORTED+"",St.NAVIGATION_CANCELLED+"",St.NAVIGATION_DUPLICATED+"";function da(t,e){return et(new Error,{type:t,[aT]:!0},e)}function or(t,e){return t instanceof Error&&aT in t&&(e==null||!!(t.type&e))}const i0=["params","query","hash"];function o0(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of i0)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function a0(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const r=n[s].replace(tT," "),i=r.indexOf("="),o=zc(i<0?r:r.slice(0,i)),c=i<0?null:zc(r.slice(i+1));if(o in e){let u=e[o];ys(u)||(u=e[o]=[u]),u.push(c)}else e[o]=c}return e}function i_(t){let e="";for(let n in t){const s=t[n];if(n=$P(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(ys(s)?s.map(r=>r&&md(r)):[s&&md(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function c0(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=ys(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const l0=Symbol(""),o_=Symbol(""),Ch=Symbol(""),vp=Symbol(""),yd=Symbol("");function hc(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ei(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((c,u)=>{const h=y=>{y===!1?u(da(St.NAVIGATION_ABORTED,{from:n,to:e})):y instanceof Error?u(y):r0(y)?u(da(St.NAVIGATION_GUARD_REDIRECT,{from:e,to:y})):(o&&s.enterCallbacks[r]===o&&typeof y=="function"&&o.push(y),c())},d=i(()=>t.call(s&&s.instances[r],e,n,h));let m=Promise.resolve(d);t.length<3&&(m=m.then(h)),m.catch(y=>u(y))})}function Lf(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const c in o.components){let u=o.components[c];if(!(e!=="beforeRouteEnter"&&!o.instances[c]))if(ZE(u)){const h=(u.__vccOpts||u)[e];h&&i.push(ei(h,n,s,o,c,r))}else{let h=u();i.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${c}" at "${o.path}"`);const m=NP(d)?d.default:d;o.mods[c]=d,o.components[c]=m;const y=(m.__vccOpts||m)[e];return y&&ei(y,n,s,o,c,r)()}))}}return i}function u0(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const c=e.matched[o];c&&(t.matched.find(h=>fa(h,c))?s.push(c):n.push(c));const u=t.matched[o];u&&(e.matched.find(h=>fa(h,u))||r.push(u))}return[n,s,r]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let h0=()=>location.protocol+"//"+location.host;function cT(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let o=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(o);return c[0]!=="/"&&(c="/"+c),n_(c,"")}return n_(n,t)+s+r}function f0(t,e,n,s){let r=[],i=[],o=null;const c=({state:y})=>{const E=cT(t,location),O=n.value,D=e.value;let U=0;if(y){if(n.value=E,e.value=y,o&&o===O){o=null;return}U=D?y.position-D.position:0}else s(E);r.forEach(H=>{H(n.value,O,{delta:U,type:gd.pop,direction:U?U>0?Vf.forward:Vf.back:Vf.unknown})})};function u(){o=n.value}function h(y){r.push(y);const E=()=>{const O=r.indexOf(y);O>-1&&r.splice(O,1)};return i.push(E),E}function d(){if(document.visibilityState==="hidden"){const{history:y}=window;if(!y.state)return;y.replaceState(et({},y.state,{scroll:Ih()}),"")}}function m(){for(const y of i)y();i=[],window.removeEventListener("popstate",c),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",c),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:u,listen:h,destroy:m}}function a_(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Ih():null}}function d0(t){const{history:e,location:n}=window,s={value:cT(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,h,d){const m=t.indexOf("#"),y=m>-1?(n.host&&document.querySelector("base")?t:t.slice(m))+u:h0()+t+u;try{e[d?"replaceState":"pushState"](h,"",y),r.value=h}catch(E){console.error(E),n[d?"replace":"assign"](y)}}function o(u,h){i(u,et({},e.state,a_(r.value.back,u,r.value.forward,!0),h,{position:r.value.position}),!0),s.value=u}function c(u,h){const d=et({},r.value,e.state,{forward:u,scroll:Ih()});i(d.current,d,!0),i(u,et({},a_(s.value,u,null),{position:d.position+1},h),!1),s.value=u}return{location:s,state:r,push:c,replace:o}}function p0(t){t=XP(t);const e=d0(t),n=f0(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=et({location:"",base:t,go:s,createHref:ZP.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}let Xi=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var jt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(jt||{});const m0={type:Xi.Static,value:""},g0=/[a-zA-Z0-9_]/;function _0(t){if(!t)return[[]];if(t==="/")return[[m0]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(E){throw new Error(`ERR (${n})/"${h}": ${E}`)}let n=jt.Static,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let c=0,u,h="",d="";function m(){h&&(n===jt.Static?i.push({type:Xi.Static,value:h}):n===jt.Param||n===jt.ParamRegExp||n===jt.ParamRegExpEnd?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Xi.Param,value:h,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),h="")}function y(){h+=u}for(;c<t.length;){if(u=t[c++],u==="\\"&&n!==jt.ParamRegExp){s=n,n=jt.EscapeNext;continue}switch(n){case jt.Static:u==="/"?(h&&m(),o()):u===":"?(m(),n=jt.Param):y();break;case jt.EscapeNext:y(),n=s;break;case jt.Param:u==="("?n=jt.ParamRegExp:g0.test(u)?y():(m(),n=jt.Static,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case jt.ParamRegExp:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=jt.ParamRegExpEnd:d+=u;break;case jt.ParamRegExpEnd:m(),n=jt.Static,u!=="*"&&u!=="?"&&u!=="+"&&c--,d="";break;default:e("Unknown state");break}}return n===jt.ParamRegExp&&e(`Unfinished custom RegExp for param "${h}"`),m(),o(),r}const c_="[^/]+?",y0={sensitive:!1,strict:!1,start:!0,end:!0};var In=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(In||{});const v0=/[.+*?^${}()[\]/\\]/g;function E0(t,e){const n=et({},y0,e),s=[];let r=n.start?"^":"";const i=[];for(const h of t){const d=h.length?[]:[In.Root];n.strict&&!h.length&&(r+="/");for(let m=0;m<h.length;m++){const y=h[m];let E=In.Segment+(n.sensitive?In.BonusCaseSensitive:0);if(y.type===Xi.Static)m||(r+="/"),r+=y.value.replace(v0,"\\$&"),E+=In.Static;else if(y.type===Xi.Param){const{value:O,repeatable:D,optional:U,regexp:H}=y;i.push({name:O,repeatable:D,optional:U});const M=H||c_;if(M!==c_){E+=In.BonusCustomRegExp;try{`${M}`}catch(x){throw new Error(`Invalid custom RegExp for param "${O}" (${M}): `+x.message)}}let R=D?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;m||(R=U&&h.length<2?`(?:/${R})`:"/"+R),U&&(R+="?"),r+=R,E+=In.Dynamic,U&&(E+=In.BonusOptional),D&&(E+=In.BonusRepeatable),M===".*"&&(E+=In.BonusWildcard)}d.push(E)}s.push(d)}if(n.strict&&n.end){const h=s.length-1;s[h][s[h].length-1]+=In.BonusStrict}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function c(h){const d=h.match(o),m={};if(!d)return null;for(let y=1;y<d.length;y++){const E=d[y]||"",O=i[y-1];m[O.name]=E&&O.repeatable?E.split("/"):E}return m}function u(h){let d="",m=!1;for(const y of t){(!m||!d.endsWith("/"))&&(d+="/"),m=!1;for(const E of y)if(E.type===Xi.Static)d+=E.value;else if(E.type===Xi.Param){const{value:O,repeatable:D,optional:U}=E,H=O in h?h[O]:"";if(ys(H)&&!D)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const M=ys(H)?H.join("/"):H;if(!M)if(U)y.length<2&&(d.endsWith("/")?d=d.slice(0,-1):m=!0);else throw new Error(`Missing required param "${O}"`);d+=M}}return d||"/"}return{re:o,score:s,keys:i,parse:c,stringify:u}}function T0(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===In.Static+In.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===In.Static+In.Segment?1:-1:0}function lT(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=T0(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(l_(s))return 1;if(l_(r))return-1}return r.length-s.length}function l_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const w0={strict:!1,end:!0,sensitive:!1};function b0(t,e,n){const s=E0(_0(t.path),n),r=et(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function A0(t,e){const n=[],s=new Map;e=t_(w0,e);function r(m){return s.get(m)}function i(m,y,E){const O=!E,D=h_(m);D.aliasOf=E&&E.record;const U=t_(e,m),H=[D];if("alias"in m){const x=typeof m.alias=="string"?[m.alias]:m.alias;for(const j of x)H.push(h_(et({},D,{components:E?E.record.components:D.components,path:j,aliasOf:E?E.record:D})))}let M,R;for(const x of H){const{path:j}=x;if(y&&j[0]!=="/"){const z=y.record.path,S=z[z.length-1]==="/"?"":"/";x.path=y.record.path+(j&&S+j)}if(M=b0(x,y,U),E?E.alias.push(M):(R=R||M,R!==M&&R.alias.push(M),O&&m.name&&!f_(M)&&o(m.name)),uT(M)&&u(M),D.children){const z=D.children;for(let S=0;S<z.length;S++)i(z[S],M,E&&E.children[S])}E=E||M}return R?()=>{o(R)}:Pc}function o(m){if(oT(m)){const y=s.get(m);y&&(s.delete(m),n.splice(n.indexOf(y),1),y.children.forEach(o),y.alias.forEach(o))}else{const y=n.indexOf(m);y>-1&&(n.splice(y,1),m.record.name&&s.delete(m.record.name),m.children.forEach(o),m.alias.forEach(o))}}function c(){return n}function u(m){const y=S0(m,n);n.splice(y,0,m),m.record.name&&!f_(m)&&s.set(m.record.name,m)}function h(m,y){let E,O={},D,U;if("name"in m&&m.name){if(E=s.get(m.name),!E)throw da(St.MATCHER_NOT_FOUND,{location:m});U=E.record.name,O=et(u_(y.params,E.keys.filter(R=>!R.optional).concat(E.parent?E.parent.keys.filter(R=>R.optional):[]).map(R=>R.name)),m.params&&u_(m.params,E.keys.map(R=>R.name))),D=E.stringify(O)}else if(m.path!=null)D=m.path,E=n.find(R=>R.re.test(D)),E&&(O=E.parse(D),U=E.record.name);else{if(E=y.name?s.get(y.name):n.find(R=>R.re.test(y.path)),!E)throw da(St.MATCHER_NOT_FOUND,{location:m,currentLocation:y});U=E.record.name,O=et({},y.params,m.params),D=E.stringify(O)}const H=[];let M=E;for(;M;)H.unshift(M.record),M=M.parent;return{name:U,path:D,params:O,matched:H,meta:C0(H)}}t.forEach(m=>i(m));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:h,removeRoute:o,clearRoutes:d,getRoutes:c,getRecordMatcher:r}}function u_(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function h_(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:I0(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function I0(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function f_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function C0(t){return t.reduce((e,n)=>et(e,n.meta),{})}function S0(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;lT(t,e[i])<0?s=i:n=i+1}const r=R0(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function R0(t){let e=t;for(;e=e.parent;)if(uT(e)&&lT(t,e)===0)return e}function uT({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function d_(t){const e=ss(Ch),n=ss(vp),s=Un(()=>{const u=Yt(t.to);return e.resolve(u)}),r=Un(()=>{const{matched:u}=s.value,{length:h}=u,d=u[h-1],m=n.matched;if(!d||!m.length)return-1;const y=m.findIndex(fa.bind(null,d));if(y>-1)return y;const E=p_(u[h-2]);return h>1&&p_(d)===E&&m[m.length-1].path!==E?m.findIndex(fa.bind(null,u[h-2])):y}),i=Un(()=>r.value>-1&&O0(n.params,s.value.params)),o=Un(()=>r.value>-1&&r.value===n.matched.length-1&&iT(n.params,s.value.params));function c(u={}){if(N0(u)){const h=e[Yt(t.replace)?"replace":"push"](Yt(t.to)).catch(Pc);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:s,href:Un(()=>s.value.href),isActive:i,isExactActive:o,navigate:c}}function P0(t){return t.length===1?t[0]:t}const k0=cl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:d_,setup(t,{slots:e}){const n=Sa(d_(t)),{options:s}=ss(Ch),r=Un(()=>({[m_(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[m_(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&P0(e.default(n));return t.custom?i:bh("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),mc=k0;function N0(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function O0(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!ys(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function p_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const m_=(t,e,n)=>t??e??n,D0=cl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=ss(yd),r=Un(()=>t.route||s.value),i=ss(o_,0),o=Un(()=>{let h=Yt(i);const{matched:d}=r.value;let m;for(;(m=d[h])&&!m.components;)h++;return h}),c=Un(()=>r.value.matched[o.value]);Cc(o_,Un(()=>o.value+1)),Cc(l0,c),Cc(yd,r);const u=ro();return oo(()=>[u.value,c.value,t.name],([h,d,m],[y,E,O])=>{d&&(d.instances[m]=h,E&&E!==d&&h&&h===y&&(d.leaveGuards.size||(d.leaveGuards=E.leaveGuards),d.updateGuards.size||(d.updateGuards=E.updateGuards))),h&&d&&(!E||!fa(d,E)||!y)&&(d.enterCallbacks[m]||[]).forEach(D=>D(h))},{flush:"post"}),()=>{const h=r.value,d=t.name,m=c.value,y=m&&m.components[d];if(!y)return g_(n.default,{Component:y,route:h});const E=m.props[d],O=E?E===!0?h.params:typeof E=="function"?E(h):E:null,U=bh(y,et({},O,e,{onVnodeUnmounted:H=>{H.component.isUnmounted&&(m.instances[d]=null)},ref:u}));return g_(n.default,{Component:U,route:h})||U}}});function g_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const x0=D0;function V0(t){const e=A0(t.routes,t),n=t.parseQuery||a0,s=t.stringifyQuery||i_,r=t.history,i=hc(),o=hc(),c=hc(),u=ep(zr);let h=zr;Go&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Df.bind(null,G=>""+G),m=Df.bind(null,qP),y=Df.bind(null,zc);function E(G,ue){let W,ve;return oT(G)?(W=e.getRecordMatcher(G),ve=ue):ve=G,e.addRoute(ve,W)}function O(G){const ue=e.getRecordMatcher(G);ue&&e.removeRoute(ue)}function D(){return e.getRoutes().map(G=>G.record)}function U(G){return!!e.getRecordMatcher(G)}function H(G,ue){if(ue=et({},ue||u.value),typeof G=="string"){const N=xf(n,G,ue.path),B=e.resolve({path:N.path},ue),J=r.createHref(N.fullPath);return et(N,B,{params:y(B.params),hash:zc(N.hash),redirectedFrom:void 0,href:J})}let W;if(G.path!=null)W=et({},G,{path:xf(n,G.path,ue.path).path});else{const N=et({},G.params);for(const B in N)N[B]==null&&delete N[B];W=et({},G,{params:m(N)}),ue.params=m(ue.params)}const ve=e.resolve(W,ue),Ve=G.hash||"";ve.params=d(y(ve.params));const rt=KP(s,et({},G,{hash:jP(Ve),path:ve.path})),C=r.createHref(rt);return et({fullPath:rt,hash:Ve,query:s===i_?c0(G.query):G.query||{}},ve,{redirectedFrom:void 0,href:C})}function M(G){return typeof G=="string"?xf(n,G,u.value.path):et({},G)}function R(G,ue){if(h!==G)return da(St.NAVIGATION_CANCELLED,{from:ue,to:G})}function x(G){return S(G)}function j(G){return x(et(M(G),{replace:!0}))}function z(G,ue){const W=G.matched[G.matched.length-1];if(W&&W.redirect){const{redirect:ve}=W;let Ve=typeof ve=="function"?ve(G,ue):ve;return typeof Ve=="string"&&(Ve=Ve.includes("?")||Ve.includes("#")?Ve=M(Ve):{path:Ve},Ve.params={}),et({query:G.query,hash:G.hash,params:Ve.path!=null?{}:G.params},Ve)}}function S(G,ue){const W=h=H(G),ve=u.value,Ve=G.state,rt=G.force,C=G.replace===!0,N=z(W,ve);if(N)return S(et(M(N),{state:typeof N=="object"?et({},Ve,N.state):Ve,force:rt,replace:C}),ue||W);const B=W;B.redirectedFrom=ue;let J;return!rt&&zP(s,ve,W)&&(J=da(St.NAVIGATION_DUPLICATED,{to:B,from:ve}),Y(ve,ve,!0,!1)),(J?Promise.resolve(J):I(B,ve)).catch(K=>or(K)?or(K,St.NAVIGATION_GUARD_REDIRECT)?K:Ln(K):fe(K,B,ve)).then(K=>{if(K){if(or(K,St.NAVIGATION_GUARD_REDIRECT))return S(et({replace:C},M(K.to),{state:typeof K.to=="object"?et({},Ve,K.to.state):Ve,force:rt}),ue||B)}else K=k(B,ve,!0,C,Ve);return P(B,ve,K),K})}function b(G,ue){const W=R(G,ue);return W?Promise.reject(W):Promise.resolve()}function T(G){const ue=vn.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(G):G()}function I(G,ue){let W;const[ve,Ve,rt]=u0(G,ue);W=Lf(ve.reverse(),"beforeRouteLeave",G,ue);for(const N of ve)N.leaveGuards.forEach(B=>{W.push(ei(B,G,ue))});const C=b.bind(null,G,ue);return W.push(C),At(W).then(()=>{W=[];for(const N of i.list())W.push(ei(N,G,ue));return W.push(C),At(W)}).then(()=>{W=Lf(Ve,"beforeRouteUpdate",G,ue);for(const N of Ve)N.updateGuards.forEach(B=>{W.push(ei(B,G,ue))});return W.push(C),At(W)}).then(()=>{W=[];for(const N of rt)if(N.beforeEnter)if(ys(N.beforeEnter))for(const B of N.beforeEnter)W.push(ei(B,G,ue));else W.push(ei(N.beforeEnter,G,ue));return W.push(C),At(W)}).then(()=>(G.matched.forEach(N=>N.enterCallbacks={}),W=Lf(rt,"beforeRouteEnter",G,ue,T),W.push(C),At(W))).then(()=>{W=[];for(const N of o.list())W.push(ei(N,G,ue));return W.push(C),At(W)}).catch(N=>or(N,St.NAVIGATION_CANCELLED)?N:Promise.reject(N))}function P(G,ue,W){c.list().forEach(ve=>T(()=>ve(G,ue,W)))}function k(G,ue,W,ve,Ve){const rt=R(G,ue);if(rt)return rt;const C=ue===zr,N=Go?history.state:{};W&&(ve||C?r.replace(G.fullPath,et({scroll:C&&N&&N.scroll},Ve)):r.push(G.fullPath,Ve)),u.value=G,Y(G,ue,W,C),Ln()}let A;function be(){A||(A=r.listen((G,ue,W)=>{if(!kt.listening)return;const ve=H(G),Ve=z(ve,kt.currentRoute.value);if(Ve){S(et(Ve,{replace:!0,force:!0}),ve).catch(Pc);return}h=ve;const rt=u.value;Go&&n0(r_(rt.fullPath,W.delta),Ih()),I(ve,rt).catch(C=>or(C,St.NAVIGATION_ABORTED|St.NAVIGATION_CANCELLED)?C:or(C,St.NAVIGATION_GUARD_REDIRECT)?(S(et(M(C.to),{force:!0}),ve).then(N=>{or(N,St.NAVIGATION_ABORTED|St.NAVIGATION_DUPLICATED)&&!W.delta&&W.type===gd.pop&&r.go(-1,!1)}).catch(Pc),Promise.reject()):(W.delta&&r.go(-W.delta,!1),fe(C,ve,rt))).then(C=>{C=C||k(ve,rt,!1),C&&(W.delta&&!or(C,St.NAVIGATION_CANCELLED)?r.go(-W.delta,!1):W.type===gd.pop&&or(C,St.NAVIGATION_ABORTED|St.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),P(ve,rt,C)}).catch(Pc)}))}let Le=hc(),pe=hc(),Re;function fe(G,ue,W){Ln(G);const ve=pe.list();return ve.length?ve.forEach(Ve=>Ve(G,ue,W)):console.error(G),Promise.reject(G)}function st(){return Re&&u.value!==zr?Promise.resolve():new Promise((G,ue)=>{Le.add([G,ue])})}function Ln(G){return Re||(Re=!G,be(),Le.list().forEach(([ue,W])=>G?W(G):ue()),Le.reset()),G}function Y(G,ue,W,ve){const{scrollBehavior:Ve}=t;if(!Go||!Ve)return Promise.resolve();const rt=!W&&s0(r_(G.fullPath,0))||(ve||!W)&&history.state&&history.state.scroll||null;return al().then(()=>Ve(G,ue,rt)).then(C=>C&&t0(C)).catch(C=>fe(C,G,ue))}const Pt=G=>r.go(G);let Wn;const vn=new Set,kt={currentRoute:u,listening:!0,addRoute:E,removeRoute:O,clearRoutes:e.clearRoutes,hasRoute:U,getRoutes:D,resolve:H,options:t,push:x,replace:j,go:Pt,back:()=>Pt(-1),forward:()=>Pt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:pe.add,isReady:st,install(G){G.component("RouterLink",mc),G.component("RouterView",x0),G.config.globalProperties.$router=kt,Object.defineProperty(G.config.globalProperties,"$route",{enumerable:!0,get:()=>Yt(u)}),Go&&!Wn&&u.value===zr&&(Wn=!0,x(r.location).catch(ve=>{}));const ue={};for(const ve in zr)Object.defineProperty(ue,ve,{get:()=>u.value[ve],enumerable:!0});G.provide(Ch,kt),G.provide(vp,Zd(ue)),G.provide(yd,u);const W=G.unmount;vn.add(G),G.unmount=function(){vn.delete(G),vn.size<1&&(h=zr,A&&A(),A=null,u.value=zr,Wn=!1,Re=!1),W()}}};function At(G){return G.reduce((ue,W)=>ue.then(()=>T(W)),Promise.resolve())}return kt}function L0(){return ss(Ch)}function M0(t){return ss(vp)}const F0=()=>{};var __={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},U0=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],c=t[n++],u=((r&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},fT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,c=o?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,d=i>>2,m=(i&3)<<4|c>>4;let y=(c&15)<<2|h>>6,E=h&63;u||(E=64,o||(y=64)),s.push(n[d],n[m],n[y],n[E])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||c==null||h==null||m==null)throw new B0;const y=i<<2|c>>4;if(s.push(y),h!==64){const E=c<<4&240|h>>2;if(s.push(E),m!==64){const O=h<<6&192|m;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j0=function(t){const e=hT(t);return fT.encodeByteArray(e,!0)},Bu=function(t){return j0(t).replace(/\./g,"")},dT=function(t){try{return fT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=()=>$0().__FIREBASE_DEFAULTS__,q0=()=>{if(typeof process>"u"||typeof __>"u")return;const t=__.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dT(t[1]);return e&&JSON.parse(e)},Sh=()=>{try{return F0()||H0()||q0()||W0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pT=t=>Sh()?.emulatorHosts?.[t],G0=t=>{const e=pT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},mT=()=>Sh()?.config,gT=t=>Sh()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _T(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Bu(JSON.stringify(n)),Bu(JSON.stringify(o)),""].join(".")}const kc={};function Q0(){const t={prod:[],emulator:[]};for(const e of Object.keys(kc))kc[e]?t.emulator.push(e):t.prod.push(e);return t}function Y0(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let y_=!1;function yT(t,e){if(typeof window>"u"||typeof document>"u"||!ka(window.location.host)||kc[t]===e||kc[t]||y_)return;kc[t]=e;function n(y){return`__firebase__banner__${y}`}const s="__firebase__banner",i=Q0().prod.length>0;function o(){const y=document.getElementById(s);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,E){y.setAttribute("width","24"),y.setAttribute("id",E),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{y_=!0,o()},y}function d(y,E){y.setAttribute("id",E),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function m(){const y=Y0(s),E=n("text"),O=document.getElementById(E)||document.createElement("span"),D=n("learnmore"),U=document.getElementById(D)||document.createElement("a"),H=n("preprendIcon"),M=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const R=y.element;c(R),d(U,D);const x=h();u(M,H),R.append(M,O,U,x),document.body.appendChild(R)}i?(O.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function J0(){const t=Sh()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Z0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ek(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nk(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sk(){return!J0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rk(){try{return typeof indexedDB=="object"}catch{return!1}}function ik(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="FirebaseError";class Pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ok,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?ak(i,s):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new Pr(r,c,s)}}function ak(t,e){return t.replace(ck,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const ck=/\{\$([^}]+)}/g;function lk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function br(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(v_(i)&&v_(o)){if(!br(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function v_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function gc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function _c(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function uk(t,e){const n=new hk(t,e);return n.subscribe.bind(n)}class hk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fk(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Mf),r.error===void 0&&(r.error=Mf),r.complete===void 0&&(r.complete=Mf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Mf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class fo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new K0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mk(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);s===c&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pk(t){return t===zi?void 0:t}function mk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const _k={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},yk=je.INFO,vk={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},Ek=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=vk[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ep{constructor(e){this.name=e,this._logLevel=yk,this._logHandler=Ek,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const Tk=(t,e)=>e.some(n=>t instanceof n);let E_,T_;function wk(){return E_||(E_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bk(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vT=new WeakMap,vd=new WeakMap,ET=new WeakMap,Ff=new WeakMap,Tp=new WeakMap;function Ak(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(li(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vT.set(n,t)}).catch(()=>{}),Tp.set(e,t),e}function Ik(t){if(vd.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});vd.set(t,e)}let Ed={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ET.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ck(t){Ed=t(Ed)}function Sk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Uf(this),e,...n);return ET.set(s,e.sort?e.sort():[e]),li(s)}:bk().includes(t)?function(...e){return t.apply(Uf(this),e),li(vT.get(this))}:function(...e){return li(t.apply(Uf(this),e))}}function Rk(t){return typeof t=="function"?Sk(t):(t instanceof IDBTransaction&&Ik(t),Tk(t,wk())?new Proxy(t,Ed):t)}function li(t){if(t instanceof IDBRequest)return Ak(t);if(Ff.has(t))return Ff.get(t);const e=Rk(t);return e!==t&&(Ff.set(t,e),Tp.set(e,t)),e}const Uf=t=>Tp.get(t);function Pk(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),c=li(o);return s&&o.addEventListener("upgradeneeded",u=>{s(li(o.result),u.oldVersion,u.newVersion,li(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const kk=["get","getKey","getAll","getAllKeys","count"],Nk=["put","add","delete","clear"],Bf=new Map;function w_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bf.get(e))return Bf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=Nk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||kk.includes(n)))return;const i=async function(o,...c){const u=this.transaction(o,r?"readwrite":"readonly");let h=u.store;return s&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),r&&u.done]))[0]};return Bf.set(e,i),i}Ck(t=>({...t,get:(e,n,s)=>w_(e,n)||t.get(e,n,s),has:(e,n)=>!!w_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Dk(t){return t.getComponent()?.type==="VERSION"}const Td="@firebase/app",b_="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new Ep("@firebase/app"),xk="@firebase/app-compat",Vk="@firebase/analytics-compat",Lk="@firebase/analytics",Mk="@firebase/app-check-compat",Fk="@firebase/app-check",Uk="@firebase/auth",Bk="@firebase/auth-compat",jk="@firebase/database",$k="@firebase/data-connect",Hk="@firebase/database-compat",qk="@firebase/functions",Wk="@firebase/functions-compat",Gk="@firebase/installations",Kk="@firebase/installations-compat",zk="@firebase/messaging",Qk="@firebase/messaging-compat",Yk="@firebase/performance",Xk="@firebase/performance-compat",Jk="@firebase/remote-config",Zk="@firebase/remote-config-compat",eN="@firebase/storage",tN="@firebase/storage-compat",nN="@firebase/firestore",sN="@firebase/ai",rN="@firebase/firestore-compat",iN="firebase",oN="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="[DEFAULT]",aN={[Td]:"fire-core",[xk]:"fire-core-compat",[Lk]:"fire-analytics",[Vk]:"fire-analytics-compat",[Fk]:"fire-app-check",[Mk]:"fire-app-check-compat",[Uk]:"fire-auth",[Bk]:"fire-auth-compat",[jk]:"fire-rtdb",[$k]:"fire-data-connect",[Hk]:"fire-rtdb-compat",[qk]:"fire-fn",[Wk]:"fire-fn-compat",[Gk]:"fire-iid",[Kk]:"fire-iid-compat",[zk]:"fire-fcm",[Qk]:"fire-fcm-compat",[Yk]:"fire-perf",[Xk]:"fire-perf-compat",[Jk]:"fire-rc",[Zk]:"fire-rc-compat",[eN]:"fire-gcs",[tN]:"fire-gcs-compat",[nN]:"fire-fst",[rN]:"fire-fst-compat",[sN]:"fire-vertex","fire-js":"fire-js",[iN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,cN=new Map,bd=new Map;function A_(t,e){try{t.container.addComponent(e)}catch(n){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pa(t){const e=t.name;if(bd.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;bd.set(e,t);for(const n of Qc.values())A_(n,t);for(const n of cN.values())A_(n,t);return!0}function wp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ts(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new pl("app","Firebase",lN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=oN;function TT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:wd,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw ui.create("bad-app-name",{appName:String(r)});if(n||(n=mT()),!n)throw ui.create("no-options");const i=Qc.get(r);if(i){if(br(n,i.options)&&br(s,i.config))return i;throw ui.create("duplicate-app",{appName:r})}const o=new gk(r);for(const u of bd.values())o.addComponent(u);const c=new uN(n,s,o);return Qc.set(r,c),c}function bp(t=wd){const e=Qc.get(t);if(!e&&t===wd&&mT())return TT();if(!e)throw ui.create("no-app",{appName:t});return e}function hN(){return Array.from(Qc.values())}function hi(t,e,n){let s=aN[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(o.join(" "));return}pa(new fo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="firebase-heartbeat-database",dN=1,Yc="firebase-heartbeat-store";let jf=null;function wT(){return jf||(jf=Pk(fN,dN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),jf}async function pN(t){try{const n=(await wT()).transaction(Yc),s=await n.objectStore(Yc).get(bT(t));return await n.done,s}catch(e){if(e instanceof Pr)Ar.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(n.message)}}}async function I_(t,e){try{const s=(await wT()).transaction(Yc,"readwrite");await s.objectStore(Yc).put(e,bT(t)),await s.done}catch(n){if(n instanceof Pr)Ar.warn(n.message);else{const s=ui.create("idb-set",{originalErrorMessage:n?.message});Ar.warn(s.message)}}}function bT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=1024,gN=30;class _N{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=C_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>gN){const r=EN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C_(),{heartbeatsToSend:n,unsentEntries:s}=yN(this._heartbeatsCache.heartbeats),r=Bu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Ar.warn(e),""}}}function C_(){return new Date().toISOString().substring(0,10)}function yN(t,e=mN){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),S_(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),S_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rk()?ik().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return I_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return I_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function S_(t){return Bu(JSON.stringify({version:2,heartbeats:t})).length}function EN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){pa(new fo("platform-logger",e=>new Ok(e),"PRIVATE")),pa(new fo("heartbeat",e=>new _N(e),"PRIVATE")),hi(Td,b_,t),hi(Td,b_,"esm2020"),hi("fire-js","")}TN("");var wN="firebase",bN="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi(wN,bN,"app");function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AN=AT,IT=new pl("auth","Firebase",AT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Ep("@firebase/auth");function IN(t,...e){ju.logLevel<=je.WARN&&ju.warn(`Auth (${Na}): ${t}`,...e)}function du(t,...e){ju.logLevel<=je.ERROR&&ju.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,...e){throw Ap(t,...e)}function Us(t,...e){return Ap(t,...e)}function CT(t,e,n){const s={...AN(),[e]:n};return new pl("auth","Firebase",s).create(e,{appName:t.name})}function mr(t){return CT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ap(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return IT.create(t,...e)}function Ce(t,e,...n){if(!t)throw Ap(e,...n)}function fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw du(e),new Error(e)}function Ir(t,e){t||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(){return typeof self<"u"&&self.location?.href||""}function CN(){return R_()==="http:"||R_()==="https:"}function R_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CN()||ek()||"connection"in navigator)?navigator.onLine:!0}function RN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ir(n>e,"Short delay should be less than long delay!"),this.isMobile=X0()||tk()}get(){return SN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t,e){Ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NN=new gl(3e4,6e4);function kr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ts(t,e,n,s,r={}){return RT(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const c=ml({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...i};return Z0()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&ka(t.emulatorConfig.host)&&(h.credentials="include"),ST.fetch()(await PT(t,t.config.apiHost,n,c),h)})}async function RT(t,e,n){t._canInitEmulator=!1;const s={...PN,...e};try{const r=new DN(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw tu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const c=i.ok?o.errorMessage:o.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw tu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw tu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw tu(t,"user-disabled",o);const d=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw CT(t,d,h);vs(t,d)}}catch(r){if(r instanceof Pr)throw r;vs(t,"network-request-failed",{message:String(r)})}}async function _l(t,e,n,s,r={}){const i=await Ts(t,e,n,s,r);return"mfaPendingCredential"in i&&vs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function PT(t,e,n,s){const r=`${e}${n}?${s}`,i=t,o=i.config.emulator?Ip(t.config,r):`${t.config.apiScheme}://${r}`;return kN.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function ON(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Us(this.auth,"network-request-failed")),NN.get())})}}function tu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Us(t,e,s);return r.customData._tokenResponse=n,r}function P_(t){return t!==void 0&&t.enterprise!==void 0}class xN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ON(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VN(t,e){return Ts(t,"GET","/v2/recaptchaConfig",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,e){return Ts(t,"POST","/v1/accounts:delete",e)}async function $u(t,e){return Ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MN(t,e=!1){const n=Tt(t),s=await n.getIdToken(e),r=Cp(s);Ce(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i?.sign_in_provider;return{claims:r,token:s,authTime:Nc($f(r.auth_time)),issuedAtTime:Nc($f(r.iat)),expirationTime:Nc($f(r.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function $f(t){return Number(t)*1e3}function Cp(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return du("JWT malformed, contained fewer than 3 sections"),null;try{const r=dT(n);return r?JSON.parse(r):(du("Failed to decode base64 JWT payload"),null)}catch(r){return du("Caught error parsing JWT payload as JSON",r?.toString()),null}}function k_(t){const e=Cp(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Pr&&FN(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function FN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t){const e=t.auth,n=await t.getIdToken(),s=await po(t,$u(e,{idToken:n}));Ce(s?.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=r.providerUserInfo?.length?kT(r.providerUserInfo):[],o=jN(t.providerData,i),c=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!o?.length,h=c?u:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Id(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function BN(t){const e=Tt(t);await Hu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jN(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function kT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(t,e){const n=await RT(t,{},async()=>{const s=ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=await PT(t,r,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:s};return t.emulatorConfig&&ka(t.emulatorConfig.host)&&(u.credentials="include"),ST.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HN(t,e){return Ts(t,"POST","/v2/accounts:revokeToken",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=k_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await $N(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new sa;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(Ce(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(Ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sa,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ms{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new UN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Id(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await po(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MN(this,e)}reload(){return BN(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Hu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ts(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await po(this,LN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:m,emailVerified:y,isAnonymous:E,providerData:O,stsTokenManager:D}=n;Ce(m&&D,e,"internal-error");const U=sa.fromJSON(this.name,D);Ce(typeof m=="string",e,"internal-error"),Qr(s,e.name),Qr(r,e.name),Ce(typeof y=="boolean",e,"internal-error"),Ce(typeof E=="boolean",e,"internal-error"),Qr(i,e.name),Qr(o,e.name),Qr(c,e.name),Qr(u,e.name),Qr(h,e.name),Qr(d,e.name);const H=new ms({uid:m,auth:e,email:r,emailVerified:y,displayName:s,isAnonymous:E,photoURL:o,phoneNumber:i,tenantId:c,stsTokenManager:U,createdAt:h,lastLoginAt:d});return O&&Array.isArray(O)&&(H.providerData=O.map(M=>({...M}))),u&&(H._redirectEventId=u),H}static async _fromIdTokenResponse(e,n,s=!1){const r=new sa;r.updateFromServerResponse(n);const i=new ms({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Hu(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];Ce(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?kT(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!i?.length,c=new sa;c.updateFromIdToken(s);const u=new ms({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Id(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=new Map;function dr(t){Ir(t instanceof Function,"Expected a class definition");let e=N_.get(t);return e?(Ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NT.type="NONE";const O_=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t,e,n){return`firebase:${t}:${e}:${n}`}class ra{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=pu(this.userKey,r.apiKey,i),this.fullPersistenceKey=pu("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await $u(this.auth,{idToken:e}).catch(()=>{});return n?ms._fromGetAccountInfoResponse(this.auth,n,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ra(dr(O_),e,s);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=r[0]||dr(O_);const o=pu(s,e.config.apiKey,e.name);let c=null;for(const h of n)try{const d=await h._get(o);if(d){let m;if(typeof d=="string"){const y=await $u(e,{idToken:d}).catch(()=>{});if(!y)break;m=await ms._fromGetAccountInfoResponse(e,y,d)}else m=ms._fromJSON(e,d);h!==i&&(c=m),i=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new ra(i,e,s):(i=u[0],c&&await i._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new ra(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MT(e))return"Blackberry";if(FT(e))return"Webos";if(DT(e))return"Safari";if((e.includes("chrome/")||xT(e))&&!e.includes("edge/"))return"Chrome";if(LT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function OT(t=yn()){return/firefox\//i.test(t)}function DT(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xT(t=yn()){return/crios\//i.test(t)}function VT(t=yn()){return/iemobile/i.test(t)}function LT(t=yn()){return/android/i.test(t)}function MT(t=yn()){return/blackberry/i.test(t)}function FT(t=yn()){return/webos/i.test(t)}function Sp(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qN(t=yn()){return Sp(t)&&!!window.navigator?.standalone}function WN(){return nk()&&document.documentMode===10}function UT(t=yn()){return Sp(t)||LT(t)||FT(t)||MT(t)||/windows phone/i.test(t)||VT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t,e=[]){let n;switch(t){case"Browser":n=D_(yn());break;case"Worker":n=`${D_(yn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,c)=>{try{const u=e(i);o(u)}catch(u){c(u)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e={}){return Ts(t,"GET","/v2/passwordPolicy",kr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=6;class QN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x_(this),this.idTokenSubscription=new x_(this),this.beforeStateQueue=new GN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $u(this,{idToken:e}),s=await ms._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ts(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=s?._redirectEventId,c=await this.tryRedirectSignIn(e);(!i||i===o)&&c?.user&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ts(this.app))return Promise.reject(mr(this));const n=e?Tt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ts(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ts(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KN(this),n=new QN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await HN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,r);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ts(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bi(t){return Tt(t)}class x_{constructor(e){this.auth=e,this.observer=null,this.addObserver=uk(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XN(t){Rh=t}function jT(t){return Rh.loadJS(t)}function JN(){return Rh.recaptchaEnterpriseScript}function ZN(){return Rh.gapiScript}function eO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class tO{constructor(){this.enterprise=new nO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class nO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sO="recaptcha-enterprise",$T="NO_RECAPTCHA";class rO{constructor(e){this.type=sO,this.auth=bi(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,c)=>{VN(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new xN(u);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(u=>{c(u)})})}function r(i,o,c){const u=window.grecaptcha;P_(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o($T)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tO().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(c=>{if(!n&&P_(window.grecaptcha))r(c,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=JN();u.length!==0&&(u+=c),jT(u).then(()=>{r(c,i,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function V_(t,e,n,s=!1,r=!1){const i=new rO(t);let o;if(r)o=$T;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return s?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function qu(t,e,n,s,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await V_(t,e,n,n==="getOobCode");return s(t,i)}else return s(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await V_(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t,e){const n=wp(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(br(i,e??{}))return r;vs(r,"already-initialized")}return n.initialize({options:e})}function oO(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function aO(t,e,n){const s=bi(t);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=HT(e),{host:o,port:c}=cO(e),u=c===null?"":`:${c}`,h={url:`${i}//${o}${u}/`},d=Object.freeze({host:o,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(br(h,s.config.emulator)&&br(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,ka(o)?(_T(`${i}//${o}${u}`),yT("Auth",!0)):lO()}function HT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cO(t){const e=HT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:L_(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:L_(o)}}}function L_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function uO(t,e){return Ts(t,"POST","/v1/accounts:update",e)}async function hO(t,e){return Ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(t,e){return _l(t,"POST","/v1/accounts:signInWithPassword",kr(t,e))}async function qT(t,e){return Ts(t,"POST","/v1/accounts:sendOobCode",kr(t,e))}async function dO(t,e){return qT(t,e)}async function pO(t,e){return qT(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))}async function gO(t,e){return _l(t,"POST","/v1/accounts:signInWithEmailLink",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Rp{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Xc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Xc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qu(e,n,"signInWithPassword",fO);case"emailLink":return mO(e,{email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qu(e,s,"signUpPassword",hO);case"emailLink":return gO(e,{idToken:n,email:this._email,oobCode:this._password});default:vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ia(t,e){return _l(t,"POST","/v1/accounts:signInWithIdp",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="http://localhost";class mo extends Rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const o=new mo(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ia(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ia(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ia(e,n)}buildRequest(){const e={requestUri:_O,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ml(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vO(t){const e=gc(_c(t)).link,n=e?gc(_c(e)).deep_link_id:null,s=gc(_c(t)).deep_link_id;return(s?gc(_c(s)).link:null)||s||n||e||t}class Pp{constructor(e){const n=gc(_c(e)),s=n.apiKey??null,r=n.oobCode??null,i=yO(n.mode??null);Ce(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=vO(e);try{return new Pp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.providerId=Oa.PROVIDER_ID}static credential(e,n){return Xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Pp.parseLink(n);return Ce(s,"argument-error"),Xc._fromEmailAndCode(e,s.code,s.tenantId)}}Oa.PROVIDER_ID="password";Oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends WT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends yl{constructor(){super("facebook.com")}static credential(e){return mo._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mo._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ni.credential(n,s)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends yl{constructor(){super("github.com")}static credential(e){return mo._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return si.credential(e.oauthAccessToken)}catch{return null}}}si.GITHUB_SIGN_IN_METHOD="github.com";si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends yl{constructor(){super("twitter.com")}static credential(e,n){return mo._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ri.credential(n,s)}catch{return null}}}ri.TWITTER_SIGN_IN_METHOD="twitter.com";ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(t,e){return _l(t,"POST","/v1/accounts:signUp",kr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await ms._fromIdTokenResponse(e,s,r),o=M_(s);return new go({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=M_(s);return new go({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function M_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Pr{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Wu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Wu(e,n,s,r)}}function GT(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Wu._fromErrorAndOperation(t,i,e,s):i})}async function TO(t,e,n=!1){const s=await po(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return go._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KT(t,e,n=!1){const{auth:s}=t;if(ts(s.app))return Promise.reject(mr(s));const r="reauthenticate";try{const i=await po(t,GT(s,r,e,t),n);Ce(i.idToken,s,"internal-error");const o=Cp(i.idToken);Ce(o,s,"internal-error");const{sub:c}=o;return Ce(t.uid===c,s,"user-mismatch"),go._forOperation(t,r,i)}catch(i){throw i?.code==="auth/user-not-found"&&vs(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zT(t,e,n=!1){if(ts(t.app))return Promise.reject(mr(t));const s="signIn",r=await GT(t,s,e),i=await go._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function wO(t,e){return zT(bi(t),e)}async function ML(t,e){return KT(Tt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT(t){const e=bi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bO(t,e,n){const s=bi(t);await qu(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",pO)}async function AO(t,e,n){if(ts(t.app))return Promise.reject(mr(t));const s=bi(t),o=await qu(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EO).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&QT(t),u}),c=await go._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(c.user),c}function YT(t,e,n){return ts(t.app)?Promise.reject(mr(t)):wO(Tt(t),Oa.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&QT(t),s})}async function XT(t,e){const n=Tt(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await dO(n.auth,r);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IO(t,e){return Ts(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Tt(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await po(s,IO(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const c=s.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=s.displayName,c.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function FL(t,e){return SO(Tt(t),null,e)}async function SO(t,e,n){const{auth:s}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const o=await po(t,uO(s,i));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e){return Tt(t).setPersistence(e)}function PO(t,e,n,s){return Tt(t).onIdTokenChanged(e,n,s)}function kO(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function JT(t,e,n,s){return Tt(t).onAuthStateChanged(e,n,s)}function Ph(t){return Tt(t).signOut()}const Gu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gu,"1"),this.storage.removeItem(Gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=1e3,OO=10;class ew extends ZT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);WN()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,OO):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},NO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ew.type="LOCAL";const tw=ew;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw extends ZT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nw.type="SESSION";const kp=nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const c=Array.from(o).map(async h=>h(n.origin,i)),u=await DO(c);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((c,u)=>{const h=Np("",20);r.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(m){const y=m;if(y.data.eventId===h)switch(y.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(y.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(){return window}function VO(t){Bs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){return typeof Bs().WorkerGlobalScope<"u"&&typeof Bs().importScripts=="function"}async function LO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MO(){return navigator?.serviceWorker?.controller||null}function FO(){return sw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="firebaseLocalStorageDb",UO=1,Ku="firebaseLocalStorage",iw="fbase_key";class vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(t,e){return t.transaction([Ku],e?"readwrite":"readonly").objectStore(Ku)}function BO(){const t=indexedDB.deleteDatabase(rw);return new vl(t).toPromise()}function Cd(){const t=indexedDB.open(rw,UO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ku,{keyPath:iw})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ku)?e(s):(s.close(),await BO(),e(await Cd()))})})}async function F_(t,e,n){const s=Nh(t,!0).put({[iw]:e,value:n});return new vl(s).toPromise()}async function jO(t,e){const n=Nh(t,!1).get(e),s=await new vl(n).toPromise();return s===void 0?null:s.value}function U_(t,e){const n=Nh(t,!0).delete(e);return new vl(n).toPromise()}const $O=800,HO=3;class ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>HO)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(FO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LO(),!this.activeServiceWorker)return;this.sender=new xO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cd();return await F_(e,Gu,"1"),await U_(e,Gu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>F_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>jO(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Nh(r,!1).getAll();return new vl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ow.type="LOCAL";const qO=ow;new gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t,e){return e?dr(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends Rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GO(t){return zT(t.auth,new Op(t),t.bypassAuthState)}function KO(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),KT(n,new Op(t),t.bypassAuthState)}async function zO(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),TO(n,new Op(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GO;case"linkViaPopup":case"linkViaRedirect":return zO;case"reauthViaPopup":case"reauthViaRedirect":return KO;default:vs(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new gl(2e3,1e4);class Jo extends aw{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=Np();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QO.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="pendingRedirect",mu=new Map;class XO extends aw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mu.get(this.auth._key());if(!e){try{const s=await JO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mu.set(this.auth._key(),e)}return this.bypassAuthState||mu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JO(t,e){const n=t1(e),s=e1(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function ZO(t,e){mu.set(t._key(),e)}function e1(t){return dr(t._redirectPersistence)}function t1(t){return pu(YO,t.config.apiKey,t.name)}async function n1(t,e,n=!1){if(ts(t.app))return Promise.reject(mr(t));const s=bi(t),r=WO(s,e),o=await new XO(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=600*1e3;class r1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!cw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Us(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s1&&this.cachedEventUids.clear(),this.cachedEventUids.has(B_(e))}saveEventToCache(e){this.cachedEventUids.add(B_(e)),this.lastProcessedEventTime=Date.now()}}function B_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cw({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function i1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(t,e={}){return Ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c1=/^https?/;async function l1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o1(t);for(const n of e)try{if(u1(n))return}catch{}vs(t,"unauthorized-domain")}function u1(t){const e=Ad(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!c1.test(n))return!1;if(a1.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=new gl(3e4,6e4);function j_(){const t=Bs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f1(t){return new Promise((e,n)=>{function s(){j_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{j_(),n(Us(t,"network-request-failed"))},timeout:h1.get()})}if(Bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bs().gapi?.load)s();else{const r=eO("iframefcb");return Bs()[r]=()=>{gapi.load?s():n(Us(t,"network-request-failed"))},jT(`${ZN()}?onload=${r}`).catch(i=>n(i))}}).catch(e=>{throw gu=null,e})}let gu=null;function d1(t){return gu=gu||f1(t),gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new gl(5e3,15e3),m1="__/auth/iframe",g1="emulator/auth/iframe",_1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v1(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ip(e,g1):`https://${t.config.authDomain}/${m1}`,s={apiKey:e.apiKey,appName:t.name,v:Na},r=y1.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${ml(s).slice(1)}`}async function E1(t){const e=await d1(t),n=Bs().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:v1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_1,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=Us(t,"network-request-failed"),c=Bs().setTimeout(()=>{i(o)},p1.get());function u(){Bs().clearTimeout(c),r(s)}s.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w1=500,b1=600,A1="_blank",I1="http://localhost";class $_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C1(t,e,n,s=w1,r=b1){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let c="";const u={...T1,width:s.toString(),height:r.toString(),top:i,left:o},h=yn().toLowerCase();n&&(c=xT(h)?A1:n),OT(h)&&(e=e||I1,u.scrollbars="yes");const d=Object.entries(u).reduce((y,[E,O])=>`${y}${E}=${O},`,"");if(qN(h)&&c!=="_self")return S1(e||"",c),new $_(null);const m=window.open(e||"",c,d);Ce(m,t,"popup-blocked");try{m.focus()}catch{}return new $_(m)}function S1(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="__/auth/handler",P1="emulator/auth/handler",k1=encodeURIComponent("fac");async function H_(t,e,n,s,r,i){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Na,eventId:r};if(e instanceof WT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))o[d]=m}if(e instanceof yl){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const d of Object.keys(c))c[d]===void 0&&delete c[d];const u=await t._getAppCheckToken(),h=u?`#${k1}=${encodeURIComponent(u)}`:"";return`${N1(t)}?${ml(c).slice(1)}${h}`}function N1({config:t}){return t.emulator?Ip(t,P1):`https://${t.authDomain}/${R1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="webStorageSupport";class O1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kp,this._completeRedirectFn=n1,this._overrideRedirectResult=ZO}async _openPopup(e,n,s,r){Ir(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await H_(e,n,s,Ad(),r);return C1(e,i,Np())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await H_(e,n,s,Ad(),r);return VO(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(Ir(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await E1(e),s=new r1(e);return n.register("authEvent",r=>(Ce(r?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hf,{type:Hf},r=>{const i=r?.[0]?.[Hf];i!==void 0&&n(!!i),vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=l1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UT()||DT()||Sp()}}const D1=O1;var q_="@firebase/auth",W_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L1(t){pa(new fo("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=s.options;Ce(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BT(t)},h=new YN(s,r,i,u);return oO(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),pa(new fo("auth-internal",e=>{const n=bi(e.getProvider("auth").getImmediate());return(s=>new x1(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hi(q_,W_,V1(t)),hi(q_,W_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=300,F1=gT("authIdTokenMaxAge")||M1;let G_=null;const U1=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>F1)return;const r=n?.token;G_!==r&&(G_=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function B1(t=bp()){const e=wp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=iO(t,{popupRedirectResolver:D1,persistence:[qO,tw,kp]}),s=gT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=U1(i.toString());kO(n,o,()=>o(n.currentUser)),PO(n,c=>o(c))}}const r=pT("auth");return r&&aO(n,`http://${r}`),n}function j1(){return document.getElementsByTagName("head")?.[0]??document}XN({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Us("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",j1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L1("Browser");var K_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fi,lw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,b){function T(){}T.prototype=b.prototype,S.F=b.prototype,S.prototype=new T,S.prototype.constructor=S,S.D=function(I,P,k){for(var A=Array(arguments.length-2),be=2;be<arguments.length;be++)A[be-2]=arguments[be];return b.prototype[P].apply(I,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,b,T){T||(T=0);const I=Array(16);if(typeof b=="string")for(var P=0;P<16;++P)I[P]=b.charCodeAt(T++)|b.charCodeAt(T++)<<8|b.charCodeAt(T++)<<16|b.charCodeAt(T++)<<24;else for(P=0;P<16;++P)I[P]=b[T++]|b[T++]<<8|b[T++]<<16|b[T++]<<24;b=S.g[0],T=S.g[1],P=S.g[2];let k=S.g[3],A;A=b+(k^T&(P^k))+I[0]+3614090360&4294967295,b=T+(A<<7&4294967295|A>>>25),A=k+(P^b&(T^P))+I[1]+3905402710&4294967295,k=b+(A<<12&4294967295|A>>>20),A=P+(T^k&(b^T))+I[2]+606105819&4294967295,P=k+(A<<17&4294967295|A>>>15),A=T+(b^P&(k^b))+I[3]+3250441966&4294967295,T=P+(A<<22&4294967295|A>>>10),A=b+(k^T&(P^k))+I[4]+4118548399&4294967295,b=T+(A<<7&4294967295|A>>>25),A=k+(P^b&(T^P))+I[5]+1200080426&4294967295,k=b+(A<<12&4294967295|A>>>20),A=P+(T^k&(b^T))+I[6]+2821735955&4294967295,P=k+(A<<17&4294967295|A>>>15),A=T+(b^P&(k^b))+I[7]+4249261313&4294967295,T=P+(A<<22&4294967295|A>>>10),A=b+(k^T&(P^k))+I[8]+1770035416&4294967295,b=T+(A<<7&4294967295|A>>>25),A=k+(P^b&(T^P))+I[9]+2336552879&4294967295,k=b+(A<<12&4294967295|A>>>20),A=P+(T^k&(b^T))+I[10]+4294925233&4294967295,P=k+(A<<17&4294967295|A>>>15),A=T+(b^P&(k^b))+I[11]+2304563134&4294967295,T=P+(A<<22&4294967295|A>>>10),A=b+(k^T&(P^k))+I[12]+1804603682&4294967295,b=T+(A<<7&4294967295|A>>>25),A=k+(P^b&(T^P))+I[13]+4254626195&4294967295,k=b+(A<<12&4294967295|A>>>20),A=P+(T^k&(b^T))+I[14]+2792965006&4294967295,P=k+(A<<17&4294967295|A>>>15),A=T+(b^P&(k^b))+I[15]+1236535329&4294967295,T=P+(A<<22&4294967295|A>>>10),A=b+(P^k&(T^P))+I[1]+4129170786&4294967295,b=T+(A<<5&4294967295|A>>>27),A=k+(T^P&(b^T))+I[6]+3225465664&4294967295,k=b+(A<<9&4294967295|A>>>23),A=P+(b^T&(k^b))+I[11]+643717713&4294967295,P=k+(A<<14&4294967295|A>>>18),A=T+(k^b&(P^k))+I[0]+3921069994&4294967295,T=P+(A<<20&4294967295|A>>>12),A=b+(P^k&(T^P))+I[5]+3593408605&4294967295,b=T+(A<<5&4294967295|A>>>27),A=k+(T^P&(b^T))+I[10]+38016083&4294967295,k=b+(A<<9&4294967295|A>>>23),A=P+(b^T&(k^b))+I[15]+3634488961&4294967295,P=k+(A<<14&4294967295|A>>>18),A=T+(k^b&(P^k))+I[4]+3889429448&4294967295,T=P+(A<<20&4294967295|A>>>12),A=b+(P^k&(T^P))+I[9]+568446438&4294967295,b=T+(A<<5&4294967295|A>>>27),A=k+(T^P&(b^T))+I[14]+3275163606&4294967295,k=b+(A<<9&4294967295|A>>>23),A=P+(b^T&(k^b))+I[3]+4107603335&4294967295,P=k+(A<<14&4294967295|A>>>18),A=T+(k^b&(P^k))+I[8]+1163531501&4294967295,T=P+(A<<20&4294967295|A>>>12),A=b+(P^k&(T^P))+I[13]+2850285829&4294967295,b=T+(A<<5&4294967295|A>>>27),A=k+(T^P&(b^T))+I[2]+4243563512&4294967295,k=b+(A<<9&4294967295|A>>>23),A=P+(b^T&(k^b))+I[7]+1735328473&4294967295,P=k+(A<<14&4294967295|A>>>18),A=T+(k^b&(P^k))+I[12]+2368359562&4294967295,T=P+(A<<20&4294967295|A>>>12),A=b+(T^P^k)+I[5]+4294588738&4294967295,b=T+(A<<4&4294967295|A>>>28),A=k+(b^T^P)+I[8]+2272392833&4294967295,k=b+(A<<11&4294967295|A>>>21),A=P+(k^b^T)+I[11]+1839030562&4294967295,P=k+(A<<16&4294967295|A>>>16),A=T+(P^k^b)+I[14]+4259657740&4294967295,T=P+(A<<23&4294967295|A>>>9),A=b+(T^P^k)+I[1]+2763975236&4294967295,b=T+(A<<4&4294967295|A>>>28),A=k+(b^T^P)+I[4]+1272893353&4294967295,k=b+(A<<11&4294967295|A>>>21),A=P+(k^b^T)+I[7]+4139469664&4294967295,P=k+(A<<16&4294967295|A>>>16),A=T+(P^k^b)+I[10]+3200236656&4294967295,T=P+(A<<23&4294967295|A>>>9),A=b+(T^P^k)+I[13]+681279174&4294967295,b=T+(A<<4&4294967295|A>>>28),A=k+(b^T^P)+I[0]+3936430074&4294967295,k=b+(A<<11&4294967295|A>>>21),A=P+(k^b^T)+I[3]+3572445317&4294967295,P=k+(A<<16&4294967295|A>>>16),A=T+(P^k^b)+I[6]+76029189&4294967295,T=P+(A<<23&4294967295|A>>>9),A=b+(T^P^k)+I[9]+3654602809&4294967295,b=T+(A<<4&4294967295|A>>>28),A=k+(b^T^P)+I[12]+3873151461&4294967295,k=b+(A<<11&4294967295|A>>>21),A=P+(k^b^T)+I[15]+530742520&4294967295,P=k+(A<<16&4294967295|A>>>16),A=T+(P^k^b)+I[2]+3299628645&4294967295,T=P+(A<<23&4294967295|A>>>9),A=b+(P^(T|~k))+I[0]+4096336452&4294967295,b=T+(A<<6&4294967295|A>>>26),A=k+(T^(b|~P))+I[7]+1126891415&4294967295,k=b+(A<<10&4294967295|A>>>22),A=P+(b^(k|~T))+I[14]+2878612391&4294967295,P=k+(A<<15&4294967295|A>>>17),A=T+(k^(P|~b))+I[5]+4237533241&4294967295,T=P+(A<<21&4294967295|A>>>11),A=b+(P^(T|~k))+I[12]+1700485571&4294967295,b=T+(A<<6&4294967295|A>>>26),A=k+(T^(b|~P))+I[3]+2399980690&4294967295,k=b+(A<<10&4294967295|A>>>22),A=P+(b^(k|~T))+I[10]+4293915773&4294967295,P=k+(A<<15&4294967295|A>>>17),A=T+(k^(P|~b))+I[1]+2240044497&4294967295,T=P+(A<<21&4294967295|A>>>11),A=b+(P^(T|~k))+I[8]+1873313359&4294967295,b=T+(A<<6&4294967295|A>>>26),A=k+(T^(b|~P))+I[15]+4264355552&4294967295,k=b+(A<<10&4294967295|A>>>22),A=P+(b^(k|~T))+I[6]+2734768916&4294967295,P=k+(A<<15&4294967295|A>>>17),A=T+(k^(P|~b))+I[13]+1309151649&4294967295,T=P+(A<<21&4294967295|A>>>11),A=b+(P^(T|~k))+I[4]+4149444226&4294967295,b=T+(A<<6&4294967295|A>>>26),A=k+(T^(b|~P))+I[11]+3174756917&4294967295,k=b+(A<<10&4294967295|A>>>22),A=P+(b^(k|~T))+I[2]+718787259&4294967295,P=k+(A<<15&4294967295|A>>>17),A=T+(k^(P|~b))+I[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+k&4294967295}s.prototype.v=function(S,b){b===void 0&&(b=S.length);const T=b-this.blockSize,I=this.C;let P=this.h,k=0;for(;k<b;){if(P==0)for(;k<=T;)r(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<b;)if(I[P++]=S.charCodeAt(k++),P==this.blockSize){r(this,I),P=0;break}}else for(;k<b;)if(I[P++]=S[k++],P==this.blockSize){r(this,I),P=0;break}}this.h=P,this.o+=b},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;b=this.o*8;for(var T=S.length-8;T<S.length;++T)S[T]=b&255,b/=256;for(this.v(S),S=Array(16),b=0,T=0;T<4;++T)for(let I=0;I<32;I+=8)S[b++]=this.g[T]>>>I&255;return S};function i(S,b){var T=c;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=b(S)}function o(S,b){this.h=b;const T=[];let I=!0;for(let P=S.length-1;P>=0;P--){const k=S[P]|0;I&&k==b||(T[P]=k,I=!1)}this.g=T}var c={};function u(S){return-128<=S&&S<128?i(S,function(b){return new o([b|0],b<0?-1:0)}):new o([S|0],S<0?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return m;if(S<0)return U(h(-S));const b=[];let T=1;for(let I=0;S>=T;I++)b[I]=S/T|0,T*=4294967296;return new o(b,0)}function d(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return U(d(S.substring(1),b));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=h(Math.pow(b,8));let I=m;for(let k=0;k<S.length;k+=8){var P=Math.min(8,S.length-k);const A=parseInt(S.substring(k,k+P),b);P<8?(P=h(Math.pow(b,P)),I=I.j(P).add(h(A))):(I=I.j(T),I=I.add(h(A)))}return I}var m=u(0),y=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(D(this))return-U(this).m();let S=0,b=1;for(let T=0;T<this.g.length;T++){const I=this.i(T);S+=(I>=0?I:4294967296+I)*b,b*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(O(this))return"0";if(D(this))return"-"+U(this).toString(S);const b=h(Math.pow(S,6));var T=this;let I="";for(;;){const P=x(T,b).g;T=H(T,P.j(b));let k=((T.g.length>0?T.g[0]:T.h)>>>0).toString(S);if(T=P,O(T))return k+I;for(;k.length<6;)k="0"+k;I=k+I}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function O(S){if(S.h!=0)return!1;for(let b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function D(S){return S.h==-1}t.l=function(S){return S=H(this,S),D(S)?-1:O(S)?0:1};function U(S){const b=S.g.length,T=[];for(let I=0;I<b;I++)T[I]=~S.g[I];return new o(T,~S.h).add(y)}t.abs=function(){return D(this)?U(this):this},t.add=function(S){const b=Math.max(this.g.length,S.g.length),T=[];let I=0;for(let P=0;P<=b;P++){let k=I+(this.i(P)&65535)+(S.i(P)&65535),A=(k>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);I=A>>>16,k&=65535,A&=65535,T[P]=A<<16|k}return new o(T,T[T.length-1]&-2147483648?-1:0)};function H(S,b){return S.add(U(b))}t.j=function(S){if(O(this)||O(S))return m;if(D(this))return D(S)?U(this).j(U(S)):U(U(this).j(S));if(D(S))return U(this.j(U(S)));if(this.l(E)<0&&S.l(E)<0)return h(this.m()*S.m());const b=this.g.length+S.g.length,T=[];for(var I=0;I<2*b;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(let P=0;P<S.g.length;P++){const k=this.i(I)>>>16,A=this.i(I)&65535,be=S.i(P)>>>16,Le=S.i(P)&65535;T[2*I+2*P]+=A*Le,M(T,2*I+2*P),T[2*I+2*P+1]+=k*Le,M(T,2*I+2*P+1),T[2*I+2*P+1]+=A*be,M(T,2*I+2*P+1),T[2*I+2*P+2]+=k*be,M(T,2*I+2*P+2)}for(S=0;S<b;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=b;S<2*b;S++)T[S]=0;return new o(T,0)};function M(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function R(S,b){this.g=S,this.h=b}function x(S,b){if(O(b))throw Error("division by zero");if(O(S))return new R(m,m);if(D(S))return b=x(U(S),b),new R(U(b.g),U(b.h));if(D(b))return b=x(S,U(b)),new R(U(b.g),b.h);if(S.g.length>30){if(D(S)||D(b))throw Error("slowDivide_ only works with positive integers.");for(var T=y,I=b;I.l(S)<=0;)T=j(T),I=j(I);var P=z(T,1),k=z(I,1);for(I=z(I,2),T=z(T,2);!O(I);){var A=k.add(I);A.l(S)<=0&&(P=P.add(T),k=A),I=z(I,1),T=z(T,1)}return b=H(S,P.j(b)),new R(P,b)}for(P=m;S.l(b)>=0;){for(T=Math.max(1,Math.floor(S.m()/b.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),k=h(T),A=k.j(b);D(A)||A.l(S)>0;)T-=I,k=h(T),A=k.j(b);O(k)&&(k=y),P=P.add(k),S=H(S,A)}return new R(P,S)}t.B=function(S){return x(this,S).h},t.and=function(S){const b=Math.max(this.g.length,S.g.length),T=[];for(let I=0;I<b;I++)T[I]=this.i(I)&S.i(I);return new o(T,this.h&S.h)},t.or=function(S){const b=Math.max(this.g.length,S.g.length),T=[];for(let I=0;I<b;I++)T[I]=this.i(I)|S.i(I);return new o(T,this.h|S.h)},t.xor=function(S){const b=Math.max(this.g.length,S.g.length),T=[];for(let I=0;I<b;I++)T[I]=this.i(I)^S.i(I);return new o(T,this.h^S.h)};function j(S){const b=S.g.length+1,T=[];for(let I=0;I<b;I++)T[I]=S.i(I)<<1|S.i(I-1)>>>31;return new o(T,S.h)}function z(S,b){const T=b>>5;b%=32;const I=S.g.length-T,P=[];for(let k=0;k<I;k++)P[k]=b>0?S.i(k+T)>>>b|S.i(k+T+1)<<32-b:S.i(k+T);return new o(P,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lw=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,fi=o}).apply(typeof K_<"u"?K_:typeof self<"u"?self:typeof window<"u"?window:{});var nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uw,yc,hw,_u,Sd,fw,dw,pw;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof nu=="object"&&nu];for(var f=0;f<a.length;++f){var g=a[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function r(a,f){if(f)e:{var g=s;a=a.split(".");for(var w=0;w<a.length-1;w++){var F=a[w];if(!(F in g))break e;g=g[F]}a=a[a.length-1],w=g[a],f=f(w),f!=w&&f!=null&&e(g,a,{configurable:!0,writable:!0,value:f})}}r("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(a){return a||function(f){var g=[],w;for(w in f)Object.prototype.hasOwnProperty.call(f,w)&&g.push([w,f[w]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function c(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function u(a,f,g){return a.call.apply(a.bind,arguments)}function h(a,f,g){return h=u,h.apply(null,arguments)}function d(a,f){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function m(a,f){function g(){}g.prototype=f.prototype,a.Z=f.prototype,a.prototype=new g,a.prototype.constructor=a,a.Ob=function(w,F,$){for(var ie=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ie[xe-2]=arguments[xe];return f.prototype[F].apply(w,ie)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function E(a){const f=a.length;if(f>0){const g=Array(f);for(let w=0;w<f;w++)g[w]=a[w];return g}return[]}function O(a,f){for(let w=1;w<arguments.length;w++){const F=arguments[w];var g=typeof F;if(g=g!="object"?g:F?Array.isArray(F)?"array":g:"null",g=="array"||g=="object"&&typeof F.length=="number"){g=a.length||0;const $=F.length||0;a.length=g+$;for(let ie=0;ie<$;ie++)a[g+ie]=F[ie]}else a.push(F)}}class D{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function U(a){o.setTimeout(()=>{throw a},0)}function H(){var a=S;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class M{constructor(){this.h=this.g=null}add(f,g){const w=R.get();w.set(f,g),this.h?this.h.next=w:this.g=w,this.h=w}}var R=new D(()=>new x,a=>a.reset());class x{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let j,z=!1,S=new M,b=()=>{const a=Promise.resolve(void 0);j=()=>{a.then(T)}};function T(){for(var a;a=H();){try{a.h.call(a.g)}catch(g){U(g)}var f=R;f.j(a),f.h<100&&(f.h++,a.next=f.g,f.g=a)}z=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const g=()=>{};o.addEventListener("test",g,f),o.removeEventListener("test",g,f)}catch{}return a})();function A(a){return/^[\s\xa0]*$/.test(a)}function be(a,f){P.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,f)}m(be,P),be.prototype.init=function(a,f){const g=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget,f||(g=="mouseover"?f=a.fromElement:g=="mouseout"&&(f=a.toElement)),this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&be.Z.h.call(this)},be.prototype.h=function(){be.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),pe=0;function Re(a,f,g,w,F){this.listener=a,this.proxy=null,this.src=f,this.type=g,this.capture=!!w,this.ha=F,this.key=++pe,this.da=this.fa=!1}function fe(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function st(a,f,g){for(const w in a)f.call(g,a[w],w,a)}function Ln(a,f){for(const g in a)f.call(void 0,a[g],g,a)}function Y(a){const f={};for(const g in a)f[g]=a[g];return f}const Pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wn(a,f){let g,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(g in w)a[g]=w[g];for(let $=0;$<Pt.length;$++)g=Pt[$],Object.prototype.hasOwnProperty.call(w,g)&&(a[g]=w[g])}}function vn(a){this.src=a,this.g={},this.h=0}vn.prototype.add=function(a,f,g,w,F){const $=a.toString();a=this.g[$],a||(a=this.g[$]=[],this.h++);const ie=At(a,f,w,F);return ie>-1?(f=a[ie],g||(f.fa=!1)):(f=new Re(f,this.src,$,!!w,F),f.fa=g,a.push(f)),f};function kt(a,f){const g=f.type;if(g in a.g){var w=a.g[g],F=Array.prototype.indexOf.call(w,f,void 0),$;($=F>=0)&&Array.prototype.splice.call(w,F,1),$&&(fe(f),a.g[g].length==0&&(delete a.g[g],a.h--))}}function At(a,f,g,w){for(let F=0;F<a.length;++F){const $=a[F];if(!$.da&&$.listener==f&&$.capture==!!g&&$.ha==w)return F}return-1}var G="closure_lm_"+(Math.random()*1e6|0),ue={};function W(a,f,g,w,F){if(Array.isArray(f)){for(let $=0;$<f.length;$++)W(a,f[$],g,w,F);return null}return g=ee(g),a&&a[Le]?a.J(f,g,c(w)?!!w.capture:!1,F):ve(a,f,g,!1,w,F)}function ve(a,f,g,w,F,$){if(!f)throw Error("Invalid event type");const ie=c(F)?!!F.capture:!!F;let xe=J(a);if(xe||(a[G]=xe=new vn(a)),g=xe.add(f,g,w,ie,$),g.proxy)return g;if(w=Ve(),g.proxy=w,w.src=a,w.listener=g,a.addEventListener)k||(F=ie),F===void 0&&(F=!1),a.addEventListener(f.toString(),w,F);else if(a.attachEvent)a.attachEvent(N(f.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ve(){function a(g){return f.call(a.src,a.listener,g)}const f=B;return a}function rt(a,f,g,w,F){if(Array.isArray(f))for(var $=0;$<f.length;$++)rt(a,f[$],g,w,F);else w=c(w)?!!w.capture:!!w,g=ee(g),a&&a[Le]?(a=a.i,$=String(f).toString(),$ in a.g&&(f=a.g[$],g=At(f,g,w,F),g>-1&&(fe(f[g]),Array.prototype.splice.call(f,g,1),f.length==0&&(delete a.g[$],a.h--)))):a&&(a=J(a))&&(f=a.g[f.toString()],a=-1,f&&(a=At(f,g,w,F)),(g=a>-1?f[a]:null)&&C(g))}function C(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[Le])kt(f.i,a);else{var g=a.type,w=a.proxy;f.removeEventListener?f.removeEventListener(g,w,a.capture):f.detachEvent?f.detachEvent(N(g),w):f.addListener&&f.removeListener&&f.removeListener(w),(g=J(f))?(kt(g,a),g.h==0&&(g.src=null,f[G]=null)):fe(a)}}}function N(a){return a in ue?ue[a]:ue[a]="on"+a}function B(a,f){if(a.da)a=!0;else{f=new be(f,this);const g=a.listener,w=a.ha||a.src;a.fa&&C(a),a=g.call(w,f)}return a}function J(a){return a=a[G],a instanceof vn?a:null}var K="__closure_events_fn_"+(Math.random()*1e9>>>0);function ee(a){return typeof a=="function"?a:(a[K]||(a[K]=function(f){return a.handleEvent(f)}),a[K])}function se(){I.call(this),this.i=new vn(this),this.M=this,this.G=null}m(se,I),se.prototype[Le]=!0,se.prototype.removeEventListener=function(a,f,g,w){rt(this,a,f,g,w)};function te(a,f){var g,w=a.G;if(w)for(g=[];w;w=w.G)g.push(w);if(a=a.M,w=f.type||f,typeof f=="string")f=new P(f,a);else if(f instanceof P)f.target=f.target||a;else{var F=f;f=new P(w,a),Wn(f,F)}F=!0;let $,ie;if(g)for(ie=g.length-1;ie>=0;ie--)$=f.g=g[ie],F=re($,w,!0,f)&&F;if($=f.g=a,F=re($,w,!0,f)&&F,F=re($,w,!1,f)&&F,g)for(ie=0;ie<g.length;ie++)$=f.g=g[ie],F=re($,w,!1,f)&&F}se.prototype.N=function(){if(se.Z.N.call(this),this.i){var a=this.i;for(const f in a.g){const g=a.g[f];for(let w=0;w<g.length;w++)fe(g[w]);delete a.g[f],a.h--}}this.G=null},se.prototype.J=function(a,f,g,w){return this.i.add(String(a),f,!1,g,w)},se.prototype.K=function(a,f,g,w){return this.i.add(String(a),f,!0,g,w)};function re(a,f,g,w){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();let F=!0;for(let $=0;$<f.length;++$){const ie=f[$];if(ie&&!ie.da&&ie.capture==g){const xe=ie.listener,Ot=ie.ha||ie.src;ie.fa&&kt(a.i,ie),F=xe.call(Ot,w)!==!1&&F}}return F&&!w.defaultPrevented}function ne(a,f){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=h(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(a,f||0)}function Te(a){a.g=ne(()=>{a.g=null,a.i&&(a.i=!1,Te(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class ce extends I{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Te(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function me(a){I.call(this),this.h=a,this.g={}}m(me,I);var Ee=[];function Fe(a){st(a.g,function(f,g){this.g.hasOwnProperty(g)&&C(f)},a),a.g={}}me.prototype.N=function(){me.Z.N.call(this),Fe(this)},me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=o.JSON.stringify,Qe=o.JSON.parse,It=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function dt(){}function Nt(){}var Et={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function as(){P.call(this,"d")}m(as,P);function ws(){P.call(this,"c")}m(ws,P);var wt={},En=null;function Ks(){return En=En||new se}wt.Ia="serverreachability";function Ci(a){P.call(this,wt.Ia,a)}m(Ci,P);function Si(a){const f=Ks();te(f,new Ci(f))}wt.STAT_EVENT="statevent";function Il(a,f){P.call(this,wt.STAT_EVENT,a),this.stat=f}m(Il,P);function Gt(a){const f=Ks();te(f,new Il(f,a))}wt.Ja="timingevent";function Ri(a,f){P.call(this,wt.Ja,a),this.size=f}m(Ri,P);function Or(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},f)}function Dr(){this.g=!0}Dr.prototype.ua=function(){this.g=!1};function Zh(a,f,g,w,F,$){a.info(function(){if(a.g)if($){var ie="",xe=$.split("&");for(let Ge=0;Ge<xe.length;Ge++){var Ot=xe[Ge].split("=");if(Ot.length>1){const pt=Ot[0];Ot=Ot[1];const zn=pt.split("_");ie=zn.length>=2&&zn[1]=="type"?ie+(pt+"="+Ot+"&"):ie+(pt+"=redacted&")}}}else ie=null;else ie=$;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+f+`
`+g+`
`+ie})}function ef(a,f,g,w,F,$,ie){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+f+`
`+g+`
`+$+" "+ie})}function xr(a,f,g,w){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+Vr(a,g)+(w?" "+w:"")})}function tf(a,f){a.info(function(){return"TIMEOUT: "+f})}Dr.prototype.info=function(){};function Vr(a,f){if(!a.g)return f;if(!f)return null;try{const $=JSON.parse(f);if($){for(a=0;a<$.length;a++)if(Array.isArray($[a])){var g=$[a];if(!(g.length<2)){var w=g[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return Ye($)}catch{return f}}var bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function Ua(){}m(Ua,dt),Ua.prototype.g=function(){return new XMLHttpRequest},Sl=new Ua;function Pi(a){return encodeURIComponent(String(a))}function nf(a){var f=1;a=a.split(":");const g=[];for(;f>0&&a.length;)g.push(a.shift()),f--;return a.length&&g.push(a.join(":")),g}function Gn(a,f,g,w){this.j=a,this.i=f,this.l=g,this.S=w||1,this.V=new me(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zs}function zs(){this.i=null,this.g="",this.h=!1}var ki={},Ba={};function Ni(a,f,g){a.M=1,a.A=Di(Mn(f)),a.u=g,a.R=!0,Rl(a,null)}function Rl(a,f){a.F=Date.now(),Kt(a),a.B=Mn(a.A);var g=a.B,w=a.S;Array.isArray(w)||(w=[String(w)]),ko(g.i,"t",w),a.C=0,g=a.j.L,a.h=new zs,a.g=xl(a.j,g?f:null,!a.u),a.P>0&&(a.O=new ce(h(a.Y,a,a.g),a.P)),f=a.V,g=a.g,w=a.ba;var F="readystatechange";Array.isArray(F)||(F&&(Ee[0]=F.toString()),F=Ee);for(let $=0;$<F.length;$++){const ie=W(g,F[$],w||f.handleEvent,!1,f.h||f);if(!ie)break;f.g[ie.key]=ie}f=a.J?Y(a.J):{},a.u?(a.v||(a.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,f)):(a.v="GET",a.g.ea(a.B,a.v,null,f)),Si(),Zh(a.i,a.v,a.B,a.l,a.S,a.u)}Gn.prototype.ba=function(a){a=a.target;const f=this.O;f&&hs(a)==3?f.j():this.Y(a)},Gn.prototype.Y=function(a){try{if(a==this.g)e:{const xe=hs(this.g),Ot=this.g.ya(),Ge=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Vo(this.g)))){this.K||xe!=4||Ot==7||(Ot==8||Ge<=0?Si(3):Si(2)),Ut(this);var f=this.g.ca();this.X=f;var g=sf(this);if(this.o=f==200,ef(this.i,this.v,this.B,this.l,this.S,xe,f),this.o){if(this.U&&!this.L){t:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(w)){var $=w;break t}}$=null}if(a=$)xr(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,cs(this,a);else{this.o=!1,this.m=3,Gt(12),Rn(this),As(this);break e}}if(this.R){a=!0;let pt;for(;!this.K&&this.C<g.length;)if(pt=Jt(this,g),pt==Ba){xe==4&&(this.m=4,Gt(14),a=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==ki){this.m=4,Gt(15),xr(this.i,this.l,g,"[Invalid Chunk]"),a=!1;break}else xr(this.i,this.l,pt,null),cs(this,pt);if(Qs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||g.length!=0||this.h.h||(this.m=1,Gt(16),a=!1),this.o=this.o&&a,!a)xr(this.i,this.l,g,"[Invalid Chunked Response]"),Rn(this),As(this);else if(g.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Mo(ie),ie.P=!0,Gt(11))}}else xr(this.i,this.l,g,null),cs(this,g);xe==4&&Rn(this),this.o&&!this.K&&(xe==4?Ol(this.j,this):(this.o=!1,Kt(this)))}else Xa(this.g),f==400&&g.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),Rn(this),As(this)}}}catch{}finally{}};function sf(a){if(!Qs(a))return a.g.la();const f=Vo(a.g);if(f==="")return"";let g="";const w=f.length,F=hs(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Rn(a),As(a),"";a.h.i=new o.TextDecoder}for(let $=0;$<w;$++)a.h.h=!0,g+=a.h.i.decode(f[$],{stream:!(F&&$==w-1)});return f.length=0,a.h.g+=g,a.C=0,a.h.g}function Qs(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function Jt(a,f){var g=a.C,w=f.indexOf(`
`,g);return w==-1?Ba:(g=Number(f.substring(g,w)),isNaN(g)?ki:(w+=1,w+g>f.length?Ba:(f=f.slice(w,w+g),a.C=w+g,f)))}Gn.prototype.cancel=function(){this.K=!0,Rn(this)};function Kt(a){a.T=Date.now()+a.H,on(a,a.H)}function on(a,f){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Or(h(a.aa,a),f)}function Ut(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Gn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(tf(this.i,this.B),this.M!=2&&(Si(),Gt(17)),Rn(this),this.m=2,As(this)):on(this,this.T-a)};function As(a){a.j.I==0||a.K||Ol(a.j,a)}function Rn(a){Ut(a);var f=a.O;f&&typeof f.dispose=="function"&&f.dispose(),a.O=null,Fe(a.V),a.g&&(f=a.g,a.g=null,f.abort(),f.dispose())}function cs(a,f){try{var g=a.j;if(g.I!=0&&(g.g==a||Co(g.h,a))){if(!a.L&&Co(g.h,a)&&g.I==3){try{var w=g.Ba.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<a.F)Fi(g),jr(g);else break e;Lo(g),Gt(18)}}else g.xa=F[1],0<g.xa-g.K&&F[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Or(h(g.Va,g),6e3));Ys(g.h)<=1&&g.ta&&(g.ta=void 0)}else Rs(g,11)}else if((a.L||g.g==a)&&Fi(g),!A(f))for(F=g.Ba.g.parse(f),f=0;f<F.length;f++){let Ge=F[f];const pt=Ge[0];if(!(pt<=g.K))if(g.K=pt,Ge=Ge[1],g.I==2)if(Ge[0]=="c"){g.M=Ge[1],g.ba=Ge[2];const zn=Ge[3];zn!=null&&(g.ka=zn,g.j.info("VER="+g.ka));const Qn=Ge[4];Qn!=null&&(g.za=Qn,g.j.info("SVER="+g.za));const Ns=Ge[5];Ns!=null&&typeof Ns=="number"&&Ns>0&&(w=1.5*Ns,g.O=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const Os=a.g;if(Os){const Uo=Os.g?Os.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uo){var $=w.h;$.g||Uo.indexOf("spdy")==-1&&Uo.indexOf("quic")==-1&&Uo.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Oi($,$.h),$.h=null))}if(w.G){const rc=Os.g?Os.g.getResponseHeader("X-HTTP-Session-Id"):null;rc&&(w.wa=rc,lt(w.J,w.G,rc))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-a.F,g.j.info("Handshake RTT: "+g.T+"ms")),w=g;var ie=a;if(w.na=Ui(w,w.L?w.ba:null,w.W),ie.L){So(w.h,ie);var xe=ie,Ot=w.O;Ot&&(xe.H=Ot),xe.D&&(Ut(xe),Kt(xe)),w.g=ie}else tc(w);g.i.length>0&&Mi(g)}else Ge[0]!="stop"&&Ge[0]!="close"||Rs(g,7);else g.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Rs(g,7):nr(g):Ge[0]!="noop"&&g.l&&g.l.qa(Ge),g.A=0)}}Si(4)}catch{}}var Lr=class{constructor(a,f){this.g=a,this.map=f}};function ja(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ys(a){return a.h?1:a.g?a.g.size:0}function Co(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Oi(a,f){a.g?a.g.add(f):a.h=f}function So(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}ja.prototype.cancel=function(){if(this.i=$a(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function $a(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const g of a.g.values())f=f.concat(g.G);return f}return E(a.i)}var Ha=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pl(a,f){if(a){a=a.split("&");for(let g=0;g<a.length;g++){const w=a[g].indexOf("=");let F,$=null;w>=0?(F=a[g].substring(0,w),$=a[g].substring(w+1)):F=a[g],f(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ls(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;a instanceof ls?(this.l=a.l,Mr(this,a.j),this.o=a.o,this.g=a.g,Fr(this,a.u),this.h=a.h,Ro(this,Ka(a.i)),this.m=a.m):a&&(f=String(a).match(Ha))?(this.l=!1,Mr(this,f[1]||"",!0),this.o=an(f[2]||""),this.g=an(f[3]||"",!0),Fr(this,f[4]),this.h=an(f[5]||"",!0),Ro(this,f[6]||"",!0),this.m=an(f[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}ls.prototype.toString=function(){const a=[];var f=this.j;f&&a.push(Bt(f,Tn,!0),":");var g=this.g;return(g||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Bt(f,Tn,!0),"@"),a.push(Pi(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&a.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&a.push("/"),a.push(Bt(g,g.charAt(0)=="/"?Wa:qa,!0))),(g=this.i.toString())&&a.push("?",g),(g=this.m)&&a.push("#",Bt(g,Js)),a.join("")},ls.prototype.resolve=function(a){const f=Mn(this);let g=!!a.j;g?Mr(f,a.j):g=!!a.o,g?f.o=a.o:g=!!a.g,g?f.g=a.g:g=a.u!=null;var w=a.h;if(g)Fr(f,a.u);else if(g=!!a.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=f.h.lastIndexOf("/");F!=-1&&(w=f.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const $=[];for(let ie=0;ie<F.length;){const xe=F[ie++];xe=="."?w&&ie==F.length&&$.push(""):xe==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&ie==F.length&&$.push("")):($.push(xe),w=!0)}w=$.join("/")}else w=F}return g?f.h=w:g=a.i.toString()!=="",g?Ro(f,Ka(a.i)):g=!!a.m,g&&(f.m=a.m),f};function Mn(a){return new ls(a)}function Mr(a,f,g){a.j=g?an(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Fr(a,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);a.u=f}else a.u=null}function Ro(a,f,g){f instanceof Is?(a.i=f,rf(a.i,a.l)):(g||(f=Bt(f,Kn)),a.i=new Is(f,a.l))}function lt(a,f,g){a.i.set(f,g)}function Di(a){return lt(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function an(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Bt(a,f,g){return typeof a=="string"?(a=encodeURI(a).replace(f,Xs),g&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Xs(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Tn=/[#\/\?@]/g,qa=/[#\?:]/g,Wa=/[#\?]/g,Kn=/[#\?@]/g,Js=/#/g;function Is(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Pn(a){a.g||(a.g=new Map,a.h=0,a.i&&Pl(a.i,function(f,g){a.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Is.prototype,t.add=function(a,f){Pn(this),this.i=null,a=cn(this,a);let g=this.g.get(a);return g||this.g.set(a,g=[]),g.push(f),this.h+=1,this};function Po(a,f){Pn(a),f=cn(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Ga(a,f){return Pn(a),f=cn(a,f),a.g.has(f)}t.forEach=function(a,f){Pn(this),this.g.forEach(function(g,w){g.forEach(function(F){a.call(f,F,w,this)},this)},this)};function Zs(a,f){Pn(a);let g=[];if(typeof f=="string")Ga(a,f)&&(g=g.concat(a.g.get(cn(a,f))));else for(a=Array.from(a.g.values()),f=0;f<a.length;f++)g=g.concat(a[f]);return g}t.set=function(a,f){return Pn(this),this.i=null,a=cn(this,a),Ga(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=Zs(this,a),a.length>0?String(a[0]):f):f};function ko(a,f,g){Po(a,f),g.length>0&&(a.i=null,a.g.set(cn(a,f),E(g)),a.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(let w=0;w<f.length;w++){var g=f[w];const F=Pi(g);g=Zs(this,g);for(let $=0;$<g.length;$++){let ie=F;g[$]!==""&&(ie+="="+Pi(g[$])),a.push(ie)}}return this.i=a.join("&")};function Ka(a){const f=new Is;return f.i=a.i,a.g&&(f.g=new Map(a.g),f.h=a.h),f}function cn(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function rf(a,f){f&&!a.j&&(Pn(a),a.i=null,a.g.forEach(function(g,w){const F=w.toLowerCase();w!=F&&(Po(this,w),ko(this,F,g))},a)),a.j=f}function Cs(a,f){const g=new Dr;if(o.Image){const w=new Image;w.onload=d(us,g,"TestLoadImage: loaded",!0,f,w),w.onerror=d(us,g,"TestLoadImage: error",!1,f,w),w.onabort=d(us,g,"TestLoadImage: abort",!1,f,w),w.ontimeout=d(us,g,"TestLoadImage: timeout",!1,f,w),o.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else f(!1)}function No(a,f){const g=new Dr,w=new AbortController,F=setTimeout(()=>{w.abort(),us(g,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:w.signal}).then($=>{clearTimeout(F),$.ok?us(g,"TestPingServer: ok",!0,f):us(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(F),us(g,"TestPingServer: error",!1,f)})}function us(a,f,g,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(g)}catch{}}function xi(){this.g=new It}function Vi(a){this.i=a.Sb||null,this.h=a.ab||!1}m(Vi,dt),Vi.prototype.g=function(){return new Ss(this.i,this.h)};function Ss(a,f){se.call(this),this.H=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ss,se),t=Ss.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=f,this.readyState=1,Br(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(f.body=a),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;za(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function za(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Ur(this):Br(this),this.readyState==3&&za(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Ur(this))},t.Na=function(a){this.g&&(this.response=a,Ur(this))},t.ga=function(){this.g&&Ur(this)};function Ur(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Br(a)}t.setRequestHeader=function(a,f){this.A.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,a.push(g[0]+": "+g[1]),g=f.next();return a.join(`\r
`)};function Br(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function er(a){let f="";return st(a,function(g,w){f+=w,f+=":",f+=g,f+=`\r
`}),f}function Qa(a,f,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=er(g),typeof a=="string"?g!=null&&Pi(g):lt(a,f,g))}function yt(a){se.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(yt,se);var Ya=/^https?$/i,Oo=["POST","PUT"];t=yt.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,f,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch($){Do(this,$);return}if(a=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)g.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())g.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find($=>$.toLowerCase()=="content-type"),F=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(Oo,f,void 0)>=0)||w||F||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ie]of g)this.g.setRequestHeader($,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch($){Do(this,$)}};function Do(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.o=5,kl(a),xo(a)}function kl(a){a.A||(a.A=!0,te(a,"complete"),te(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,te(this,"complete"),te(this,"abort"),xo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xo(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Li(this):this.Xa())},t.Xa=function(){Li(this)};function Li(a){if(a.h&&typeof i<"u"){if(a.v&&hs(a)==4)setTimeout(a.Ca.bind(a),0);else if(te(a,"readystatechange"),hs(a)==4){a.h=!1;try{const $=a.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var w;if(w=$===0){let ie=String(a.D).match(Ha)[1]||null;!ie&&o.self&&o.self.location&&(ie=o.self.location.protocol.slice(0,-1)),w=!Ya.test(ie?ie.toLowerCase():"")}g=w}if(g)te(a,"complete"),te(a,"success");else{a.o=6;try{var F=hs(a)>2?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.ca()+"]",kl(a)}}finally{xo(a)}}}}function xo(a,f){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const g=a.g;a.g=null,f||te(a,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function hs(a){return a.g?a.g.readyState:0}t.ca=function(){try{return hs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Qe(f)}};function Vo(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Xa(a){const f={};a=(a.g&&hs(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(A(a[w]))continue;var g=nf(a[w]);const F=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const $=f[F]||[];f[F]=$,$.push(g)}Ln(f,function(w){return w.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(a,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[a]||f}function Ja(a){this.za=0,this.i=[],this.j=new Dr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tr("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tr("baseRetryDelayMs",5e3,a),this.Za=tr("retryDelaySeedMs",1e4,a),this.Ta=tr("forwardChannelMaxRetries",2,a),this.va=tr("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new ja(a&&a.concurrentRequestLimit),this.Ba=new xi,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ja.prototype,t.ka=8,t.I=1,t.connect=function(a,f,g,w){Gt(0),this.W=a,this.H=f||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.J=Ui(this,null,this.W),Mi(this)};function nr(a){if(Za(a),a.I==3){var f=a.V++,g=Mn(a.J);if(lt(g,"SID",a.M),lt(g,"RID",f),lt(g,"TYPE","terminate"),Hr(a,g),f=new Gn(a,a.j,f),f.M=2,f.A=Di(Mn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=f.A,g=!0),g||(f.g=xl(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Kt(f)}nc(a)}function jr(a){a.g&&(Mo(a),a.g.cancel(),a.g=null)}function Za(a){jr(a),a.v&&(o.clearTimeout(a.v),a.v=null),Fi(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function Mi(a){if(!Io(a.h)&&!a.m){a.m=!0;var f=a.Ea;j||b(),z||(j(),z=!0),S.add(f,a),a.D=0}}function $r(a,f){return Ys(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=f.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Or(h(a.Ea,a,f),Dl(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const F=new Gn(this,this.j,a);let $=this.o;if(this.U&&($?($=Y($),Wn($,this.U)):$=this.U),this.u!==null||this.R||(F.J=$,$=null),this.S)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,f>4096){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=ec(this,F,f),g=Mn(this.J),lt(g,"RID",a),lt(g,"CVER",22),this.G&&lt(g,"X-HTTP-Session-Id",this.G),Hr(this,g),$&&(this.R?f="headers="+Pi(er($))+"&"+f:this.u&&Qa(g,this.u,$)),Oi(this.h,F),this.Ra&&lt(g,"TYPE","init"),this.S?(lt(g,"$req",f),lt(g,"SID","null"),F.U=!0,Ni(F,g,null)):Ni(F,g,f),this.I=2}}else this.I==3&&(a?Nl(this,a):this.i.length==0||Io(this.h)||Nl(this))};function Nl(a,f){var g;f?g=f.l:g=a.V++;const w=Mn(a.J);lt(w,"SID",a.M),lt(w,"RID",g),lt(w,"AID",a.K),Hr(a,w),a.u&&a.o&&Qa(w,a.u,a.o),g=new Gn(a,a.j,g,a.D+1),a.u===null&&(g.J=a.o),f&&(a.i=f.G.concat(a.i)),f=ec(a,g,1e3),g.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Oi(a.h,g),Ni(g,w,f)}function Hr(a,f){a.H&&st(a.H,function(g,w){lt(f,w,g)}),a.l&&st({},function(g,w){lt(f,w,g)})}function ec(a,f,g){g=Math.min(a.i.length,g);const w=a.l?h(a.l.Ka,a.l,a):null;e:{var F=a.i;let xe=-1;for(;;){const Ot=["count="+g];xe==-1?g>0?(xe=F[0].g,Ot.push("ofs="+xe)):xe=0:Ot.push("ofs="+xe);let Ge=!0;for(let pt=0;pt<g;pt++){var $=F[pt].g;const zn=F[pt].map;if($-=xe,$<0)xe=Math.max(0,F[pt].g-100),Ge=!1;else try{$="req"+$+"_"||"";try{var ie=zn instanceof Map?zn:Object.entries(zn);for(const[Qn,Ns]of ie){let Os=Ns;c(Ns)&&(Os=Ye(Ns)),Ot.push($+Qn+"="+encodeURIComponent(Os))}}catch(Qn){throw Ot.push($+"type="+encodeURIComponent("_badmap")),Qn}}catch{w&&w(zn)}}if(Ge){ie=Ot.join("&");break e}}ie=void 0}return a=a.i.splice(0,g),f.G=a,ie}function tc(a){if(!a.g&&!a.v){a.Y=1;var f=a.Da;j||b(),z||(j(),z=!0),S.add(f,a),a.A=0}}function Lo(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Or(h(a.Da,a),Dl(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,Fo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Or(h(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),jr(this),Fo(this))};function Mo(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function Fo(a){a.g=new Gn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var f=Mn(a.na);lt(f,"RID","rpc"),lt(f,"SID",a.M),lt(f,"AID",a.K),lt(f,"CI",a.F?"0":"1"),!a.F&&a.ia&&lt(f,"TO",a.ia),lt(f,"TYPE","xmlhttp"),Hr(a,f),a.u&&a.o&&Qa(f,a.u,a.o),a.O&&(a.g.H=a.O);var g=a.g;a=a.ba,g.M=1,g.A=Di(Mn(f)),g.u=null,g.R=!0,Rl(g,a)}t.Va=function(){this.C!=null&&(this.C=null,jr(this),Lo(this),Gt(19))};function Fi(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function Ol(a,f){var g=null;if(a.g==f){Fi(a),Mo(a),a.g=null;var w=2}else if(Co(a.h,f))g=f.G,So(a.h,f),w=1;else return;if(a.I!=0){if(f.o)if(w==1){g=f.u?f.u.length:0,f=Date.now()-f.F;var F=a.D;w=Ks(),te(w,new Ri(w,g)),Mi(a)}else tc(a);else if(F=f.m,F==3||F==0&&f.X>0||!(w==1&&$r(a,f)||w==2&&Lo(a)))switch(g&&g.length>0&&(f=a.h,f.i=f.i.concat(g)),F){case 1:Rs(a,5);break;case 4:Rs(a,10);break;case 3:Rs(a,6);break;default:Rs(a,2)}}}function Dl(a,f){let g=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(g*=2),g*f}function Rs(a,f){if(a.j.info("Error code "+f),f==2){var g=h(a.bb,a),w=a.Ua;const F=!w;w=new ls(w||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Mr(w,"https"),Di(w),F?Cs(w.toString(),g):No(w.toString(),g)}else Gt(2);a.I=0,a.l&&a.l.pa(f),nc(a),Za(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function nc(a){if(a.I=0,a.ja=[],a.l){const f=$a(a.h);(f.length!=0||a.i.length!=0)&&(O(a.ja,f),O(a.ja,a.i),a.h.i.length=0,E(a.i),a.i.length=0),a.l.oa()}}function Ui(a,f,g){var w=g instanceof ls?Mn(g):new ls(g);if(w.g!="")f&&(w.g=f+"."+w.g),Fr(w,w.u);else{var F=o.location;w=F.protocol,f=f?f+"."+F.hostname:F.hostname,F=+F.port;const $=new ls(null);w&&Mr($,w),f&&($.g=f),F&&Fr($,F),g&&($.h=g),w=$}return g=a.G,f=a.wa,g&&f&&lt(w,g,f),lt(w,"VER",a.ka),Hr(a,w),w}function xl(a,f,g){if(f&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Aa&&!a.ma?new yt(new Vi({ab:g})):new yt(a.ma),f.Fa(a.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vl(){}t=Vl.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qr(){}qr.prototype.g=function(a,f){return new ln(a,f)};function ln(a,f){se.call(this),this.g=new Ja(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(a?a["X-WebChannel-Client-Profile"]=f.sa:a={"X-WebChannel-Client-Profile":f.sa}),this.g.U=a,(a=f&&f.Qb)&&!A(a)&&(this.g.u=a),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!A(f)&&(this.g.G=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new ks(this)}m(ln,se),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){nr(this.g)},ln.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var g={};g.__data__=a,a=g}else this.v&&(g={},g.__data__=Ye(a),a=g);f.i.push(new Lr(f.Ya++,a)),f.I==3&&Mi(f)},ln.prototype.N=function(){this.g.l=null,delete this.j,nr(this.g),delete this.g,ln.Z.N.call(this)};function sc(a){as.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const g in f){a=g;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}m(sc,as);function Ps(){ws.call(this),this.status=1}m(Ps,ws);function ks(a){this.g=a}m(ks,Vl),ks.prototype.ra=function(){te(this.g,"a")},ks.prototype.qa=function(a){te(this.g,new sc(a))},ks.prototype.pa=function(a){te(this.g,new Ps)},ks.prototype.oa=function(){te(this.g,"b")},qr.prototype.createWebChannel=qr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,pw=function(){return new qr},dw=function(){return Ks()},fw=wt,Sd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,_u=bs,Cl.COMPLETE="complete",hw=Cl,Nt.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",se.prototype.listen=se.prototype.J,yc=Nt,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,uw=yt}).apply(typeof nu<"u"?nu:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",Q_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new Ep("@firebase/firestore");function Ko(){return _o.logLevel}function de(t,...e){if(_o.logLevel<=je.DEBUG){const n=e.map(Dp);_o.debug(`Firestore (${Da}): ${t}`,...n)}}function Cr(t,...e){if(_o.logLevel<=je.ERROR){const n=e.map(Dp);_o.error(`Firestore (${Da}): ${t}`,...n)}}function ma(t,...e){if(_o.logLevel<=je.WARN){const n=e.map(Dp);_o.warn(`Firestore (${Da}): ${t}`,...n)}}function Dp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,mw(t,s,n)}function mw(t,e,n){let s=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Cr(s),new Error(s)}function tt(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||mw(e,r,s)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fn.UNAUTHENTICATED)))}shutdown(){}}class H1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class q1{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tt(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gr,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await r(this.currentUser)}))},c=u=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gr)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tt(typeof s.accessToken=="string",31837,{l:s}),new gw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class W1{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class G1{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new W1(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K1{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ts(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){tt(this.o===void 0,3512);const s=i=>{i.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,de("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>s(i)))};const r=i=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>r(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Y_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=z1(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function He(t,e){return t<e?-1:t>e?1:0}function Rd(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return qf(r)===qf(i)?He(r,i):qf(r)?1:-1}return He(t.length,e.length)}const Q1=55296,Y1=57343;function qf(t){const e=t.charCodeAt(0);return e>=Q1&&e<=Y1}function ga(t,e,n){return t.length===e.length&&t.every(((s,r)=>n(s,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__name__";class Fs{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Fs.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return He(e.length,n.length)}static compareSegments(e,n){const s=Fs.isNumericId(e),r=Fs.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Fs.extractNumericId(e).compare(Fs.extractNumericId(n)):Rd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fi.fromString(e.substring(4,e.length-2))}}class _t extends Fs{construct(e,n,s){return new _t(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((r=>r.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const X1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Fs{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return X1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new nn([X_])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new le(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new le(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(s+=c,r++):(i(),r++)}if(i(),o)throw new le(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(_t.fromString(e))}static fromName(e){return new we(_t.fromString(e).popFirst(5))}static empty(){return new we(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t,e,n){if(!n)throw new le(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function J1(t,e,n,s){if(e===!0&&s===!0)throw new le(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J_(t){if(!we.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z_(t){if(we.isDocumentKey(t))throw new le(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yw(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Oh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oh(t);throw new le(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function El(t,e){if(!yw(t))throw new le(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new le(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=-62135596800,ty=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ty);return new vt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ey)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ty}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(El(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ey;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:Ft("string",vt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new vt(0,0))}static max(){return new ke(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=-1;function Z1(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ke.fromTimestamp(s===1e9?new vt(n+1,0):new vt(n,s));return new mi(r,we.empty(),e)}function eD(t){return new mi(t.readTime,t.key,Jc)}class mi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new mi(ke.min(),we.empty(),Jc)}static max(){return new mi(ke.max(),we.empty(),Jc)}}function tD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==nD)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X(((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):X.reject(n)}static resolve(e){return new X(((n,s)=>{n(e)}))}static reject(e){return new X(((n,s)=>{s(e)}))}static waitFor(e){return new X(((n,s)=>{let r=0,i=0,o=!1;e.forEach((c=>{++r,c.next((()=>{++i,o&&i===r&&n()}),(u=>s(u)))})),o=!0,i===r&&n()}))}static or(e){let n=X.resolve(!1);for(const s of e)n=n.next((r=>r?X.resolve(r):s()));return n}static forEach(e,n){const s=[];return e.forEach(((r,i)=>{s.push(n.call(this,r,i))})),this.waitFor(s)}static mapArray(e,n){return new X(((s,r)=>{const i=e.length,o=new Array(i);let c=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next((d=>{o[h]=d,++c,c===i&&s(o)}),(d=>r(d)))}}))}static doWhile(e,n){return new X(((s,r)=>{const i=()=>{e()===!0?n().next((()=>{i()}),r):s()};i()}))}}function rD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Va(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=-1;function xh(t){return t==null}function zu(t){return t===0&&1/t==-1/0}function iD(t){return typeof t=="number"&&Number.isInteger(t)&&!zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="";function oD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ny(e)),e=aD(t.get(n),e);return ny(e)}function aD(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case vw:n+="";break;default:n+=i}}return n}function ny(t){return t+vw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ai(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ew(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new su(this.root,e,this.comparator,!1)}getReverseIterator(){return new su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new su(this.root,e,this.comparator,!0)}}class su{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??Zt.RED,this.left=r??Zt.EMPTY,this.right=i??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Zt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Zt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ry(this.data.getIterator())}getIteratorFrom(e){return new ry(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class ry{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new Wt(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Tw("Invalid base64 string: "+i):i}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const cD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(tt(!!t,39018),typeof t=="string"){let e=0;const n=cD.exec(t);if(tt(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _i(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="server_timestamp",bw="__type__",Aw="__previous_value__",Iw="__local_write_time__";function Lp(t){return(t?.mapValue?.fields||{})[bw]?.stringValue===ww}function Vh(t){const e=t.mapValue.fields[Aw];return Lp(e)?Vh(e):e}function Zc(t){const e=gi(t.mapValue.fields[Iw].timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,s,r,i,o,c,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Qu="(default)";class el{constructor(e,n){this.projectId=e,this.database=n||Qu}static empty(){return new el("","")}get isDefaultDatabase(){return this.database===Qu}isEqual(e){return e instanceof el&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="__type__",uD="__max__",ru={mapValue:{}},Sw="__vector__",Yu="value";function yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lp(t)?4:fD(t)?9007199254740991:hD(t)?10:11:Se(28295,{value:t})}function Gs(t,e){if(t===e)return!0;const n=yi(t);if(n!==yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zc(t).isEqual(Zc(e));case 3:return(function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=gi(r.timestampValue),c=gi(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,i){return _i(r.bytesValue).isEqual(_i(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,i){return xt(r.geoPointValue.latitude)===xt(i.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(i.geoPointValue.longitude)})(t,e);case 2:return(function(r,i){if("integerValue"in r&&"integerValue"in i)return xt(r.integerValue)===xt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=xt(r.doubleValue),c=xt(i.doubleValue);return o===c?zu(o)===zu(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:case 11:return(function(r,i){const o=r.mapValue.fields||{},c=i.mapValue.fields||{};if(sy(o)!==sy(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Gs(o[u],c[u])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function tl(t,e){return(t.values||[]).find((n=>Gs(n,e)))!==void 0}function _a(t,e){if(t===e)return 0;const n=yi(t),s=yi(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const c=xt(i.integerValue||i.doubleValue),u=xt(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(t,e);case 3:return iy(t.timestampValue,e.timestampValue);case 4:return iy(Zc(t),Zc(e));case 5:return Rd(t.stringValue,e.stringValue);case 6:return(function(i,o){const c=_i(i),u=_i(o);return c.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const c=i.split("/"),u=o.split("/");for(let h=0;h<c.length&&h<u.length;h++){const d=He(c[h],u[h]);if(d!==0)return d}return He(c.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const c=He(xt(i.latitude),xt(o.latitude));return c!==0?c:He(xt(i.longitude),xt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return oy(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const c=i.fields||{},u=o.fields||{},h=c[Yu]?.arrayValue,d=u[Yu]?.arrayValue,m=He(h?.values?.length||0,d?.values?.length||0);return m!==0?m:oy(h,d)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===ru.mapValue&&o===ru.mapValue)return 0;if(i===ru.mapValue)return 1;if(o===ru.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),h=o.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const y=Rd(u[m],d[m]);if(y!==0)return y;const E=_a(c[u[m]],h[d[m]]);if(E!==0)return E}return He(u.length,d.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function iy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=gi(t),s=gi(e),r=He(n.seconds,s.seconds);return r!==0?r:He(n.nanos,s.nanos)}function oy(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=_a(n[r],s[r]);if(i)return i}return He(n.length,s.length)}function ya(t){return Pd(t)}function Pd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=gi(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return _i(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return we.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=Pd(i);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${Pd(n.fields[o])}`;return r+"}"})(t.mapValue):Se(61005,{value:t})}function yu(t){switch(yi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(t);return e?16+yu(e):16;case 5:return 2*t.stringValue.length;case 6:return _i(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,i)=>r+yu(i)),0)})(t.arrayValue);case 10:case 11:return(function(s){let r=0;return Ai(s.fields,((i,o)=>{r+=i.length+yu(o)})),r})(t.mapValue);default:throw Se(13486,{value:t})}}function ay(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function kd(t){return!!t&&"integerValue"in t}function Mp(t){return!!t&&"arrayValue"in t}function cy(t){return!!t&&"nullValue"in t}function ly(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vu(t){return!!t&&"mapValue"in t}function hD(t){return(t?.mapValue?.fields||{})[Cw]?.stringValue===Sw}function Oc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ai(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Oc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oc(t.arrayValue.values[n]);return e}return{...t}}function fD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(n)}setAll(e){let n=nn.emptyPath(),s={},r=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=c.popLast()}o?s[c.lastSegment()]=Oc(o):r.push(c.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());vu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];vu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Ai(n,((r,i)=>e[r]=i));for(const r of s)delete e[r]}clone(){return new Dn(Oc(this.value))}}function Rw(t){const e=[];return Ai(t.fields,((n,s)=>{const r=new nn([n]);if(vu(s)){const i=Rw(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)})),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,s,r,i,o,c){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=c}static newInvalidDocument(e){return new mn(e,0,ke.min(),ke.min(),ke.min(),Dn.empty(),0)}static newFoundDocument(e,n,s,r){return new mn(e,1,n,ke.min(),s,r,0)}static newNoDocument(e,n){return new mn(e,2,n,ke.min(),ke.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,ke.min(),ke.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.position=e,this.inclusive=n}}function uy(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=we.comparator(we.fromName(o.referenceValue),n.key):s=_a(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function hy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n="asc"){this.field=e,this.dir=n}}function dD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{}class Mt extends Pw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new mD(e,n,s):n==="array-contains"?new yD(e,s):n==="in"?new vD(e,s):n==="not-in"?new ED(e,s):n==="array-contains-any"?new TD(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new gD(e,s):new _D(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_a(n,this.value)):n!==null&&yi(this.value)===yi(n)&&this.matchesComparison(_a(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Es extends Pw{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Es(e,n)}matches(e){return kw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kw(t){return t.op==="and"}function Nw(t){return pD(t)&&kw(t)}function pD(t){for(const e of t.filters)if(e instanceof Es)return!1;return!0}function Nd(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+ya(t.value);if(Nw(t))return t.filters.map((e=>Nd(e))).join(",");{const e=t.filters.map((n=>Nd(n))).join(",");return`${t.op}(${e})`}}function Ow(t,e){return t instanceof Mt?(function(s,r){return r instanceof Mt&&s.op===r.op&&s.field.isEqual(r.field)&&Gs(s.value,r.value)})(t,e):t instanceof Es?(function(s,r){return r instanceof Es&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((i,o,c)=>i&&Ow(o,r.filters[c])),!0):!1})(t,e):void Se(19439)}function Dw(t){return t instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ya(n.value)}`})(t):t instanceof Es?(function(n){return n.op.toString()+" {"+n.getFilters().map(Dw).join(" ,")+"}"})(t):"Filter"}class mD extends Mt{constructor(e,n,s){super(e,n,s),this.key=we.fromName(s.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class gD extends Mt{constructor(e,n){super(e,"in",n),this.keys=xw("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _D extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=xw("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function xw(t,e){return(e.arrayValue?.values||[]).map((n=>we.fromName(n.referenceValue)))}class yD extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mp(n)&&tl(n.arrayValue,this.value)}}class vD extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tl(this.value.arrayValue,n)}}class ED extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tl(this.value.arrayValue,n)}}class TD extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>tl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n=null,s=[],r=[],i=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=c,this.Te=null}}function fy(t,e=null,n=[],s=[],r=null,i=null,o=null){return new wD(t,e,n,s,r,i,o)}function Fp(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Nd(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(i){return i.field.canonicalString()+i.dir})(s))).join(","),xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ya(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ya(s))).join(",")),e.Te=n}return e.Te}function Up(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ow(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!hy(t.startAt,e.startAt)&&hy(t.endAt,e.endAt)}function Od(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,n=null,s=[],r=[],i=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bD(t,e,n,s,r,i,o,c){return new La(t,e,n,s,r,i,o,c)}function Lh(t){return new La(t)}function dy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Vw(t){return t.collectionGroup!==null}function Dc(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Wt(nn.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new nl(i,s))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new nl(nn.keyField(),s))}return e.Ie}function js(t){const e=De(t);return e.Ee||(e.Ee=AD(e,Dc(t))),e.Ee}function AD(t,e){if(t.limitType==="F")return fy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const i=r.dir==="desc"?"asc":"desc";return new nl(r.field,i)}));const n=t.endAt?new Xu(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Xu(t.startAt.position,t.startAt.inclusive):null;return fy(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Dd(t,e){const n=t.filters.concat([e]);return new La(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ju(t,e,n){return new La(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mh(t,e){return Up(js(t),js(e))&&t.limitType===e.limitType}function Lw(t){return`${Fp(js(t))}|lt:${t.limitType}`}function zo(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((r=>Dw(r))).join(", ")}]`),xh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((r=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(r))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((r=>ya(r))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((r=>ya(r))).join(",")),`Target(${s})`})(js(t))}; limitType=${t.limitType})`}function Fh(t,e){return e.isFoundDocument()&&(function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):we.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)})(t,e)&&(function(s,r){for(const i of Dc(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0})(t,e)&&(function(s,r){return!(s.startAt&&!(function(o,c,u){const h=uy(o,c,u);return o.inclusive?h<=0:h<0})(s.startAt,Dc(s),r)||s.endAt&&!(function(o,c,u){const h=uy(o,c,u);return o.inclusive?h>=0:h>0})(s.endAt,Dc(s),r))})(t,e)}function ID(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Mw(t){return(e,n)=>{let s=!1;for(const r of Dc(t)){const i=CD(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function CD(t,e,n){const s=t.field.isKeyField()?we.comparator(e.key,n.key):(function(i,o,c){const u=o.data.field(i),h=c.data.field(i);return u!==null&&h!==null?_a(u,h):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ai(this.inner,((n,s)=>{for(const[r,i]of s)e(r,i)}))}isEmpty(){return Ew(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new bt(we.comparator);function Sr(){return SD}const Fw=new bt(we.comparator);function vc(...t){let e=Fw;for(const n of t)e=e.insert(n.key,n);return e}function Uw(t){let e=Fw;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ji(){return xc()}function Bw(){return xc()}function xc(){return new wo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const RD=new bt(we.comparator),PD=new Wt(we.comparator);function qe(...t){let e=PD;for(const n of t)e=e.add(n);return e}const kD=new Wt(He);function ND(){return kD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(e)?"-0":e}}function jw(t){return{integerValue:""+t}}function OD(t,e){return iD(e)?jw(e):Bp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function DD(t,e,n){return t instanceof sl?(function(r,i){const o={fields:{[bw]:{stringValue:ww},[Iw]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Lp(i)&&(i=Vh(i)),i&&(o.fields[Aw]=i),{mapValue:o}})(n,e):t instanceof va?Hw(t,e):t instanceof Ea?qw(t,e):(function(r,i){const o=$w(r,i),c=py(o)+py(r.Ae);return kd(o)&&kd(r.Ae)?jw(c):Bp(r.serializer,c)})(t,e)}function xD(t,e,n){return t instanceof va?Hw(t,e):t instanceof Ea?qw(t,e):n}function $w(t,e){return t instanceof Zu?(function(s){return kd(s)||(function(i){return!!i&&"doubleValue"in i})(s)})(e)?e:{integerValue:0}:null}class sl extends Uh{}class va extends Uh{constructor(e){super(),this.elements=e}}function Hw(t,e){const n=Ww(e);for(const s of t.elements)n.some((r=>Gs(r,s)))||n.push(s);return{arrayValue:{values:n}}}class Ea extends Uh{constructor(e){super(),this.elements=e}}function qw(t,e){let n=Ww(e);for(const s of t.elements)n=n.filter((r=>!Gs(r,s)));return{arrayValue:{values:n}}}class Zu extends Uh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function py(t){return xt(t.integerValue||t.doubleValue)}function Ww(t){return Mp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.field=e,this.transform=n}}function VD(t,e){return t.field.isEqual(e.field)&&(function(s,r){return s instanceof va&&r instanceof va||s instanceof Ea&&r instanceof Ea?ga(s.elements,r.elements,Gs):s instanceof Zu&&r instanceof Zu?Gs(s.Ae,r.Ae):s instanceof sl&&r instanceof sl})(t.transform,e.transform)}class LD{constructor(e,n){this.version=e,this.transformResults=n}}class _s{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _s}static exists(e){return new _s(void 0,e)}static updateTime(e){return new _s(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bh{}function Gw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zw(t.key,_s.none()):new Tl(t.key,t.data,_s.none());{const n=t.data,s=Dn.empty();let r=new Wt(nn.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Ii(t.key,s,new Bn(r.toArray()),_s.none())}}function MD(t,e,n){t instanceof Tl?(function(r,i,o){const c=r.value.clone(),u=gy(r.fieldTransforms,i,o.transformResults);c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Ii?(function(r,i,o){if(!Eu(r.precondition,i))return void i.convertToUnknownDocument(o.version);const c=gy(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(Kw(r)),u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Vc(t,e,n,s){return t instanceof Tl?(function(i,o,c,u){if(!Eu(i.precondition,o))return c;const h=i.value.clone(),d=_y(i.fieldTransforms,u,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,s):t instanceof Ii?(function(i,o,c,u){if(!Eu(i.precondition,o))return c;const h=_y(i.fieldTransforms,u,o),d=o.data;return d.setAll(Kw(i)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((m=>m.field)))})(t,e,n,s):(function(i,o,c){return Eu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function FD(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=$w(s.transform,r||null);i!=null&&(n===null&&(n=Dn.empty()),n.set(s.field,i))}return n||null}function my(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&ga(s,r,((i,o)=>VD(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tl extends Bh{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ii extends Bh{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Kw(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function gy(t,e,n){const s=new Map;tt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,c=e.data.field(i.field);s.set(i.field,xD(o,c,n[r]))}return s}function _y(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,DD(i,o,e))}return s}class zw extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UD extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&MD(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Vc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Vc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Bw();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let c=this.applyToLocalView(o,i.mutatedFields);c=n.has(r.key)?null:c;const u=Gw(o,c);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(ke.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,((n,s)=>my(n,s)))&&ga(this.baseMutations,e.baseMutations,((n,s)=>my(n,s)))}}class $p{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){tt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=(function(){return RD})();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new $p(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,Ke;function HD(t){switch(t){case Q.OK:return Se(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function Qw(t){if(t===void 0)return Cr("GRPC error has no .code"),Q.UNKNOWN;switch(t){case Lt.OK:return Q.OK;case Lt.CANCELLED:return Q.CANCELLED;case Lt.UNKNOWN:return Q.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return Q.INTERNAL;case Lt.UNAVAILABLE:return Q.UNAVAILABLE;case Lt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Lt.NOT_FOUND:return Q.NOT_FOUND;case Lt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Lt.ABORTED:return Q.ABORTED;case Lt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Lt.DATA_LOSS:return Q.DATA_LOSS;default:return Se(39323,{code:t})}}(Ke=Lt||(Lt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new fi([4294967295,4294967295],0);function yy(t){const e=qD().encode(t),n=new lw;return n.update(e),new Uint8Array(n.digest())}function vy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fi([n,s],0),new fi([r,i],0)]}class Hp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ec(`Invalid padding: ${n}`);if(s<0)throw new Ec(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fi.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(fi.fromNumber(s)));return r.compare(WD)===1&&(r=new fi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yy(e),[s,r]=vy(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Hp(i,r,n);return s.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=yy(e),[s,r]=vy(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,wl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jh(ke.min(),r,new bt(He),Sr(),qe())}}class wl{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wl(s,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class Yw{constructor(e,n){this.targetId=e,this.Ce=n}}class Xw{constructor(e,n,s=rn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class Ey{constructor(){this.ve=0,this.Fe=Ty(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),s=qe();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:Se(38017,{changeType:i})}})),new wl(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Ty()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Sr(),this.Je=iu(),this.He=iu(),this.Ye=new bt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,r)=>{this.rt(r)&&n(r)}))}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(Od(i))if(s===0){const o=new we(i.path);this.et(n,o,mn.newNoDocument(o,ke.min()))}else tt(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const c=this.ut(e),u=c?this.ct(c,e,o):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,c;try{o=_i(s).toUint8Array()}catch(u){if(u instanceof Tw)return ma("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Hp(o,r,i)}catch(u){return ma(u instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach((i=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),r++)})),r}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const c=this.ot(o);if(c){if(i.current&&Od(c.target)){const u=new we(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,mn.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let s=qe();this.He.forEach(((i,o)=>{let c=!0;o.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(s=s.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const r=new jh(e,n,this.Ye,this.je,s);return this.je=Sr(),this.Je=iu(),this.He=iu(),this.Ye=new bt(He),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Ey,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Wt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Wt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ey),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function iu(){return new bt(we.comparator)}function Ty(){return new bt(we.comparator)}const KD={asc:"ASCENDING",desc:"DESCENDING"},zD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QD={and:"AND",or:"OR"};class YD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xd(t,e){return t.useProto3Json||xh(e)?e:{value:e}}function eh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XD(t,e){return eh(t,e.toTimestamp())}function $s(t){return tt(!!t,49232),ke.fromTimestamp((function(n){const s=gi(n);return new vt(s.seconds,s.nanos)})(t))}function qp(t,e){return Vd(t,e).canonicalString()}function Vd(t,e){const n=(function(r){return new _t(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Zw(t){const e=_t.fromString(t);return tt(rb(e),10190,{key:e.toString()}),e}function Ld(t,e){return qp(t.databaseId,e.path)}function Wf(t,e){const n=Zw(e);if(n.get(1)!==t.databaseId.projectId)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(tb(n))}function eb(t,e){return qp(t.databaseId,e)}function JD(t){const e=Zw(t);return e.length===4?_t.emptyPath():tb(e)}function Md(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tb(t){return tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function wy(t,e,n){return{name:Ld(t,e),fields:n.value.mapValue.fields}}function ZD(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Se(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=(function(h,d){return h.useProto3Json?(tt(d===void 0||typeof d=="string",58123),rn.fromBase64String(d||"")):(tt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),rn.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const d=h.code===void 0?Q.UNKNOWN:Qw(h.code);return new le(d,h.message||"")})(o);n=new Xw(s,r,i,c||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Wf(t,s.document.name),i=$s(s.document.updateTime),o=s.document.createTime?$s(s.document.createTime):ke.min(),c=new Dn({mapValue:{fields:s.document.fields}}),u=mn.newFoundDocument(r,i,o,c),h=s.targetIds||[],d=s.removedTargetIds||[];n=new Tu(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Wf(t,s.document),i=s.readTime?$s(s.readTime):ke.min(),o=mn.newNoDocument(r,i),c=s.removedTargetIds||[];n=new Tu([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Wf(t,s.document),i=s.removedTargetIds||[];n=new Tu([],i,r,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new $D(r,i),c=s.targetId;n=new Yw(c,o)}}return n}function ex(t,e){let n;if(e instanceof Tl)n={update:wy(t,e.key,e.value)};else if(e instanceof zw)n={delete:Ld(t,e.key)};else if(e instanceof Ii)n={update:wy(t,e.key,e.data),updateMask:lx(e.fieldMask)};else{if(!(e instanceof UD))return Se(16599,{Vt:e.type});n={verify:Ld(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(i,o){const c=o.transform;if(c instanceof sl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof va)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ea)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zu)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw Se(20930,{transform:o.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(r,i){return i.updateTime!==void 0?{updateTime:XD(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Se(27497)})(t,e.precondition)),n}function tx(t,e){return t&&t.length>0?(tt(e!==void 0,14353),t.map((n=>(function(r,i){let o=r.updateTime?$s(r.updateTime):$s(i);return o.isEqual(ke.min())&&(o=$s(i)),new LD(o,r.transformResults||[])})(n,e)))):[]}function nx(t,e){return{documents:[eb(t,e.path)]}}function sx(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=eb(t,r);const i=(function(h){if(h.length!==0)return sb(Es.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(h){if(h.length!==0)return h.map((d=>(function(y){return{field:Qo(y.field),direction:ox(y.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=xd(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:r}}function rx(t){let e=JD(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){tt(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=(function(m){const y=nb(m);return y instanceof Es&&Nw(y)?y.getFilters():[y]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((y=>(function(O){return new nl(Yo(O.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(y)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let y;return y=typeof m=="object"?m.value:m,xh(y)?null:y})(n.limit));let u=null;n.startAt&&(u=(function(m){const y=!!m.before,E=m.values||[];return new Xu(E,y)})(n.startAt));let h=null;return n.endAt&&(h=(function(m){const y=!m.before,E=m.values||[];return new Xu(E,y)})(n.endAt)),bD(e,r,o,i,c,"F",u,h)}function ix(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nb(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Yo(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Yo(n.unaryFilter.field);return Mt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yo(n.unaryFilter.field);return Mt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yo(n.unaryFilter.field);return Mt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Mt.create(Yo(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Es.create(n.compositeFilter.filters.map((s=>nb(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function ox(t){return KD[t]}function ax(t){return zD[t]}function cx(t){return QD[t]}function Qo(t){return{fieldPath:t.canonicalString()}}function Yo(t){return nn.fromServerFormat(t.fieldPath)}function sb(t){return t instanceof Mt?(function(n){if(n.op==="=="){if(ly(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NAN"}};if(cy(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ly(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NAN"}};if(cy(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(n.field),op:ax(n.op),value:n.value}}})(t):t instanceof Es?(function(n){const s=n.getFilters().map((r=>sb(r)));return s.length===1?s[0]:{compositeFilter:{op:cx(n.op),filters:s}}})(t):Se(54877,{filter:t})}function lx(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,s,r,i=ke.min(),o=ke.min(),c=rn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.yt=e}}function hx(t){const e=rx({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ju(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.Cn=new dx}addToCollectionParentIndex(e,n){return this.Cn.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(mi.min())}updateCollectionGroup(e,n,s){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class dx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new Wt(_t.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Wt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ib=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(ib,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ta(0)}static cr(){return new Ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="LruGarbageCollector",px=1048576;function Iy([t,e],[n,s]){const r=He(t,n);return r===0?He(e,s):r}class mx{constructor(e){this.Ir=e,this.buffer=new Wt(Iy),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Iy(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(Ay,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Va(n)?de(Ay,"Ignoring IndexedDB error during garbage collection: ",n):await xa(n)}await this.Vr(3e5)}))}}class _x{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return X.resolve(Dh.ce);const s=new mx(n);return this.mr.forEachTarget(e,(r=>s.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>s.Ar(r))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(by)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),by):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,o,c,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,o=Date.now(),this.nthSequenceNumber(e,r)))).next((m=>(s=m,c=Date.now(),this.removeTargets(e,s,n)))).next((m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,s)))).next((m=>(h=Date.now(),Ko()<=je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${i} targets in `+(u-c)+`ms
	Removed ${m} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:m}))))}}function yx(t,e){return new _x(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.changes=new wo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?X.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(s=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(s!==null&&Vc(s.mutation,r,Bn.empty(),vt.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=qe()){const r=Ji();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,s).next((i=>{let o=vc();return i.forEach(((c,u)=>{o=o.insert(c,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const s=Ji();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,qe())))}populateOverlays(e,n,s){const r=[];return s.forEach((i=>{n.has(i)||r.push(i)})),this.documentOverlayCache.getOverlays(e,r).next((i=>{i.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,s,r){let i=Sr();const o=xc(),c=(function(){return xc()})();return n.forEach(((u,h)=>{const d=s.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof Ii)?i=i.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),Vc(d.mutation,h,d.mutation.getFieldMask(),vt.now())):o.set(h.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((h,d)=>o.set(h,d))),n.forEach(((h,d)=>c.set(h,new Ex(d,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const s=xc();let r=new bt(((o,c)=>o-c)),i=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let d=s.get(u)||Bn.empty();d=c.applyToLocalView(h,d),s.set(u,d);const m=(r.get(c.batchId)||qe()).add(u);r=r.insert(c.batchId,m)}))})).next((()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),h=u.key,d=u.value,m=Bw();d.forEach((y=>{if(!i.has(y)){const E=Gw(n.get(y),s.get(y));E!==null&&m.set(y,E),i=i.add(y)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return X.waitFor(o)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,r){return(function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):X.resolve(Ji());let c=Jc,u=i;return o.next((h=>X.forEach(h,((d,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),i.get(d)?X.resolve():this.remoteDocumentCache.getEntry(e,d).next((y=>{u=u.insert(d,y)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,u,h,qe()))).next((d=>({batchId:c,changes:Uw(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next((s=>{let r=vc();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=vc();return this.indexManager.getCollectionParents(e,i).next((c=>X.forEach(c,(u=>{const h=(function(m,y){return new La(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,s,r).next((d=>{d.forEach(((m,y)=>{o=o.insert(m,y)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r)))).next((o=>{i.forEach(((u,h)=>{const d=h.getKey();o.get(d)===null&&(o=o.insert(d,mn.newInvalidDocument(d)))}));let c=vc();return o.forEach(((u,h)=>{const d=i.get(u);d!==void 0&&Vc(d.mutation,h,Bn.empty(),vt.now()),Fh(n,h)&&(c=c.insert(u,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return X.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:$s(r.createTime)}})(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:hx(r.bundledQuery),readTime:$s(r.readTime)}})(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.overlays=new bt(we.comparator),this.qr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ji();return X.forEach(n,(r=>this.getOverlay(e,r).next((i=>{i!==null&&s.set(r,i)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((r,i)=>{this.St(e,n,i)})),X.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,n,s){const r=Ji(),i=n.length+1,o=new we(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return X.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new bt(((h,d)=>h-d));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let d=i.get(h.largestBatchId);d===null&&(d=Ji(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const c=Ji(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,d)=>c.set(h,d))),!(c.size()>=r)););return X.resolve(c)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new jD(n,s));let i=this.qr.get(n);i===void 0&&(i=qe(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.Qr=new Wt(Qt.$r),this.Ur=new Wt(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new we(new _t([])),s=new Qt(n,e),r=new Qt(n,e+1),i=[];return this.Ur.forEachInRange([s,r],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new we(new _t([])),s=new Qt(n,e),r=new Qt(n,e+1);let i=qe();return this.Ur.forEachInRange([s,r],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new Qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return we.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(Qt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new BD(i,n,s,r);this.mutationQueue.push(o);for(const c of r)this.Zr=this.Zr.add(new Qt(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,n){return X.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return X.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Vp:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qt(n,0),r=new Qt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],(o=>{const c=this.Xr(o.Yr);i.push(c)})),X.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Wt(He);return n.forEach((r=>{const i=new Qt(r,0),o=new Qt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(c=>{s=s.add(c.Yr)}))})),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;we.isDocumentKey(i)||(i=i.child(""));const o=new Qt(new we(i),0);let c=new Wt(He);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!s.isPrefixOf(h)&&(h.length===r&&(c=c.add(u.Yr)),!0)}),o),X.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((s=>{const r=this.Xr(s);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){tt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(n.mutations,(r=>{const i=new Qt(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Qt(n,0),r=this.Zr.firstAfterOrEqual(s);return X.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.ri=e,this.docs=(function(){return new bt(we.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return X.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=Sr();return n.forEach((r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():mn.newInvalidDocument(r))})),X.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=Sr();const o=n.path,c=new we(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||tD(eD(d),s)<=0||(r.has(d.key)||Fh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return X.resolve(i)}getAllFromCollectionGroup(e,n,s,r){Se(9500)}ii(e,n){return X.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Sx(this)}getSize(e){return X.resolve(this.size)}}class Sx extends vx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)})),X.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.persistence=e,this.si=new wo((n=>Fp(n)),Up),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Wp,this.targetCount=0,this.ai=Ta.ur()}forEachTarget(e,n){return this.si.forEach(((s,r)=>n(r))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),X.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ta(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Pr(n),X.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&s.get(c.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)})),X.waitFor(i).next((()=>r))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return X.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),X.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach((o=>{i.push(r.markPotentiallyOrphaned(e,o))})),X.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return X.resolve(s)}containsKey(e,n){return X.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dh(0),this.li=!1,this.li=!0,this.hi=new Ax,this.referenceDelegate=e(this),this.Pi=new Rx(this),this.indexManager=new fx,this.remoteDocumentCache=(function(r){return new Cx(r)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ux(n),this.Ii=new wx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Ix(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const r=new Px(this.ci.next());return this.referenceDelegate.Ei(),s(r).next((i=>this.referenceDelegate.di(r).next((()=>i)))).toPromise().then((i=>(r.raiseOnCommittedEvent(),i)))}Ai(e,n){return X.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Px extends sD{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Ri=new Wp,this.Vi=null}static mi(e){return new Gp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),X.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),X.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((r=>this.fi.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((i=>this.fi.add(i.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(s=>{const r=we.fromPath(s);return this.gi(e,r).next((i=>{i||n.removeEntry(r,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return X.or([()=>X.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class th{constructor(e,n){this.persistence=e,this.pi=new wo((s=>oD(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=yx(this,n)}static mi(e,n){return new th(e,n)}Ei(){}di(e){return X.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((r=>s+r))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return X.forEach(this.pi,((s,r)=>this.br(e,s,r).next((i=>i?X.resolve():n(r)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(o=>this.br(e,o,n).next((c=>{c||(s++,i.removeEntry(o,ke.min()))})))).next((()=>i.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),X.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yu(e.data.value)),n}br(e,n,s){return X.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return X.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=qe(),r=qe();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Kp(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sk()?8:rD(yn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,r,s).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new kx;return this.Ss(e,n,o).next((c=>{if(i.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>i.result))}bs(e,n,s,r){return s.documentReadCount<this.fs?(Ko()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ko()<=je.DEBUG&&de("QueryEngine","Query:",zo(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(Ko()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,js(n))):X.resolve())}ys(e,n){if(dy(n))return X.resolve(null);let s=js(n);return this.indexManager.getIndexType(e,s).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=Ju(n,null,"F"),s=js(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((i=>{const o=qe(...i);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,s).next((u=>{const h=this.Ds(n,c);return this.Cs(n,h,o,u.readTime)?this.ys(e,Ju(n,null,"F")):this.vs(e,h,n,u)}))))})))))}ws(e,n,s,r){return dy(n)||r.isEqual(ke.min())?X.resolve(null):this.ps.getDocuments(e,s).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,s,r)?X.resolve(null):(Ko()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zo(n)),this.vs(e,o,n,Z1(r,Jc)).next((c=>c)))}))}Ds(e,n){let s=new Wt(Mw(e));return n.forEach(((r,i)=>{Fh(e,i)&&(s=s.add(i))})),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return Ko()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",zo(n)),this.ps.getDocumentsMatchingQuery(e,n,mi.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="LocalStore",Ox=3e8;class Dx{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new bt(He),this.xs=new wo((i=>Fp(i)),Up),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function xx(t,e,n,s){return new Dx(t,e,n,s)}async function ab(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next((i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((i=>{const o=[],c=[];let u=qe();for(const h of r){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of i){c.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(s,u).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function Vx(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,h,d){const m=h.batch,y=m.keys();let E=X.resolve();return y.forEach((O=>{E=E.next((()=>d.getEntry(u,O))).next((D=>{const U=h.docVersions.get(O);tt(U!==null,48541),D.version.compareTo(U)<0&&(m.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),d.addEntry(D)))}))})),E.next((()=>c.mutationQueue.removeMutationBatch(u,m)))})(n,s,e,i).next((()=>i.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(c){let u=qe();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(u=u.add(c.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(s,r)))}))}function cb(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Lx(t,e){const n=De(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const c=[];e.targetChanges.forEach(((d,m)=>{const y=r.get(m);if(!y)return;c.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(i,d.addedDocuments,m))));let E=y.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(rn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):d.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(d.resumeToken,s)),r=r.insert(m,E),(function(D,U,H){return D.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=Ox?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0})(y,E,d)&&c.push(n.Pi.updateTargetData(i,E))}));let u=Sr(),h=qe();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))})),c.push(Mx(i,o,e.documentUpdates).next((d=>{u=d.ks,h=d.qs}))),!s.isEqual(ke.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next((m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s)));c.push(d)}return X.waitFor(c).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,u,h))).next((()=>u))})).then((i=>(n.Ms=r,i)))}function Mx(t,e,n){let s=qe(),r=qe();return n.forEach((i=>s=s.add(i))),e.getEntries(t,s).next((i=>{let o=Sr();return n.forEach(((c,u)=>{const h=i.get(c);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(c)),u.isNoDocument()&&u.version.isEqual(ke.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):de(zp,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",u.version)})),{ks:o,qs:r}}))}function Fx(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Vp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Ux(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return n.Pi.getTargetData(s,e).next((i=>i?(r=i,X.resolve(r)):n.Pi.allocateTargetId(s).next((o=>(r=new ii(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Fd(t,e,n){const s=De(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,(o=>s.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Va(o))throw o;de(zp,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function Cy(t,e,n){const s=De(t);let r=ke.min(),i=qe();return s.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,h,d){const m=De(u),y=m.xs.get(d);return y!==void 0?X.resolve(m.Ms.get(y)):m.Pi.getTargetData(h,d)})(s,o,js(e)).next((c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,c.targetId).next((u=>{i=u}))})).next((()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:ke.min(),n?i:qe()))).next((c=>(Bx(s,ID(e),c),{documents:c,Qs:i})))))}function Bx(t,e,n){let s=t.Os.get(e)||ke.min();n.forEach(((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)})),t.Os.set(e,s)}class Sy{constructor(){this.activeTargetIds=ND()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jx{constructor(){this.Mo=new Sy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Sy,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="ConnectivityMonitor";class Py{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(Ry,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(Ry,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou=null;function Ud(){return ou===null?ou=(function(){return 268435456+Math.round(2147483648*Math.random())})():ou++,"0x"+ou.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="RestConnection",Hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Qu?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const o=Ud(),c=this.zo(e,n.toUriEncodedString());de(Gf,`Sending RPC '${e}' ${o}:`,c,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,i);const{host:h}=new URL(c),d=ka(h);return this.Jo(e,c,u,s,d).then((m=>(de(Gf,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw ma(Gf,`RPC '${e}' ${o} failed with error: `,m,"url: ",c,"request:",s),m}))}Ho(e,n,s,r,i,o){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Da})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,i)=>e[i]=r)),s&&s.headers.forEach(((r,i)=>e[i]=r))}zo(e,n){const s=Hx[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class Gx extends qx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const o=Ud();return new Promise(((c,u)=>{const h=new uw;h.setWithCredentials(!0),h.listenOnce(hw.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case _u.NO_ERROR:const m=h.getResponseJson();de(un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),c(m);break;case _u.TIMEOUT:de(un,`RPC '${e}' ${o} timed out`),u(new le(Q.DEADLINE_EXCEEDED,"Request time out"));break;case _u.HTTP_ERROR:const y=h.getStatus();if(de(un,`RPC '${e}' ${o} failed with status:`,y,"response text:",h.getResponseText()),y>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const O=E?.error;if(O&&O.status&&O.message){const D=(function(H){const M=H.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(M)>=0?M:Q.UNKNOWN})(O.status);u(new le(D,O.message))}else u(new le(Q.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new le(Q.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{de(un,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(r);de(un,`RPC '${e}' ${o} sending request:`,r),h.send(n,"POST",d,s,15)}))}T_(e,n,s){const r=Ud(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pw(),c=dw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const d=i.join("");de(un,`Creating RPC '${e}' stream ${r}: ${d}`,u);const m=o.createWebChannel(d,u);this.I_(m);let y=!1,E=!1;const O=new Wx({Yo:U=>{E?de(un,`Not sending because RPC '${e}' stream ${r} is closed:`,U):(y||(de(un,`Opening RPC '${e}' stream ${r} transport.`),m.open(),y=!0),de(un,`RPC '${e}' stream ${r} sending:`,U),m.send(U))},Zo:()=>m.close()}),D=(U,H,M)=>{U.listen(H,(R=>{try{M(R)}catch(x){setTimeout((()=>{throw x}),0)}}))};return D(m,yc.EventType.OPEN,(()=>{E||(de(un,`RPC '${e}' stream ${r} transport opened.`),O.o_())})),D(m,yc.EventType.CLOSE,(()=>{E||(E=!0,de(un,`RPC '${e}' stream ${r} transport closed`),O.a_(),this.E_(m))})),D(m,yc.EventType.ERROR,(U=>{E||(E=!0,ma(un,`RPC '${e}' stream ${r} transport errored. Name:`,U.name,"Message:",U.message),O.a_(new le(Q.UNAVAILABLE,"The operation could not be completed")))})),D(m,yc.EventType.MESSAGE,(U=>{if(!E){const H=U.data[0];tt(!!H,16349);const M=H,R=M?.error||M[0]?.error;if(R){de(un,`RPC '${e}' stream ${r} received error:`,R);const x=R.status;let j=(function(b){const T=Lt[b];if(T!==void 0)return Qw(T)})(x),z=R.message;j===void 0&&(j=Q.INTERNAL,z="Unknown error status: "+x+" with message "+R.message),E=!0,O.a_(new le(j,z)),m.close()}else de(un,`RPC '${e}' stream ${r} received:`,H),O.u_(H)}})),D(c,fw.STAT_EVENT,(U=>{U.stat===Sd.PROXY?de(un,`RPC '${e}' stream ${r} detected buffering proxy`):U.stat===Sd.NOPROXY&&de(un,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){return new YD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&de("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="PersistentStream";class ub{constructor(e,n,s,r,i,o,c,u){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Cr(n.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.D_===n&&this.G_(s,r)}),(s=>{e((()=>{const r=new le(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{s((()=>this.z_(r)))})),this.stream.onMessage((r=>{s((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(ky,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(ky,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kx extends ub{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZD(this.serializer,e),s=(function(i){if(!("targetChange"in i))return ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?$s(o.readTime):ke.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Md(this.serializer),n.addTarget=(function(i,o){let c;const u=o.target;if(c=Od(u)?{documents:nx(i,u)}:{query:sx(i,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Jw(i,o.resumeToken);const h=xd(i,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(ke.min())>0){c.readTime=eh(i,o.snapshotVersion.toTimestamp());const h=xd(i,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const s=ix(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Md(this.serializer),n.removeTarget=e,this.q_(n)}}class zx extends ub{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tx(e.writeResults,e.commitTime),s=$s(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Md(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ex(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{}class Yx extends Qx{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,Vd(n,s),r,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new le(Q.UNKNOWN,i.toString())}))}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,Vd(n,s),r,o,c,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(Q.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Xx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Cr(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="RemoteStore";class Jx{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{s.enqueueAndForget((async()=>{bo(this)&&(de(yo,"Restarting streams for network reachability change."),await(async function(u){const h=De(u);h.Ea.add(4),await bl(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Hh(h)})(this))}))})),this.Ra=new Xx(s,r)}}async function Hh(t){if(bo(t))for(const e of t.da)await e(!0)}async function bl(t){for(const e of t.da)await e(!1)}function hb(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Jp(n)?Xp(n):Ma(n).O_()&&Yp(n,e))}function Qp(t,e){const n=De(t),s=Ma(n);n.Ia.delete(e),s.O_()&&fb(n,e),n.Ia.size===0&&(s.O_()?s.L_():bo(n)&&n.Ra.set("Unknown"))}function Yp(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ma(t).Y_(e)}function fb(t,e){t.Va.Ue(e),Ma(t).Z_(e)}function Xp(t){t.Va=new GD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ma(t).start(),t.Ra.ua()}function Jp(t){return bo(t)&&!Ma(t).x_()&&t.Ia.size>0}function bo(t){return De(t).Ea.size===0}function db(t){t.Va=void 0}async function Zx(t){t.Ra.set("Online")}async function eV(t){t.Ia.forEach(((e,n)=>{Yp(t,e)}))}async function tV(t,e){db(t),Jp(t)?(t.Ra.ha(e),Xp(t)):t.Ra.set("Unknown")}async function nV(t,e,n){if(t.Ra.set("Online"),e instanceof Xw&&e.state===2&&e.cause)try{await(async function(r,i){const o=i.cause;for(const c of i.targetIds)r.Ia.has(c)&&(await r.remoteSyncer.rejectListen(c,o),r.Ia.delete(c),r.Va.removeTarget(c))})(t,e)}catch(s){de(yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await nh(t,s)}else if(e instanceof Tu?t.Va.Ze(e):e instanceof Yw?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const s=await cb(t.localStore);n.compareTo(s)>=0&&await(function(i,o){const c=i.Va.Tt(o);return c.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(u.resumeToken,o))}})),c.targetMismatches.forEach(((u,h)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(rn.EMPTY_BYTE_STRING,d.snapshotVersion)),fb(i,u);const m=new ii(d.target,u,h,d.sequenceNumber);Yp(i,m)})),i.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(s){de(yo,"Failed to raise snapshot:",s),await nh(t,s)}}async function nh(t,e,n){if(!Va(e))throw e;t.Ea.add(1),await bl(t),t.Ra.set("Offline"),n||(n=()=>cb(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(yo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hh(t)}))}function pb(t,e){return e().catch((n=>nh(t,n,e)))}async function qh(t){const e=De(t),n=vi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vp;for(;sV(e);)try{const r=await Fx(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,rV(e,r)}catch(r){await nh(e,r)}mb(e)&&gb(e)}function sV(t){return bo(t)&&t.Ta.length<10}function rV(t,e){t.Ta.push(e);const n=vi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mb(t){return bo(t)&&!vi(t).x_()&&t.Ta.length>0}function gb(t){vi(t).start()}async function iV(t){vi(t).ra()}async function oV(t){const e=vi(t);for(const n of t.Ta)e.ea(n.mutations)}async function aV(t,e,n){const s=t.Ta.shift(),r=$p.from(s,e,n);await pb(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await qh(t)}async function cV(t,e){e&&vi(t).X_&&await(async function(s,r){if((function(o){return HD(o)&&o!==Q.ABORTED})(r.code)){const i=s.Ta.shift();vi(s).B_(),await pb(s,(()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r))),await qh(s)}})(t,e),mb(t)&&gb(t)}async function Ny(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),de(yo,"RemoteStore received new credentials");const s=bo(n);n.Ea.add(3),await bl(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hh(n)}async function lV(t,e){const n=De(t);e?(n.Ea.delete(2),await Hh(n)):e||(n.Ea.add(2),await bl(n),n.Ra.set("Unknown"))}function Ma(t){return t.ma||(t.ma=(function(n,s,r){const i=De(n);return i.sa(),new Kx(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Xo:Zx.bind(null,t),t_:eV.bind(null,t),r_:tV.bind(null,t),H_:nV.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Jp(t)?Xp(t):t.Ra.set("Unknown")):(await t.ma.stop(),db(t))}))),t.ma}function vi(t){return t.fa||(t.fa=(function(n,s,r){const i=De(n);return i.sa(),new zx(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:iV.bind(null,t),r_:cV.bind(null,t),ta:oV.bind(null,t),na:aV.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await qh(t)):(await t.fa.stop(),t.Ta.length>0&&(de(yo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,c=new Zp(e,n,o,r,i);return c.start(s),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(t,e){if(Cr("AsyncQueue",`${e}: ${t}`),Va(t))return new le(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{static emptySet(e){return new oa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||we.comparator(n.key,s.key):(n,s)=>we.comparator(n.key,s.key),this.keyedMap=vc(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new oa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.ga=new bt(we.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class wa{constructor(e,n,s,r,i,o,c,u,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new wa(e,n,oa.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hV{constructor(){this.queries=Dy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=De(n),i=r.queries;r.queries=Dy(),i.forEach(((o,c)=>{for(const u of c.Sa)u.onError(s)}))})(this,new le(Q.ABORTED,"Firestore shutting down"))}}function Dy(){return new wo((t=>Lw(t)),Mh)}async function tm(t,e){const n=De(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new uV,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const c=em(o,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&sm(n)}async function nm(t,e){const n=De(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function fV(t,e){const n=De(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const c of o.Sa)c.Fa(r)&&(s=!0);o.wa=r}}s&&sm(n)}function dV(t,e,n){const s=De(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function sm(t){t.Ca.forEach((e=>{e.next()}))}var Bd,xy;(xy=Bd||(Bd={})).Ma="default",xy.Cache="cache";class rm{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new wa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.key=e}}class yb{constructor(e){this.key=e}}class pV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=Mw(e),this.tu=new oa(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Oy,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,c=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((d,m)=>{const y=r.get(d),E=Fh(this.query,m)?m:null,O=!!y&&this.mutatedKeys.has(y.key),D=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let U=!1;y&&E?y.data.isEqual(E.data)?O!==D&&(s.track({type:3,doc:E}),U=!0):this.su(y,E)||(s.track({type:2,doc:E}),U=!0,(u&&this.eu(E,u)>0||h&&this.eu(E,h)<0)&&(c=!0)):!y&&E?(s.track({type:0,doc:E}),U=!0):y&&!E&&(s.track({type:1,doc:y}),U=!0,(u||h)&&(c=!0)),U&&(E?(o=o.add(E),i=D?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{tu:o,iu:s,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,m)=>(function(E,O){const D=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:U})}};return D(E)-D(O)})(d.type,m.type)||this.eu(d.doc,m.doc))),this.ou(s),r=r??!1;const c=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new wa(this.query,e.tu,i,o,e.mutatedKeys,u===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Oy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new yb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new _b(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const im="SyncEngine";class mV{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class gV{constructor(e){this.key=e,this.hu=!1}}class _V{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new wo((c=>Lw(c)),Mh),this.Iu=new Map,this.Eu=new Set,this.du=new bt(we.comparator),this.Au=new Map,this.Ru=new Wp,this.Vu={},this.mu=new Map,this.fu=Ta.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function yV(t,e,n=!0){const s=Ab(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await vb(s,e,n,!0),r}async function vV(t,e){const n=Ab(t);await vb(n,e,!0,!1)}async function vb(t,e,n,s){const r=await Ux(t.localStore,js(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let c;return s&&(c=await EV(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&hb(t.remoteStore,r),c}async function EV(t,e,n,s,r){t.pu=(m,y,E)=>(async function(D,U,H,M){let R=U.view.ru(H);R.Cs&&(R=await Cy(D.localStore,U.query,!1).then((({documents:S})=>U.view.ru(S,R))));const x=M&&M.targetChanges.get(U.targetId),j=M&&M.targetMismatches.get(U.targetId)!=null,z=U.view.applyChanges(R,D.isPrimaryClient,x,j);return Ly(D,U.targetId,z.au),z.snapshot})(t,m,y,E);const i=await Cy(t.localStore,e,!0),o=new pV(e,i.Qs),c=o.ru(i.documents),u=wl.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),h=o.applyChanges(c,t.isPrimaryClient,u);Ly(t,n,h.au);const d=new mV(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function TV(t,e,n){const s=De(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter((o=>!Mh(o,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Fd(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),n&&Qp(s.remoteStore,r.targetId),jd(s,r.targetId)})).catch(xa)):(jd(s,r.targetId),await Fd(s.localStore,r.targetId,!0))}async function wV(t,e){const n=De(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Qp(n.remoteStore,s.targetId))}async function bV(t,e,n){const s=kV(t);try{const r=await(function(o,c){const u=De(o),h=vt.now(),d=c.reduce(((E,O)=>E.add(O.key)),qe());let m,y;return u.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let O=Sr(),D=qe();return u.Ns.getEntries(E,d).next((U=>{O=U,O.forEach(((H,M)=>{M.isValidDocument()||(D=D.add(H))}))})).next((()=>u.localDocuments.getOverlayedDocuments(E,O))).next((U=>{m=U;const H=[];for(const M of c){const R=FD(M,m.get(M.key).overlayedDocument);R!=null&&H.push(new Ii(M.key,R,Rw(R.value.mapValue),_s.exists(!0)))}return u.mutationQueue.addMutationBatch(E,h,H,c)})).next((U=>{y=U;const H=U.applyToLocalDocumentSet(m,D);return u.documentOverlayCache.saveOverlays(E,U.batchId,H)}))})).then((()=>({batchId:y.batchId,changes:Uw(m)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),(function(o,c,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new bt(He)),h=h.insert(c,u),o.Vu[o.currentUser.toKey()]=h})(s,r.batchId,n),await Al(s,r.changes),await qh(s.remoteStore)}catch(r){const i=em(r,"Failed to persist write");n.reject(i)}}async function Eb(t,e){const n=De(t);try{const s=await Lx(n.localStore,e);e.targetChanges.forEach(((r,i)=>{const o=n.Au.get(i);o&&(tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?tt(o.hu,14607):r.removedDocuments.size>0&&(tt(o.hu,42227),o.hu=!1))})),await Al(n,s,e)}catch(s){await xa(s)}}function Vy(t,e,n){const s=De(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach(((i,o)=>{const c=o.view.va(e);c.snapshot&&r.push(c.snapshot)})),(function(o,c){const u=De(o);u.onlineState=c;let h=!1;u.queries.forEach(((d,m)=>{for(const y of m.Sa)y.va(c)&&(h=!0)})),h&&sm(u)})(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AV(t,e,n){const s=De(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let o=new bt(we.comparator);o=o.insert(i,mn.newNoDocument(i,ke.min()));const c=qe().add(i),u=new jh(ke.min(),new Map,new bt(He),o,c);await Eb(s,u),s.du=s.du.remove(i),s.Au.delete(e),om(s)}else await Fd(s.localStore,e,!1).then((()=>jd(s,e,n))).catch(xa)}async function IV(t,e){const n=De(t),s=e.batch.batchId;try{const r=await Vx(n.localStore,e);wb(n,s,null),Tb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Al(n,r)}catch(r){await xa(r)}}async function CV(t,e,n){const s=De(t);try{const r=await(function(o,c){const u=De(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let d;return u.mutationQueue.lookupMutationBatch(h,c).next((m=>(tt(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(h,m)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d))).next((()=>u.localDocuments.getDocuments(h,d)))}))})(s.localStore,e);wb(s,e,n),Tb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Al(s,r)}catch(r){await xa(r)}}function Tb(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function wb(t,e,n){const s=De(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function jd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||bb(t,s)}))}function bb(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qp(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),om(t))}function Ly(t,e,n){for(const s of n)s instanceof _b?(t.Ru.addReference(s.key,e),SV(t,s)):s instanceof yb?(de(im,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||bb(t,s.key)):Se(19791,{wu:s})}function SV(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(de(im,"New document in limbo: "+n),t.Eu.add(s),om(t))}function om(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new we(_t.fromString(e)),s=t.fu.next();t.Au.set(s,new gV(n)),t.du=t.du.insert(n,s),hb(t.remoteStore,new ii(js(Lh(n.path)),s,"TargetPurposeLimboResolution",Dh.ce))}}async function Al(t,e,n){const s=De(t),r=[],i=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach(((c,u)=>{o.push(s.pu(u,e,n).then((h=>{if((h||n)&&s.isPrimaryClient){const d=h?!h.fromCache:n?.targetChanges.get(u.targetId)?.current;s.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(h){r.push(h);const d=Kp.As(u.targetId,h);i.push(d)}})))})),await Promise.all(o),s.Pu.H_(r),await(async function(u,h){const d=De(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>X.forEach(h,(y=>X.forEach(y.Es,(E=>d.persistence.referenceDelegate.addReference(m,y.targetId,E))).next((()=>X.forEach(y.ds,(E=>d.persistence.referenceDelegate.removeReference(m,y.targetId,E)))))))))}catch(m){if(!Va(m))throw m;de(zp,"Failed to update sequence numbers: "+m)}for(const m of h){const y=m.targetId;if(!m.fromCache){const E=d.Ms.get(y),O=E.snapshotVersion,D=E.withLastLimboFreeSnapshotVersion(O);d.Ms=d.Ms.insert(y,D)}}})(s.localStore,i))}async function RV(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){de(im,"User change. New user:",e.toKey());const s=await ab(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((c=>{c.forEach((u=>{u.reject(new le(Q.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Al(n,s.Ls)}}function PV(t,e){const n=De(t),s=n.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let r=qe();const i=n.Iu.get(e);if(!i)return r;for(const o of i){const c=n.Tu.get(o);r=r.unionWith(c.view.nu)}return r}}function Ab(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AV.bind(null,e),e.Pu.H_=fV.bind(null,e.eventManager),e.Pu.yu=dV.bind(null,e.eventManager),e}function kV(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CV.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xx(this.persistence,new Nx,e.initialUser,this.serializer)}Cu(e){return new ob(Gp.mi,this.serializer)}Du(e){return new jx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class NV extends sh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){tt(this.persistence.referenceDelegate instanceof th,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new ob((s=>th.mi(s,n)),this.serializer)}}class $d{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Vy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RV.bind(null,this.syncEngine),await lV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hV})()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),s=(function(i){return new Gx(i)})(e.databaseInfo);return(function(i,o,c,u){return new Yx(i,o,c,u)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,r,i,o,c){return new Jx(s,r,i,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>Vy(this.syncEngine,n,0)),(function(){return Py.v()?new Py:new $x})())}createSyncEngine(e,n){return(function(r,i,o,c,u,h,d){const m=new _V(r,i,o,c,u,h);return d&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);de(yo,"RemoteStore shutting down."),s.Ea.add(5),await bl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$d.provider={build:()=>new $d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="FirestoreClient";class OV{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=fn.UNAUTHENTICATED,this.clientId=xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,(async o=>{de(Ei,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(s,(o=>(de(Ei,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=em(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function zf(t,e){t.asyncQueue.verifyOperationInProgress(),de(Ei,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async r=>{s.isEqual(r)||(await ab(e.localStore,r),s=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function My(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DV(t);de(Ei,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Ny(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,r)=>Ny(e.remoteStore,r))),t._onlineComponents=e}async function DV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Ei,"Using user provided OfflineComponentProvider");try{await zf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===Q.FAILED_PRECONDITION||r.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;ma("Error using user provided cache. Falling back to memory cache: "+n),await zf(t,new sh)}}else de(Ei,"Using default OfflineComponentProvider"),await zf(t,new NV(void 0));return t._offlineComponents}async function Ib(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Ei,"Using user provided OnlineComponentProvider"),await My(t,t._uninitializedComponentsProvider._online)):(de(Ei,"Using default OnlineComponentProvider"),await My(t,new $d))),t._onlineComponents}function xV(t){return Ib(t).then((e=>e.syncEngine))}async function rh(t){const e=await Ib(t),n=e.eventManager;return n.onListen=yV.bind(null,e.syncEngine),n.onUnlisten=TV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wV.bind(null,e.syncEngine),n}function VV(t,e,n={}){const s=new gr;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,u,h){const d=new am({next:y=>{d.Nu(),o.enqueueAndForget((()=>nm(i,m)));const E=y.docs.has(c);!E&&y.fromCache?h.reject(new le(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&u&&u.source==="server"?h.reject(new le(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new rm(Lh(c.path),d,{includeMetadataChanges:!0,qa:!0});return tm(i,m)})(await rh(t),t.asyncQueue,e,n,s))),s.promise}function LV(t,e,n={}){const s=new gr;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,c,u,h){const d=new am({next:y=>{d.Nu(),o.enqueueAndForget((()=>nm(i,m))),y.fromCache&&u.source==="server"?h.reject(new le(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(y)},error:y=>h.reject(y)}),m=new rm(c,d,{includeMetadataChanges:!0,qa:!0});return tm(i,m)})(await rh(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="firestore.googleapis.com",Uy=!0;class By{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sb,this.ssl=Uy}else this.host=e.host,this.ssl=e.ssl??Uy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ib;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<px)throw new le(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}J1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Cb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new By({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new By(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new $1;switch(s.type){case"firstParty":return new G1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Fy.get(n);s&&(de("ComponentProvider","Removing Datastore"),Fy.delete(n),s.terminate())})(this),Promise.resolve()}}function MV(t,e,n,s={}){t=Hn(t,Wh);const r=ka(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;r&&(_T(`https://${c}`),yT("Firestore",!0)),i.host!==Sb&&i.host!==c&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:c,ssl:r,emulatorOptions:s};if(!br(u,o)&&(t._setSettings(u),s.mockUserToken)){let h,d;if(typeof s.mockUserToken=="string")h=s.mockUserToken,d=fn.MOCK_USER;else{h=z0(s.mockUserToken,t._app?.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new le(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new fn(m)}t._authCredentials=new H1(new gw(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Nr(this.firestore,e,this._query)}}class Rt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(El(n,Rt._jsonSchema))return new Rt(e,s||null,new we(_t.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Ft("string",Rt._jsonSchemaVersion),referencePath:Ft("string")};class di extends Nr{constructor(e,n,s){super(e,n,Lh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new we(e))}withConverter(e){return new di(this.firestore,e,this._path)}}function BL(t,e,...n){if(t=Tt(t),_w("collection","path",e),t instanceof Wh){const s=_t.fromString(e,...n);return Z_(s),new di(t,null,s)}{if(!(t instanceof Rt||t instanceof di))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(_t.fromString(e,...n));return Z_(s),new di(t.firestore,null,s)}}function cm(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=xp.newId()),_w("doc","path",e),t instanceof Wh){const s=_t.fromString(e,...n);return J_(s),new Rt(t,null,new we(s))}{if(!(t instanceof Rt||t instanceof di))throw new le(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(_t.fromString(e,...n));return J_(s),new Rt(t.firestore,t instanceof di?t.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="AsyncQueue";class $y{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lb(this,"async_queue_retry"),this._c=()=>{const s=Kf();s&&de(jy,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Kf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Kf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Va(e))throw e;de(jy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Cr("INTERNAL UNHANDLED ERROR: ",Hy(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Zp.createAndSchedule(this,e,n,s,(i=>this.hc(i)));return this.tc.push(r),r}uc(){this.nc&&Se(47125,{Pc:Hy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Hy(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const i of s)if(i in r&&typeof r[i]=="function")return!0;return!1})(t,["next","error","complete"])}class Ti extends Wh{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new $y,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $y(e),this._firestoreClient=void 0,await e}}}function FV(t,e){const n=typeof t=="object"?t:bp(),s=typeof t=="string"?t:Qu,r=wp(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=G0("firestore");i&&MV(r,...i)}return r}function Gh(t){if(t._terminated)throw new le(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UV(t),t._firestoreClient}function UV(t){const e=t._freezeSettings(),n=(function(r,i,o,c){return new lD(r,i,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Cb(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new OV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(r){const i=r?._online.build();return{_offline:r?._offline.build(i),_online:i}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ns(rn.fromBase64String(e))}catch(n){throw new le(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ns(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ns._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(El(e,ns._jsonSchema))return ns.fromBase64String(e.bytes)}}ns._jsonSchemaVersion="firestore/bytes/1.0",ns._jsonSchema={type:Ft("string",ns._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hs._jsonSchemaVersion}}static fromJSON(e){if(El(e,Hs._jsonSchema))return new Hs(e.latitude,e.longitude)}}Hs._jsonSchemaVersion="firestore/geoPoint/1.0",Hs._jsonSchema={type:Ft("string",Hs._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(El(e,qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qs(e.vectorValues);throw new le(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qs._jsonSchemaVersion="firestore/vectorValue/1.0",qs._jsonSchema={type:Ft("string",qs._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^__.*__$/;class jV{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tl(e,this.data,n,this.fieldTransforms)}}class Rb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ii(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Pb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class zh{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Pb(this.Ac)&&BV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $V{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||$h(e)}Cc(e,n,s,r=!1){return new zh({Ac:e,methodName:n,Dc:s,path:nn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(t){const e=t._freezeSettings(),n=$h(t._databaseId);return new $V(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kb(t,e,n,s,r,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);fm("Data must be an object, but it was:",o,s);const c=Ob(s,o);let u,h;if(i.merge)u=new Bn(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const m of i.mergeFields){const y=Hd(e,m,n);if(!o.contains(y))throw new le(Q.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);xb(d,y)||d.push(y)}u=new Bn(d),h=o.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,h=o.fieldTransforms;return new jV(new Dn(c),u,h)}class Yh extends Fa{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function Nb(t,e,n){return new zh({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class lm extends Fa{_toFieldTransform(e){return new jp(e.path,new sl)}isEqual(e){return e instanceof lm}}class um extends Fa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Nb(this,e,!0),s=this.vc.map((i=>Ao(i,n))),r=new va(s);return new jp(e.path,r)}isEqual(e){return e instanceof um&&br(this.vc,e.vc)}}class hm extends Fa{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Nb(this,e,!0),s=this.vc.map((i=>Ao(i,n))),r=new Ea(s);return new jp(e.path,r)}isEqual(e){return e instanceof hm&&br(this.vc,e.vc)}}function HV(t,e,n,s){const r=t.Cc(1,e,n);fm("Data must be an object, but it was:",r,s);const i=[],o=Dn.empty();Ai(s,((u,h)=>{const d=dm(e,u,n);h=Tt(h);const m=r.yc(d);if(h instanceof Yh)i.push(d);else{const y=Ao(h,m);y!=null&&(i.push(d),o.set(d,y))}}));const c=new Bn(i);return new Rb(o,c,r.fieldTransforms)}function qV(t,e,n,s,r,i){const o=t.Cc(1,e,n),c=[Hd(e,s,n)],u=[r];if(i.length%2!=0)throw new le(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<i.length;y+=2)c.push(Hd(e,i[y])),u.push(i[y+1]);const h=[],d=Dn.empty();for(let y=c.length-1;y>=0;--y)if(!xb(h,c[y])){const E=c[y];let O=u[y];O=Tt(O);const D=o.yc(E);if(O instanceof Yh)h.push(E);else{const U=Ao(O,D);U!=null&&(h.push(E),d.set(E,U))}}const m=new Bn(h);return new Rb(d,m,o.fieldTransforms)}function WV(t,e,n,s=!1){return Ao(n,t.Cc(s?4:3,e))}function Ao(t,e){if(Db(t=Tt(t)))return fm("Unsupported field value:",e,t),Ob(t,e);if(t instanceof Fa)return(function(s,r){if(!Pb(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,r){const i=[];let o=0;for(const c of s){let u=Ao(c,r.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}})(t,e)}return(function(s,r){if((s=Tt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OD(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=vt.fromDate(s);return{timestampValue:eh(r.serializer,i)}}if(s instanceof vt){const i=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:eh(r.serializer,i)}}if(s instanceof Hs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ns)return{bytesValue:Jw(r.serializer,s._byteString)};if(s instanceof Rt){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qp(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof qs)return(function(o,c){return{mapValue:{fields:{[Cw]:{stringValue:Sw},[Yu]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Bp(c.serializer,h)}))}}}}}})(s,r);throw r.Sc(`Unsupported field value: ${Oh(s)}`)})(t,e)}function Ob(t,e){const n={};return Ew(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ai(t,((s,r)=>{const i=Ao(r,e.mc(s));i!=null&&(n[s]=i)})),{mapValue:{fields:n}}}function Db(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Hs||t instanceof ns||t instanceof Rt||t instanceof Fa||t instanceof qs)}function fm(t,e,n){if(!Db(n)||!yw(n)){const s=Oh(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Hd(t,e,n){if((e=Tt(e))instanceof Kh)return e._internalPath;if(typeof e=="string")return dm(t,e);throw ih("Field path arguments must be of type string or ",t,!1,void 0,n)}const GV=new RegExp("[~\\*/\\[\\]]");function dm(t,e,n){if(e.search(GV)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kh(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ih(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${s}`),o&&(u+=` in document ${r}`),u+=")"),new le(Q.INVALID_ARGUMENT,c+t+u)}function xb(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KV extends Vb{data(){return super.data()}}function Xh(t,e){return typeof e=="string"?dm(t,e):e instanceof Kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pm{}class mm extends pm{}function jL(t,e,...n){let s=[];e instanceof pm&&s.push(e),s=s.concat(n),(function(i){const o=i.filter((u=>u instanceof gm)).length,c=i.filter((u=>u instanceof Jh)).length;if(o>1||o>0&&c>0)throw new le(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const r of s)t=r._apply(t);return t}class Jh extends mm{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Jh(e,n,s)}_apply(e){const n=this._parse(e);return Mb(e._query,n),new Nr(e.firestore,e.converter,Dd(e._query,n))}_parse(e){const n=Qh(e.firestore);return(function(i,o,c,u,h,d,m){let y;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new le(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Gy(m,d);const O=[];for(const D of m)O.push(Wy(u,i,D));y={arrayValue:{values:O}}}else y=Wy(u,i,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Gy(m,d),y=WV(c,o,m,d==="in"||d==="not-in");return Mt.create(h,d,y)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $L(t,e,n){const s=e,r=Xh("where",t);return Jh._create(r,s,n)}class gm extends pm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gm(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Es.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,i){let o=r;const c=i.getFlattenedFilters();for(const u of c)Mb(o,u),o=Dd(o,u)})(e._query,n),new Nr(e.firestore,e.converter,Dd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _m extends mm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _m(e,n)}_apply(e){const n=(function(r,i,o){if(r.startAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new le(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nl(i,o)})(e._query,this._field,this._direction);return new Nr(e.firestore,e.converter,(function(r,i){const o=r.explicitOrderBy.concat([i]);return new La(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function HL(t,e="asc"){const n=e,s=Xh("orderBy",t);return _m._create(s,n)}class ym extends mm{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new ym(e,n,s)}_apply(e){return new Nr(e.firestore,e.converter,Ju(e._query,this._limit,this._limitType))}}function qL(t){return ym._create("limit",t,"F")}function Wy(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new le(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vw(e)&&n.indexOf("/")!==-1)throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(_t.fromString(n));if(!we.isDocumentKey(s))throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ay(t,new we(s))}if(n instanceof Rt)return ay(t,n._key);throw new le(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function Gy(t,e){if(!Array.isArray(t)||t.length===0)throw new le(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mb(t,e){const n=(function(r,i){for(const o of r)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zV{convertValue(e,n="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ai(e,((r,i)=>{s[r]=this.convertValue(i,n)})),s}convertVectorValue(e){const n=e.fields?.[Yu].arrayValue?.values?.map((s=>xt(s.doubleValue)));return new qs(n)}convertGeoPoint(e){return new Hs(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Vh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const n=gi(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=_t.fromString(e);tt(rb(s),9688,{name:e});const r=new el(s.get(1),s.get(3)),i=new we(s.popFirst(5));return r.isEqual(n)||Cr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class Tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class co extends Vb{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Xh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:Ft("string",co._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class wu extends co{data(e={}){return super.data(e)}}class lo{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Tc(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new wu(this._firestore,this._userDataWriter,s.key,s,new Tc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map((c=>{const u=new wu(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Tc(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const u=new wu(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Tc(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,d=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),d=o.indexOf(c.doc.key)),{type:QV(c.type),doc:u,oldIndex:h,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t){t=Hn(t,Rt);const e=Hn(t.firestore,Ti);return VV(Gh(e),t._key).then((n=>Bb(e,t,n)))}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:Ft("string",lo._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class vm extends zV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ns(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function WL(t){t=Hn(t,Nr);const e=Hn(t.firestore,Ti),n=Gh(e),s=new vm(e);return Lb(t._query),LV(n,t._query).then((r=>new lo(e,s,t,r)))}function Ub(t,e,n){t=Hn(t,Rt);const s=Hn(t.firestore,Ti),r=Fb(t.converter,e,n);return Em(s,[kb(Qh(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,_s.none())])}function XV(t,e,n,...s){t=Hn(t,Rt);const r=Hn(t.firestore,Ti),i=Qh(r);let o;return o=typeof(e=Tt(e))=="string"||e instanceof Kh?qV(i,"updateDoc",t._key,e,n,s):HV(i,"updateDoc",t._key,e),Em(r,[o.toMutation(t._key,_s.exists(!0))])}function GL(t,e){const n=Hn(t.firestore,Ti),s=cm(t),r=Fb(t.converter,e);return Em(n,[kb(Qh(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,_s.exists(!1))]).then((()=>s))}function KL(t,...e){t=Tt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||qy(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(qy(e[s])){const u=e[s];e[s]=u.next?.bind(u),e[s+1]=u.error?.bind(u),e[s+2]=u.complete?.bind(u)}let i,o,c;if(t instanceof Rt)o=Hn(t.firestore,Ti),c=Lh(t._key.path),i={next:u=>{e[s]&&e[s](Bb(o,t,u))},error:e[s+1],complete:e[s+2]};else{const u=Hn(t,Nr);o=Hn(u.firestore,Ti),c=u._query;const h=new vm(o);i={next:d=>{e[s]&&e[s](new lo(o,h,u,d))},error:e[s+1],complete:e[s+2]},Lb(t._query)}return(function(h,d,m,y){const E=new am(y),O=new rm(d,E,m);return h.asyncQueue.enqueueAndForget((async()=>tm(await rh(h),O))),()=>{E.Nu(),h.asyncQueue.enqueueAndForget((async()=>nm(await rh(h),O)))}})(Gh(o),c,r,i)}function Em(t,e){return(function(s,r){const i=new gr;return s.asyncQueue.enqueueAndForget((async()=>bV(await xV(s),r,i))),i.promise})(Gh(t),e)}function Bb(t,e,n){const s=n.docs.get(e._key),r=new vm(t);return new co(t,r,e._key,s,new Tc(n.hasPendingWrites,n.fromCache),e.converter)}function Qi(){return new lm("serverTimestamp")}function zL(...t){return new um("arrayUnion",t)}function QL(...t){return new hm("arrayRemove",t)}(function(e,n=!0){(function(r){Da=r})(Na),pa(new fo("firestore",((s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),c=new Ti(new q1(s.getProvider("auth-internal")),new K1(o,s.getProvider("app-check-internal")),(function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new le(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new el(h.options.projectId,d)})(o,r),o);return i={useFetchStreams:n,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),hi(z_,Q_,e),hi(z_,Q_,"esm2020")})();const JV={apiKey:"AIzaSyDvJe-P_cND8HtHXSy-2JiE4GTv0HjISVQ",authDomain:"touch-grass-77c7c.firebaseapp.com",projectId:"touch-grass-77c7c",storageBucket:"touch-grass-77c7c.firebasestorage.app",messagingSenderId:"274431894037",appId:"1:274431894037:web:51d11404b04f90fa63641c"},jb=hN().length?bp():TT(JV),qn=B1(jb),$b=FV(jb);let au;function ZV(){return au||(au=new Promise(t=>{const e=JT(qn,n=>{e(),t(n)})}),au)}async function YL(t,e,n={}){const s=!!n.remember;await RO(qn,s?tw:kp);const r=await YT(qn,t,e);if(!r.user.emailVerified){try{await Ph(qn)}catch{}const o=new Error("Please verify your email before signing in.");throw o.code="auth/unverified-email",o}const i=cm($b,"users",r.user.uid);try{const o=await YV(i);if(!o.exists())await Ub(i,{uid:r.user.uid,email:t.toLowerCase(),displayName:r.user.displayName||"",friendsList:[],favouritesList:[],availableDates:[],createdAt:Qi(),updatedAt:Qi(),lastLoginAt:Qi()});else{const c=o.data()||{},u={};Array.isArray(c.friendsList)||(u.friendsList=[]),Array.isArray(c.favouritesList)||(u.favouritesList=[]),Array.isArray(c.availableDates)||(u.availableDates=[]),u.lastLoginAt=Qi(),u.updatedAt=Qi(),await XV(i,u)}}catch{}return r}async function XL(t,e,n=""){const s=await AO(qn,t,e);if(n)try{await CO(s.user,{displayName:n})}catch{}try{await Ub(cm($b,"users",s.user.uid),{uid:s.user.uid,email:t.toLowerCase(),displayName:n,friendsList:[],favouritesList:[],availableDates:[],createdAt:Qi(),updatedAt:Qi()})}catch{}try{await XT(s.user)}catch{}try{await Ph(qn)}catch{}return s}async function JL(t){return bO(qn,t)}async function ZL(t,e){const n=await YT(qn,t,e);try{await XT(n.user)}finally{try{await Ph(qn)}catch{}}}async function eL(){await Ph(qn)}const tL=()=>dl(()=>import("./Index-D3eqyi1Y.js"),__vite__mapDeps([0,1,2])),nL=()=>dl(()=>import("./Auth-DZrDTokz.js"),__vite__mapDeps([3,4])),sL=()=>dl(()=>import("./Calendar-D0pyOFbc.js"),__vite__mapDeps([5,1,6])),rL=()=>dl(()=>import("./Itinerary-OMij8tms.js"),__vite__mapDeps([7,1,8])),iL=()=>dl(()=>import("./Profile-3FlqFysq.js"),__vite__mapDeps([9,1,10])),oL=[{path:"/",component:tL},{path:"/login",component:nL,meta:{guestOnly:!0,hideChrome:!0}},{path:"/calendar",component:sL,meta:{requiresAuth:!0}},{path:"/itinerary",component:rL,meta:{requiresAuth:!0}},{path:"/profile",component:iL,meta:{requiresAuth:!0}}],Hb=V0({history:p0(),routes:oL});Hb.beforeEach(async t=>{await ZV();const e=qn.currentUser;if(t.meta?.requiresAuth&&!e)return{path:"/login",query:{redirect:t.fullPath}};if(t.meta?.guestOnly&&e)return{path:t.query.redirect?.toString()||"/"}});let aL=0;const Lc=Sa([]);function qb(t){const e=Lc.findIndex(n=>n.id===t);if(e!==-1){const n=Lc[e];n.timeoutId&&clearTimeout(n.timeoutId),Lc.splice(e,1)}}function fc({message:t,type:e="info",duration:n=3500}){const r=new Set(["success","error","warning","info"]).has(e)?e:"info",i=++aL,o=setTimeout(()=>qb(i),n);return Lc.push({id:i,message:t,type:r,timeoutId:o}),i}const Wb={show:(t,e)=>fc({message:t,duration:e}),success:(t,e)=>fc({message:t,type:"success",duration:e}),error:(t,e)=>fc({message:t,type:"error",duration:e}),warn:(t,e)=>fc({message:t,type:"warning",duration:e}),info:(t,e)=>fc({message:t,type:"info",duration:e}),dismiss:qb};function cL(t=""){return t.trim().split(/\s+/).map(e=>e.split(/(-|')/).map(n=>/^[A-Za-z---]/.test(n)?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():n).join("")).join(" ")}const lL={class:"navbar navbar-expand-lg navbar-touchgrass","aria-label":"Touch Grass main navigation"},uL={class:"container"},hL={class:"collapse navbar-collapse",id:"tgNav"},fL={class:"navbar-nav ms-auto align-items-lg-center gap-lg-2"},dL={class:"nav-item"},pL={class:"nav-item"},mL={key:0,class:"nav-item"},gL={key:1,class:"nav-item dropdown"},_L={class:"nav-link dropdown-toggle d-flex align-items-center gap-2",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},yL={class:"d-inline d-lg-none d-xl-inline"},vL={__name:"Navbar",setup(t){const e=L0(),n=ro(qn.currentUser);let s;Pa(()=>{s=JT(qn,u=>n.value=u)}),ul(()=>{s&&s()});const r=Un(()=>{const u=n.value?.displayName||n.value?.email||"";return u&&u.includes("@")?u:cL(u)});function i(){const u=document.getElementById("tgNav");window.bootstrap?.Collapse?new window.bootstrap.Collapse(u,{toggle:!0}):u?.classList.remove("show")}async function o(){await eL(),Wb.success("Signed out"),i(),e.push("/")}function c(){i(),e.push("/profile")}return(u,h)=>(Sn(),pr("nav",lL,[ae("div",uL,[Ze(Yt(mc),{class:"navbar-brand d-flex align-items-center gap-2",to:"/",onClick:i},{default:Yi(()=>[...h[0]||(h[0]=[ae("svg",{class:"grass-logo",viewBox:"0 0 64 64",role:"img","aria-label":"Touch Grass logo"},[ae("rect",{x:"0",y:"44",width:"64",height:"6",fill:"white"}),ae("path",{d:"M8 44 q2-10 6-16 q-2 8 2 16 Z",fill:"white"}),ae("path",{d:"M16 44 q2-12 8-20 q-3 10 1 20 Z",fill:"white"}),ae("path",{d:"M24 44 q3-14 10-24 q-4 12 0 24 Z",fill:"white"}),ae("path",{d:"M32 44 q2-12 8-20 q-3 10 0 20 Z",fill:"white"}),ae("path",{d:"M40 44 q3-14 10-24 q-4 12 0 24 Z",fill:"white"}),ae("path",{d:"M48 44 q2-10 6-16 q-2 8 2 16 Z",fill:"white"})],-1),ae("span",null,"Touch Grass",-1)])]),_:1}),h[5]||(h[5]=ae("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#tgNav","aria-controls":"tgNav","aria-expanded":"false","aria-label":"Toggle navigation"},[ae("span",{class:"navbar-toggler-icon"})],-1)),ae("div",hL,[ae("ul",fL,[ae("li",dL,[Ze(Yt(mc),{class:"nav-link d-flex align-items-center gap-2",to:"/calendar",onClick:i},{default:Yi(()=>[...h[1]||(h[1]=[ae("i",{class:"bi bi-calendar fs-5"},null,-1),ae("span",{class:"d-inline d-lg-none d-xl-inline"},"Calendar",-1)])]),_:1})]),ae("li",pL,[Ze(Yt(mc),{class:"nav-link d-flex align-items-center gap-2",to:"/itinerary",onClick:i},{default:Yi(()=>[...h[2]||(h[2]=[ae("i",{class:"bi bi-signpost-2 fs-5"},null,-1),ae("span",{class:"d-inline d-lg-none d-xl-inline"},"Itinerary",-1)])]),_:1})]),n.value?(Sn(),pr("li",gL,[ae("a",_L,[h[4]||(h[4]=ae("i",{class:"bi bi-person-circle fs-5"},null,-1)),ae("span",yL,Ca(r.value),1)]),ae("ul",{class:"dropdown-menu dropdown-menu-end"},[ae("li",null,[ae("button",{class:"dropdown-item",onClick:c},"Profile")]),ae("li",null,[ae("button",{class:"dropdown-item",onClick:o},"Sign out")])])])):(Sn(),pr("li",mL,[Ze(Yt(mc),{class:"nav-link d-flex align-items-center gap-2",to:"/login",onClick:i},{default:Yi(()=>[...h[3]||(h[3]=[ae("i",{class:"bi bi-person-circle fs-5"},null,-1),ae("span",{class:"d-inline d-lg-none d-xl-inline"},"Login",-1)])]),_:1})]))])])])]))}},Tm=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},EL={class:"footer-tg border-top pt-5 mt-5"},TL={class:"container"},wL={class:"d-flex flex-column flex-md-row justify-content-between align-items-start gap-2 pb-4 small"},bL={class:"text-secondary"},AL={__name:"Footer",setup(t){const e=new Date().getFullYear();return(n,s)=>(Sn(),pr("footer",EL,[ae("div",TL,[s[0]||(s[0]=ae("div",{class:"row gy-5 align-items-start"},[ae("div",{class:"col-12 col-lg-6"},[ae("div",{class:"d-flex align-items-center gap-2 mb-3"},[ae("svg",{class:"grass-logo",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Touch Grass logo"},[ae("rect",{x:"0",y:"44",width:"64",height:"6",fill:"#2d5016"}),ae("path",{d:"M8 44 q2-10 6-16 q-2 8 2 16 Z",fill:"#2d5016"}),ae("path",{d:"M16 44 q2-12 8-20 q-3 10 1 20 Z",fill:"#2d5016"}),ae("path",{d:"M24 44 q3-14 10-24 q-4 12 0 24 Z",fill:"#2d5016"}),ae("path",{d:"M32 44 q2-12 8-20 q-3 10 0 20 Z",fill:"#2d5016"}),ae("path",{d:"M40 44 q3-14 10-24 q-4 12 0 24 Z",fill:"#2d5016"}),ae("path",{d:"M48 44 q2-10 6-16 q-2 8 2 16 Z",fill:"#2d5016"})]),ae("span",{class:"fw-semibold fs-5"},"Touch Grass")]),ae("p",{class:"text-secondary small mb-3"}," Your Event Finder Website - Discover and Plan for Events across Singapore with your friends! "),ae("div",{class:"d-flex align-items-center gap-3 mt-3"},[ae("a",{class:"btn btn-icon",href:"https://www.instagram.com","aria-label":"Instagram"},[ae("i",{class:"bi bi-instagram","aria-hidden":"true"})]),ae("a",{class:"btn btn-icon",href:"https://www.tiktok.com","aria-label":"TikTok"},[ae("i",{class:"bi bi-tiktok","aria-hidden":"true"})]),ae("a",{class:"btn btn-icon",href:"https://www.youtube.com","aria-label":"YouTube"},[ae("i",{class:"bi bi-youtube","aria-hidden":"true"})])])]),ae("div",{class:"col-12 col-lg-6"},[ae("h6",{class:"fw-semibold mb-3"},"Members"),ae("ul",{class:"list-unstyled small row row-cols-2 row-cols-sm-3 row-cols-md-3 g-2"},[ae("li",null,[ae("a",{class:"link-body-emphasis",href:"https://github.com/ewvnn/"},"Ewen")]),ae("li",null,[ae("a",{class:"link-body-emphasis",href:"#"},"Jia Le")]),ae("li",null,[ae("a",{class:"link-body-emphasis",href:"#"},"Boone")]),ae("li",null,[ae("a",{class:"link-body-emphasis",href:"#"},"Xiao Thong")]),ae("li",null,[ae("a",{class:"link-body-emphasis",href:"#"},"Fazil")]),ae("li",null,[ae("a",{class:"link-body-emphasis",href:"#"},"Wasil")])])])],-1)),s[1]||(s[1]=ae("hr",{class:"my-4 opacity-25"},null,-1)),ae("div",wL,[ae("span",bL," "+Ca(Yt(e))+" Touch Grass. All rights reserved.",1)])])]))}},IL=Tm(AL,[["__scopeId","data-v-7905b058"]]),CL={class:"toast-zone position-fixed start-50 translate-middle-x p-3",style:{"z-index":"1080",top:"1rem","pointer-events":"none"},"aria-live":"polite","aria-atomic":"true"},SL={class:"d-flex align-items-center"},RL={class:"toast-body fw-medium"},PL=["onClick"],kL={__name:"Toaster",setup(t){function e(n){const s={success:"bg-success-subtle text-success-emphasis border border-success-subtle",error:"bg-danger-subtle  text-danger-emphasis  border border-danger-subtle",warning:"bg-warning-subtle text-warning-emphasis border border-warning-subtle",info:"bg-primary-subtle text-primary-emphasis border border-primary-subtle"};return s[n]||s.info}return(n,s)=>(Sn(),pr("div",CL,[(Sn(!0),pr(Ht,null,Kv(Yt(Lc),r=>(Sn(),pr("div",{key:r.id,class:Eo(["toast show shadow-lg rounded-3 mb-2",e(r.type)]),role:"status",style:{"pointer-events":"auto","min-width":"280px","max-width":"min(420px, 92vw)"}},[ae("div",SL,[ae("div",RL,Ca(r.message),1),ae("button",{type:"button",class:"btn-close me-2 m-auto","aria-label":"Close",onClick:i=>Yt(Wb).dismiss(r.id)},null,8,PL)])],2))),128))]))}},NL=Tm(kL,[["__scopeId","data-v-932819f9"]]),OL={id:"app"},DL={__name:"App",setup(t){const e=M0();return(n,s)=>{const r=Wv("router-view");return Sn(),pr("div",OL,[Yt(e).meta?.hideChrome?od("",!0):(Sn(),ca(vL,{key:0})),Ze(r),Yt(e).meta?.hideChrome?od("",!0):(Sn(),ca(IL,{key:1})),Ze(NL)])}}},xL=Tm(DL,[["__scopeId","data-v-be263142"]]);Uu(xL).use(Hb).mount("#app");export{nt as $,Ze as A,ul as B,LE as C,Yi as D,qE as E,Ht as F,gp as G,al as H,ZL as I,Wb as J,L0 as K,M0 as L,YL as M,XL as N,cL as O,JL as P,KL as Q,jn as R,at as S,ct as T,qd as U,is as V,vI as W,Aa as X,Xt as Y,$e as Z,Tm as _,Eh as a,Zo as a0,ye as a1,ba as a2,to as a3,jI as a4,$I as a5,HI as a6,qI as a7,Qy as a8,xn as a9,wp as aA,G0 as aB,ka as aC,_T as aD,yT as aE,z0 as aF,FV as aG,TT as aH,B1 as aI,hN as aJ,OI as aa,LL as ab,VL as ac,Qi as ad,GL as ae,BL as af,jL as ag,qL as ah,HL as ai,WL as aj,CP as ak,$L as al,QL as am,oo as an,CO as ao,Oa as ap,ML as aq,FL as ar,pa as as,fo as at,hi as au,Na as av,ts as aw,Pr as ax,bp as ay,Tt as az,ae as b,pr as c,Kv as d,Sn as e,Un as f,Eo as g,od as h,pp as i,cm as j,YV as k,zL as l,JT as m,Ia as n,Pa as o,Wv as p,ca as q,ro as r,Ub as s,Ca as t,XV as u,eS as v,AP as w,Fu as x,$E as y,wR as z};
