import{_ as P,r as _,o as j,a as te,c as d,b as t,F as b,d as p,e as n,n as z,f as se,t as c,g as L,h as y,w as D,i as k,j as T,k as F,s as H,u as U,l as X,m as W,p as G,q as w,v as M,x as re,y as N,z as oe,A as x,B as le,C as ie}from"./index-XcCJzhyo.js";import{d as R,a as Z}from"./firebase-CvDVnbQh.js";import{b as ne,t as ae,c as Y}from"./tagColors-DlVkJl0c.js";const de={class:"hero-section"},ce={class:"grass-container"},ue=["viewBox"],ve=["width"],he=["d","fill","opacity"],fe={__name:"Hero",setup(s){const e=_([]),i=_(-1e3),g=_(-1e3),o=_(null),l=_(1200);_(200);function u(a,h,f,m){return`
    M ${a} 150
    Q ${a+m} ${150-h*.5}, ${a+m*.5} ${150-h*.8}
    Q ${a+m*.3} ${150-h}, ${a} ${150-h}
    Q ${a-f} ${150-h*.9}, ${a-f*.5} ${150-h*.6}
    Q ${a-f*.3} ${150-h*.3}, ${a} 150
    Z
  `}function r(a){const h=["#4a7c3a","#5a8f4a","#6ba85e","#3d6b2f"],m=Math.ceil(a/10),E=[];for(let C=0;C<m;C++){const S=C*10+Math.random()*8,I=40+Math.random()*60,V=3+Math.random()*3,B=10+Math.random()*15;E.push({x:S,height:I,width:V,curve:B,color:h[Math.floor(Math.random()*h.length)],opacity:.7+Math.random()*.3,baseRotation:(Math.random()-.5)*5,swayOffset:Math.random()*Math.PI*2,path:u(S,I,V,B),transition:"transform 0.3s ease-out"})}return E}function v(){const a=o.value;if(!a)return;const h=Math.max(320,Math.round(a.clientWidth));l.value=h,e.value=r(h)}function $(a){a.currentTarget.setPointerCapture?.(a.pointerId),O(a)}function O(a){const f=a.currentTarget.getBoundingClientRect();i.value=a.clientX-f.left,g.value=a.clientY-f.top}function q(){i.value=-1e3,g.value=-1e3}function ee(a,h){const f=i.value-a.x,m=g.value-150,E=Math.sqrt(f*f+m*m),C=Date.now()*.001,S=Math.sin(C+a.swayOffset)*2;if(E<100){const I=Math.max(0,1-E/100),V=Math.atan2(m,f),B=I*25;return`rotate(${a.baseRotation-Math.cos(V)*B+S}deg)`}return`rotate(${a.baseRotation+S}deg)`}let Q;return j(()=>{v(),window.addEventListener("resize",v);const a=()=>{e.value=[...e.value],Q=requestAnimationFrame(a)};a()}),te(()=>{window.removeEventListener("resize",v),Q&&cancelAnimationFrame(Q)}),(a,h)=>(n(),d("section",de,[h[0]||(h[0]=t("div",{class:"container text-center"},[t("h1",{class:"display-4 fw-bold text-dark mb-3"}," Find Affordable Events in Singapore "),t("p",{class:"lead hero-lead text-secondary mx-auto mb-5"}," Go ahead and touch the grass! "),t("a",{href:"#events",class:"btn btn-lg rounded-pill px-5 py-3 shadow-sm explore-btn text-white bg-success"}," Explore Events ")],-1)),t("div",ce,[(n(),d("svg",{ref_key:"svgRef",ref:o,class:"grass-svg",viewBox:"0 0 "+l.value+" 200",preserveAspectRatio:"xMidYMax slice",xmlns:"http://www.w3.org/2000/svg",onPointerdown:$,onPointermove:O,onPointerup:q,onPointercancel:q,onPointerleave:q,style:{touchAction:"none"}},[t("rect",{x:"0",y:"150",width:l.value,height:"50",fill:"#5a8f4a",opacity:"0.3"},null,8,ve),(n(!0),d(b,null,p(e.value,(f,m)=>(n(),d("g",{key:m},[t("path",{d:f.path,fill:f.color,opacity:f.opacity,style:z({transform:ee(f),transformOrigin:`${f.x}px 150px`,transition:f.transition}),class:"grass-blade"},null,12,he)]))),128))],40,ue))])]))}},ge=P(fe,[["__scopeId","data-v-c41a4c5a"]]);let A;async function J(){if(A)return A;const e=await fetch("/data/events.json",{cache:"no-cache"});if(!e.ok)throw new Error(`Failed to load events: HTTP ${e.status}`);return A=await e.json(),A}const me=["aria-label"],be={__name:"EventChip",props:{label:{type:String,required:!0},kind:{type:String,default:"tag"},dense:Boolean},setup(s){const e=s,i=se(()=>{const{bg:g,fg:o}=e.kind==="badge"?ne(e.label):ae(e.label);return{"--chip-bg":g,"--chip-fg":o}});return(g,o)=>(n(),d("span",{class:L(["event-chip",[{dense:s.dense},s.kind]]),style:z(i.value),"aria-label":`${s.kind==="badge"?"Badge":"Tag"}: ${s.label}`},c(s.label),15,me))}},K=P(be,[["__scopeId","data-v-678ac167"]]),pe={name:"EventCarousel",components:{EventChip:K},data(){return{events:[],currentIndex:0,showModal:!1,selectedEvent:null,favourites:[],itemsPerView:3,autoScrollInterval:null,autoScrollDelay:3e3,currentUser:null,savingFavourite:!1}},async mounted(){try{this.events=await J()}catch(s){console.error("Error loading events:",s)}W(Z,async s=>{this.currentUser=s,s?await this.loadFavourites():this.favourites=[]}),this.updateItemsPerView(),window.addEventListener("resize",this.updateItemsPerView),this.startAutoScroll()},beforeUnmount(){window.removeEventListener("resize",this.updateItemsPerView),this.stopAutoScroll()},computed:{normalised(){const s=e=>{if(e==null)return!1;const i=String(e).toLowerCase();return i.includes("free")||parseFloat(i.replace(/[^0-9.]/g,""))===0};return(this.events||[]).map(e=>{const i=s(e.price);return{...e,isFree:i,displayPriceText:i?"Free":String(e.price||"")}})},displayEvents(){return this.normalised.filter(s=>s.featured===!0)},endIndex(){return Math.max(0,this.displayEvents.length-this.itemsPerView)}},methods:{async loadFavourites(){if(this.currentUser)try{const s=await F(T(R,"users",this.currentUser.uid));if(s.exists()){const e=s.data().favouritesList||[];this.favourites=e.map(i=>i.id)}}catch(s){console.error("Error loading favourites:",s)}},async toggleFavourite(){if(!this.currentUser){alert("Please log in to save favourites"),this.closeModal?.();const i=this.$route?.fullPath||"/";this.$router?await this.$router.push({path:"/login",query:{redirect:i}}):window.location.href=`/login?redirect=${encodeURIComponent(i)}`;return}const s=this.selectedEvent.id,e=T(R,"users",this.currentUser.uid);this.savingFavourite=!0;try{if((await F(e)).exists()||await H(e,{favouritesList:[]},{merge:!0}),this.isFavourite(s)){const l=((await F(e)).data().favouritesList||[]).filter(u=>u.id!==s);await U(e,{favouritesList:l}),this.favourites=this.favourites.filter(u=>u!==s)}else await U(e,{favouritesList:X(this.selectedEvent)}),this.favourites.push(s)}catch(i){console.error("Error toggling favourite:",i),alert("Failed to update favourites. Error: "+i.message)}finally{this.savingFavourite=!1}},isFavourite(s){return this.favourites.includes(s)},startAutoScroll(){this.stopAutoScroll(),this.autoScrollInterval=setInterval(()=>{this.currentIndex>=this.endIndex?this.currentIndex=0:this.currentIndex++},this.autoScrollDelay)},stopAutoScroll(){this.autoScrollInterval&&(clearInterval(this.autoScrollInterval),this.autoScrollInterval=null)},updateItemsPerView(){const s=window.innerWidth;s<768?this.itemsPerView=1:s<992?this.itemsPerView=2:this.itemsPerView=3,this.currentIndex>this.endIndex&&(this.currentIndex=Math.max(0,this.endIndex))},scrollPrev(){this.currentIndex>0&&(this.currentIndex--,this.stopAutoScroll(),this.startAutoScroll())},scrollNext(){this.currentIndex<this.endIndex&&(this.currentIndex++,this.stopAutoScroll(),this.startAutoScroll())},openModal(s){this.selectedEvent=s,this.showModal=!0,document.body.style.overflow="hidden",this.stopAutoScroll()},closeModal(){this.showModal=!1,this.selectedEvent=null,document.body.style.overflow="auto",this.startAutoScroll()},chipsForPrimary(s){if(!s)return[];const e=[];return s.badge&&e.push({label:s.badge,kind:"badge"}),s.category&&e.push({label:s.category,kind:"tag"}),e},chipsForBenefits(s){if(!s)return[];const e=[];return s.cdc&&e.push({label:Y("CDC Vouchers"),kind:"tag"}),s.culturepass&&e.push({label:Y("Culture Pass"),kind:"tag"}),e}},watch:{displayEvents(){this.currentIndex>this.endIndex&&(this.currentIndex=0)}}},ye={class:"container py-5",id:"events"},we=["disabled"],_e={class:"overflow-hidden"},ke=["onClick"],Ee={class:"img-wrap"},xe=["src","alt"],Fe={class:"card-body"},Ce={class:"modal-tags mb-2"},Se={class:"card-title mb-2"},Me={class:"card-text text-muted mb-1"},Pe={class:"card-text text-muted mb-1"},Ie={class:"card-text text-muted mb-1"},Ve={class:"price-row","aria-label":"Price and benefits"},Be={class:"card-text price mb-0"},Ae={class:"benefit-chips"},Le=["disabled"],De={class:"modal-dialog"},Te={key:0,class:"modal-content"},Ue={class:"modal-header justify-content-between align-items-center"},Re={class:"modal-title mb-0"},Ye={class:"d-flex align-items-center gap-2"},qe=["aria-pressed","title","disabled"],Qe={class:"modal-body"},Ne=["src","alt"],ze={class:"mb-2 modal-tags"},Oe={class:"mb-2"},je={class:"mb-2"},He={class:"mb-2"},Xe={class:"price-row mb-2","aria-label":"Price and benefits"},We={class:"mb-0"},Ge={class:"price"},Ze={class:"benefit-chips"},Je={class:"modal-footer"},Ke=["disabled"];function $e(s,e,i,g,o,l){const u=G("EventChip");return n(),d("div",ye,[e[17]||(e[17]=t("h2",{class:"section-title"},"Featured Events",-1)),t("div",{class:"position-relative overflow-hidden",style:{margin:"30px auto"},onMouseenter:e[2]||(e[2]=(...r)=>l.stopAutoScroll&&l.stopAutoScroll(...r)),onMouseleave:e[3]||(e[3]=(...r)=>l.startAutoScroll&&l.startAutoScroll(...r)),onTouchstartPassive:e[4]||(e[4]=(...r)=>l.stopAutoScroll&&l.stopAutoScroll(...r)),onTouchendPassive:e[5]||(e[5]=(...r)=>l.startAutoScroll&&l.startAutoScroll(...r))},[t("button",{class:"btn btn-light nav-btn start",onClick:e[0]||(e[0]=(...r)=>l.scrollPrev&&l.scrollPrev(...r)),disabled:o.currentIndex===0,"aria-label":"Previous"},[...e[11]||(e[11]=[t("span",{"aria-hidden":"true"},"‹",-1)])],8,we),t("div",_e,[t("div",{class:"d-flex transition-transform",style:z([{transform:`translateX(-${o.currentIndex*(100/o.itemsPerView)}%)`},{transition:"transform 0.3s ease"}])},[(n(!0),d(b,null,p(l.displayEvents,r=>(n(),d("div",{key:r.id,class:"flex-shrink-0 px-2 carousel-item-wrapper"},[t("div",{class:"card h-100 shadow-sm cursor-pointer",onClick:v=>l.openModal(r)},[t("div",Ee,[t("img",{src:r.image,class:"card-img-top",alt:r.title},null,8,xe)]),t("div",Fe,[t("div",Ce,[(n(!0),d(b,null,p(l.chipsForPrimary(r),v=>(n(),w(u,{key:v.kind+"-"+v.label,label:v.label,kind:v.kind,dense:""},null,8,["label","kind"]))),128))]),t("h5",Se,c(r.title),1),t("p",Me,[t("small",null,c(r.location),1)]),t("p",Pe,[t("small",null,c(r.date),1)]),t("p",Ie,[t("small",null,c(r.duration),1)]),t("div",Ve,[t("p",Be,c(r.displayPriceText),1),t("div",Ae,[(n(!0),d(b,null,p(l.chipsForBenefits(r),v=>(n(),w(u,{key:v.kind+"-"+v.label,label:v.label,kind:v.kind,dense:""},null,8,["label","kind"]))),128))])])])],8,ke)]))),128))],4),t("button",{class:"btn btn-light nav-btn end",onClick:e[1]||(e[1]=(...r)=>l.scrollNext&&l.scrollNext(...r)),disabled:o.currentIndex>=l.endIndex,"aria-label":"Next"},[...e[12]||(e[12]=[t("span",{"aria-hidden":"true"},"›",-1)])],8,Le)])],32),t("div",{class:L(["modal fade",{show:o.showModal,"d-flex":o.showModal,"align-items-center":o.showModal,"justify-content-center":o.showModal}]),tabindex:"-1",style:{"background-color":"rgba(0,0,0,0.5)"},onClick:e[10]||(e[10]=D((...r)=>l.closeModal&&l.closeModal(...r),["self"]))},[t("div",De,[o.selectedEvent?(n(),d("div",Te,[t("div",Ue,[t("h5",Re,c(o.selectedEvent.title),1),t("div",Ye,[o.selectedEvent?(n(),d("button",{key:0,class:"btn p-0 fav-btn","aria-pressed":l.isFavourite(o.selectedEvent.id),title:l.isFavourite(o.selectedEvent.id)?"Remove from favourites":"Save to favourites",disabled:o.savingFavourite,onClick:e[6]||(e[6]=D((...r)=>l.toggleFavourite&&l.toggleFavourite(...r),["stop"]))},[t("i",{class:L(["bi",l.isFavourite(o.selectedEvent.id)?"bi-heart-fill":"bi-heart"])},null,2)],8,qe)):y("",!0),t("button",{type:"button",class:"btn-close",onClick:e[7]||(e[7]=(...r)=>l.closeModal&&l.closeModal(...r))})])]),t("div",Qe,[t("img",{src:o.selectedEvent.image,class:"img-fluid rounded mb-3",alt:o.selectedEvent.title,style:{width:"100%",height:"300px","object-fit":"cover"}},null,8,Ne),t("div",ze,[(n(!0),d(b,null,p(l.chipsForPrimary(o.selectedEvent),r=>(n(),w(u,{key:r.kind+"-"+r.label,label:r.label,kind:r.kind},null,8,["label","kind"]))),128))]),t("p",Oe,[e[13]||(e[13]=t("strong",null,"Location:",-1)),k(" "+c(o.selectedEvent.location),1)]),t("p",je,[e[14]||(e[14]=t("strong",null,"Date:",-1)),k(" "+c(o.selectedEvent.date),1)]),t("p",He,[e[15]||(e[15]=t("strong",null,"Time:",-1)),k(" "+c(o.selectedEvent.duration),1)]),t("div",Xe,[t("p",We,[e[16]||(e[16]=t("strong",null,"Price: ",-1)),t("span",Ge,c(o.selectedEvent.displayPriceText),1)]),t("div",Ze,[(n(!0),d(b,null,p(l.chipsForBenefits(o.selectedEvent),r=>(n(),w(u,{key:r.kind+"-"+r.label,label:r.label,kind:r.kind},null,8,["label","kind"]))),128))])])]),t("div",Je,[t("button",{type:"button",class:"btn btn-secondary",onClick:e[8]||(e[8]=(...r)=>l.closeModal&&l.closeModal(...r))},"Close"),t("button",{type:"button",class:"btn btn-success",onClick:e[9]||(e[9]=(...r)=>l.toggleFavourite&&l.toggleFavourite(...r)),disabled:o.savingFavourite},c(o.savingFavourite?"Saving...":l.isFavourite(o.selectedEvent.id)?"Remove from Favourites":"Save to Favourites"),9,Ke)])])):y("",!0)])],2)])}const et=P(pe,[["render",$e],["__scopeId","data-v-ca74952a"]]),tt={name:"FilterEvents",components:{EventChip:K},data(){return{events:[],searchQuery:"",selectedCategory:"all",selectedBudget:"all",selectedEvent:null,categories:[],filterCDC:!1,filterCulturePass:!1,selectedVoucher:"all",currentUser:null,favourites:[],savingFavourite:!1}},computed:{normaliseEvents(){return this.events.map(s=>this.normaliseEvent(s))},filteredEvents(){return this.normaliseEvents.filter(s=>{const e=s.title.toLowerCase().includes(this.searchQuery.toLowerCase().trim())||s.location.toLowerCase().includes(this.searchQuery.toLowerCase().trim()),i=this.selectedCategory==="all"||s.category===this.selectedCategory,g=this.selectedBudget==="all"||this.checkBudget(s.price),o=this.selectedVoucher==="all"||this.selectedVoucher==="cdc"&&!!s.cdc||this.selectedVoucher==="culturepass"&&!!s.culturepass||this.selectedVoucher==="both"&&!!s.cdc&&!!s.culturepass;return e&&i&&g&&o})}},async mounted(){try{this.events=await J(),this.categories=[...new Set(this.events.map(s=>s.category))].sort(),this.openFromQuery()}catch(s){console.error("Failed to load events:",s),this.events=[],this.categories=[]}W(Z,async s=>{this.currentUser=s,s?await this.loadFavourites():this.favourites=[]})},methods:{isFree(s){if(s==null)return!1;const e=String(s).toLowerCase();return e.includes("free")||parseFloat(e.replace(/[^0-9.]/g,""))===0},normaliseEvent(s){const e=this.isFree(s.price);return{...s,isFree:e,displayPriceText:e?"Free":String(s.price||"")}},chipsForBenefits(s){const e=[];return s?.cdc&&e.push({label:Y("CDC Vouchers"),kind:"tag"}),s?.culturepass&&e.push({label:Y("Culture Pass"),kind:"tag"}),e},handleVoucherChange(){switch(this.selectedVoucher){case"all":this.filterCDC=!1,this.filterCulturePass=!1;break;case"cdc":this.filterCDC=!0,this.filterCulturePass=!1;break;case"culturepass":this.filterCDC=!1,this.filterCulturePass=!0;break;case"both":this.filterCDC=!0,this.filterCulturePass=!0;break}},async loadFavourites(){if(this.currentUser)try{const s=await F(T(R,"users",this.currentUser.uid));if(s.exists()){const e=s.data().favouritesList||[];this.favourites=e.map(i=>i.id)}}catch(s){console.error("Error loading favourites:",s)}},async toggleFavourite(){if(!this.currentUser){alert("Please log in to save favourites"),this.closeModal();const i=this.$route?.fullPath||"/";this.$router?await this.$router.push({path:"/login",query:{redirect:i}}):window.location.href=`/login?redirect=${encodeURIComponent(i)}`;return}const s=this.selectedEvent.id,e=T(R,"users",this.currentUser.uid);this.savingFavourite=!0;try{if((await F(e)).exists()||await H(e,{favouritesList:[]},{merge:!0}),this.isFavourite(s)){const l=((await F(e)).data().favouritesList||[]).filter(u=>u.id!==s);await U(e,{favouritesList:l}),this.favourites=this.favourites.filter(u=>u!==s)}else await U(e,{favouritesList:X(this.selectedEvent)}),this.favourites.push(s);this.closeModal()}catch(i){console.error("Error toggling favourite:",i),alert("Failed to update favourites. Error: "+i.message)}finally{this.savingFavourite=!1}},isFavourite(s){return this.favourites.includes(s)},checkBudget(s){const e=parseFloat(String(s).replace(/[^0-9.]/g,""))||0;switch(this.selectedBudget){case"free":return e===0;case"low":return e<10;case"medium":return e>=10&&e<=50;case"high":return e>50;default:return!0}},openModal(s){this.selectedEvent=s,document.body.style.overflow="hidden",this.$router&&this.$router.replace({path:this.$route.path,query:{...this.$route.query,modal:"event",eventId:String(s.id)}})},closeModal(){if(this.selectedEvent=null,document.body.style.overflow="auto",this.$router){const s={...this.$route.query};delete s.modal,delete s.eventId,this.$router.replace({path:this.$route.path,query:s})}},openFromQuery(){const s=this.$route?.query?.modal,e=this.$route?.query?.eventId;if(s==="event"&&e&&!this.selectedEvent){const i=this.normaliseEvents.find(g=>String(g.id)===String(e));i&&this.openModal(i)}}},watch:{"$route.query"(){this.openFromQuery()}}},st={class:"filter-events"},rt={class:"search-container"},ot={class:"filters"},lt={class:"filter-group"},it={class:"select-wrapper"},nt=["value"],at={class:"filter-group"},dt={class:"select-wrapper"},ct={class:"filter-group"},ut={class:"select-wrapper"},vt={class:"events-grid"},ht=["onClick"],ft={class:"event-image"},gt=["src","alt"],mt={key:0,class:"chip-overlay"},bt={class:"event-content"},pt={key:0,class:"category-row"},yt={class:"location"},wt={class:"date"},_t={class:"event-footer"},kt={class:"price"},Et={class:"tags"},xt={key:0,class:"empty-state"},Ft=["src","alt"],Ct={class:"modal-details"},St={class:"title-row"},Mt={class:"modal-title"},Pt=["aria-pressed","disabled","title"],It={class:"modal-info"},Vt={class:"price"},Bt={class:"modal-tags"},At=["disabled"];function Lt(s,e,i,g,o,l){const u=G("EventChip");return n(),d("div",st,[e[26]||(e[26]=t("h1",{class:"sr-only"},"Events",-1)),e[27]||(e[27]=t("h2",{class:"section-title"},"All Events",-1)),t("div",rt,[M(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.searchQuery=r),type:"text",placeholder:"Search events...",class:"search-input"},null,512),[[re,o.searchQuery]])]),t("div",ot,[t("div",lt,[e[12]||(e[12]=t("label",null,"Category:",-1)),t("div",it,[M(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.selectedCategory=r),class:"filter-select"},[e[10]||(e[10]=t("option",{value:"all"},"All Categories",-1)),(n(!0),d(b,null,p(o.categories,r=>(n(),d("option",{key:r,value:r},c(r),9,nt))),128))],512),[[N,o.selectedCategory]]),e[11]||(e[11]=t("div",{class:"select-arrow","aria-hidden":"true"},"▼",-1))])]),t("div",at,[e[15]||(e[15]=t("label",null,"Budget:",-1)),t("div",dt,[M(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>o.selectedBudget=r),class:"filter-select"},[...e[13]||(e[13]=[oe('<option value="all" data-v-72545cbd>All Budgets</option><option value="free" data-v-72545cbd>Free</option><option value="low" data-v-72545cbd>Under $10</option><option value="medium" data-v-72545cbd>$10 - $50</option><option value="high" data-v-72545cbd>Over $50</option>',5)])],512),[[N,o.selectedBudget]]),e[14]||(e[14]=t("div",{class:"select-arrow","aria-hidden":"true"},"▼",-1))])]),t("div",ct,[e[18]||(e[18]=t("label",null,"Vouchers:",-1)),t("div",ut,[M(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>o.selectedVoucher=r),class:"filter-select",onChange:e[4]||(e[4]=(...r)=>l.handleVoucherChange&&l.handleVoucherChange(...r))},[...e[16]||(e[16]=[t("option",{value:"all"},"All Vouchers",-1),t("option",{value:"cdc"},"CDC Vouchers Only",-1),t("option",{value:"culturepass"},"Culture Pass Only",-1),t("option",{value:"both"},"Both CDC Vouchers & Culture Pass",-1)])],544),[[N,o.selectedVoucher]]),e[17]||(e[17]=t("div",{class:"select-arrow","aria-hidden":"true"},"▼",-1))])])]),t("div",vt,[(n(!0),d(b,null,p(l.filteredEvents,r=>(n(),d("div",{key:r.id,class:"event-card",onClick:v=>l.openModal(r)},[t("div",ft,[t("img",{src:r.image,alt:r.title},null,8,gt),r.badge?(n(),d("div",mt,[x(u,{label:r.badge,kind:"badge"},null,8,["label"])])):y("",!0)]),t("div",bt,[r.category?(n(),d("div",pt,[x(u,{label:r.category,kind:"tag",dense:""},null,8,["label"])])):y("",!0),t("h3",null,c(r.title),1),t("p",yt,c(r.location),1),t("p",wt,c(r.date),1),t("div",_t,[t("span",kt,c(r.displayPriceText),1),t("div",Et,[(n(!0),d(b,null,p(l.chipsForBenefits(r),v=>(n(),w(u,{key:v.kind+"-"+v.label,label:v.label,kind:v.kind,dense:""},null,8,["label","kind"]))),128))])])])],8,ht))),128))]),l.filteredEvents.length===0?(n(),d("div",xt,[...e[19]||(e[19]=[t("p",null,"No events found matching your criteria.",-1)])])):y("",!0),o.selectedEvent?(n(),d("div",{key:1,class:"modal-overlay",onClick:e[9]||(e[9]=(...r)=>l.closeModal&&l.closeModal(...r))},[t("div",{class:"modal-content",onClick:e[8]||(e[8]=D(()=>{},["stop"]))},[t("button",{class:"close-btn",onClick:e[5]||(e[5]=(...r)=>l.closeModal&&l.closeModal(...r)),"aria-label":"Close"},[...e[20]||(e[20]=[t("span",{class:"close-icon"},"×",-1)])]),t("img",{src:o.selectedEvent.image,alt:o.selectedEvent.title,class:"modal-image"},null,8,Ft),t("div",Ct,[t("div",St,[t("h2",Mt,c(o.selectedEvent.title),1),o.selectedEvent?(n(),d("button",{key:0,class:"fav-btn","aria-pressed":l.isFavourite(o.selectedEvent.id),disabled:o.savingFavourite,onClick:e[6]||(e[6]=D((...r)=>l.toggleFavourite&&l.toggleFavourite(...r),["stop"])),title:l.isFavourite(o.selectedEvent.id)?"Remove from favourites":"Save to favourites"},[t("i",{class:L(["bi",l.isFavourite(o.selectedEvent.id)?"bi-heart-fill":"bi-heart"])},null,2)],8,Pt)):y("",!0)]),t("div",It,[t("p",null,[e[21]||(e[21]=t("strong",null,"Location:",-1)),k(" "+c(o.selectedEvent.location),1)]),t("p",null,[e[22]||(e[22]=t("strong",null,"Date:",-1)),k(" "+c(o.selectedEvent.date),1)]),t("p",null,[e[23]||(e[23]=t("strong",null,"Time:",-1)),k(" "+c(o.selectedEvent.duration),1)]),t("p",null,[e[24]||(e[24]=t("strong",null,"Price:",-1)),e[25]||(e[25]=k()),t("span",Vt,c(o.selectedEvent.displayPriceText),1)])]),t("div",Bt,[o.selectedEvent.badge?(n(),w(u,{key:0,label:o.selectedEvent.badge,kind:"badge"},null,8,["label"])):y("",!0),o.selectedEvent.category?(n(),w(u,{key:1,label:o.selectedEvent.category,kind:"tag"},null,8,["label"])):y("",!0),(n(!0),d(b,null,p(l.chipsForBenefits(o.selectedEvent),r=>(n(),w(u,{key:"benefit-"+r.label,label:r.label,kind:r.kind},null,8,["label","kind"]))),128))]),t("button",{class:"save-btn btn btn-success",onClick:e[7]||(e[7]=(...r)=>l.toggleFavourite&&l.toggleFavourite(...r)),disabled:o.savingFavourite},c(o.savingFavourite?"Saving...":l.isFavourite(o.selectedEvent.id)?"Remove from Favourites":"Save to Favourites"),9,At)])])])):y("",!0)])}const Dt=P(tt,[["render",Lt],["__scopeId","data-v-72545cbd"]]),Tt=160,Ut={__name:"BackToTop",setup(s){const e=_(!1),i=()=>{e.value=window.scrollY>Tt},g=()=>{window.scrollTo({top:0,behavior:"smooth"})};return j(()=>{i(),window.addEventListener("scroll",i,{passive:!0})}),le(()=>{window.removeEventListener("scroll",i)}),(o,l)=>M((n(),d("button",{type:"button",class:"btn btn-top","aria-label":"Back to top",onClick:g},[...l[0]||(l[0]=[t("i",{class:"bi bi-arrow-up"},null,-1)])],512)),[[ie,e.value]])}},Rt=P(Ut,[["__scopeId","data-v-52d2d0cf"]]),zt={__name:"Index",setup(s){return(e,i)=>(n(),d(b,null,[x(ge),x(et),x(Dt),x(Rt)],64))}};export{zt as default};
