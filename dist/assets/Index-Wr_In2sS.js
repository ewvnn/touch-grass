import{_ as I,r as _,o as z,a as re,c as a,b as t,F as m,d as p,e as n,n as Q,f as oe,t as d,g as D,h as y,w as T,i as C,j as U,k as F,s as H,u as R,l as W,m as G,p as X,q as w,v as M,x as le,y as O,z as ie,A as E,B as ne,C as ae}from"./index-CIopMpJl.js";import{d as Y,a as K}from"./firebase-BNgURHt8.js";const ce={class:"hero-section"},de={class:"grass-container"},ue=["viewBox"],fe=["width"],ve=["d","fill","opacity","transform"],he={__name:"Hero",setup(s){const e=_([]),i=_(-1e3),g=_(-1e3),o=_(null),l=_(1200);_(200);function u(c,v,h,b){return`
    M ${c} 150
    Q ${c+b} ${150-v*.5}, ${c+b*.5} ${150-v*.8}
    Q ${c+b*.3} ${150-v}, ${c} ${150-v}
    Q ${c-h} ${150-v*.9}, ${c-h*.5} ${150-v*.6}
    Q ${c-h*.3} ${150-v*.3}, ${c} 150
    Z
  `}function r(c){const v=["#4a7c3a","#5a8f4a","#6ba85e","#3d6b2f"],b=Math.ceil(c/10),k=[];for(let x=0;x<b;x++){const S=x*10+Math.random()*8,V=40+Math.random()*60,L=3+Math.random()*3,B=10+Math.random()*15;k.push({x:S,height:V,width:L,curve:B,color:v[Math.floor(Math.random()*v.length)],opacity:.7+Math.random()*.3,baseRotation:(Math.random()-.5)*5,swayOffset:Math.random()*Math.PI*2,path:u(S,V,L,B),transition:"transform 0.3s ease-out"})}return k}function f(){const c=o.value;if(!c)return;const v=Math.max(320,Math.round(c.clientWidth));l.value=v,e.value=r(v)}function ee(c){const h=c.currentTarget.getBoundingClientRect();i.value=c.clientX-h.left,g.value=c.clientY-h.top}function te(){i.value=-1e3,g.value=-1e3}function se(c,v){const h=i.value-c.x,b=g.value-150,k=Math.sqrt(h*h+b*b),x=Date.now()*.001,S=Math.sin(x+c.swayOffset)*2;if(k<100){const V=Math.max(0,1-k/100),L=Math.atan2(b,h),B=V*25;return`rotate(${c.baseRotation-Math.cos(L)*B+S})`}return`rotate(${c.baseRotation+S})`}let q;return z(()=>{f(),window.addEventListener("resize",f);const c=()=>{e.value=[...e.value],q=requestAnimationFrame(c)};c()}),re(()=>{window.removeEventListener("resize",f),q&&cancelAnimationFrame(q)}),(c,v)=>(n(),a("section",ce,[v[0]||(v[0]=t("div",{class:"container text-center"},[t("h1",{class:"display-4 fw-bold text-dark mb-3"}," Find Affordable Events in Singapore "),t("p",{class:"lead hero-lead text-secondary mx-auto mb-5"}," Go ahead and touch the grass! "),t("a",{href:"#events",class:"btn btn-lg rounded-pill px-5 py-3 shadow-sm explore-btn text-white bg-success"}," Explore Events ")],-1)),t("div",de,[(n(),a("svg",{ref_key:"svgRef",ref:o,class:"grass-svg",viewBox:"0 0 "+l.value+" 200",preserveAspectRatio:"xMidYMax slice",xmlns:"http://www.w3.org/2000/svg",onMousemove:ee,onMouseleave:te},[t("rect",{x:"0",y:"150",width:l.value,height:"50",fill:"#5a8f4a",opacity:"0.3"},null,8,fe),(n(!0),a(m,null,p(e.value,(h,b)=>(n(),a("g",{key:b},[t("path",{d:h.path,fill:h.color,opacity:h.opacity,transform:se(h),style:Q({transformOrigin:`${h.x}px 150px`,transition:h.transition}),class:"grass-blade"},null,12,ve)]))),128))],40,ue))])]))}},ge=I(he,[["__scopeId","data-v-5c636e9d"]]);let A;async function Z(){if(A)return A;const e=await fetch("/data/events.json",{cache:"no-cache"});if(!e.ok)throw new Error(`Failed to load events: HTTP ${e.status}`);return A=await e.json(),A}const N={Wellness:{bg:"#e0f7fa",fg:"#0277bd"},Market:{bg:"#fff7ed",fg:"#c2410c"},Workshop:{bg:"#eef2ff",fg:"#3730a3"},Photography:{bg:"#f5f3ff",fg:"#6d28d9"},Community:{bg:"#fef3c7",fg:"#b45309"},Running:{bg:"#dcfce7",fg:"#15803d"},Games:{bg:"#ecfeff",fg:"#0e7490"},"Guided Walk":{bg:"#e0f2fe",fg:"#0369a1"},Class:{bg:"#fae8ff",fg:"#a21caf"},Music:{bg:"#fde68a",fg:"#92400e"},Social:{bg:"#e6f0ff",fg:"#1d4ed8"},"CDC Vouchers":{bg:"#eef2f7",fg:"#374151"},"Culture Pass":{bg:"#eef2f7",fg:"#374151"}},be={cdc:"CDC Vouchers","cdc vouchers":"CDC Vouchers","cdc-vouchers":"CDC Vouchers",culturepass:"Culture Pass","culture pass":"Culture Pass","culture-pass":"Culture Pass"},J=(s,e="")=>Object.keys(s).find(i=>i.toLowerCase()===String(e).toLowerCase());function P(s=""){const e=String(s).trim();return be[e.toLowerCase()]||e}function me(s){const e=P(s),i=J(N,e);return i?N[i]:{bg:"#f3f4f6",fg:"#374151"}}const j={Outdoor:{bg:"#16a34a",fg:"#ffffff"},"Pop-up":{bg:"#0369a1",fg:"#ffffff"},"Hands-on":{bg:"#065f46",fg:"#ffffff"},Live:{bg:"#dc2626",fg:"#ffffff"},Dance:{bg:"#1d4ed8",fg:"#ffffff"},Indoor:{bg:"#6d28d9",fg:"#ffffff"},Nature:{bg:"#15803d",fg:"#ffffff"},Fitness:{bg:"#0ea5e9",fg:"#ffffff"},Culture:{bg:"#9333ea",fg:"#ffffff"},Art:{bg:"#f59e0b",fg:"#111827"},Tech:{bg:"#0f766e",fg:"#ffffff"},Sustainable:{bg:"#22c55e",fg:"#0b3d19"}};function pe(s){const e=J(j,s);return e?j[e]:{bg:"#085702",fg:"#ffffff"}}const ye=["aria-label"],we={__name:"EventChip",props:{label:{type:String,required:!0},kind:{type:String,default:"tag"},dense:Boolean},setup(s){const e=s,i=oe(()=>{const{bg:g,fg:o}=e.kind==="badge"?pe(e.label):me(e.label);return{"--chip-bg":g,"--chip-fg":o}});return(g,o)=>(n(),a("span",{class:D(["event-chip",[{dense:s.dense},s.kind]]),style:Q(i.value),"aria-label":`${s.kind==="badge"?"Badge":"Tag"}: ${s.label}`},d(s.label),15,ye))}},$=I(we,[["__scopeId","data-v-678ac167"]]),_e={name:"EventCarousel",components:{EventChip:$},data(){return{events:[],currentIndex:0,showModal:!1,selectedEvent:null,favourites:[],itemsPerView:3,autoScrollInterval:null,autoScrollDelay:3e3,currentUser:null,savingFavourite:!1}},async mounted(){try{this.events=await Z()}catch(s){console.error("Error loading events:",s)}G(K,async s=>{this.currentUser=s,s?await this.loadFavourites():this.favourites=[]}),this.updateItemsPerView(),window.addEventListener("resize",this.updateItemsPerView),this.startAutoScroll()},beforeUnmount(){window.removeEventListener("resize",this.updateItemsPerView),this.stopAutoScroll()},computed:{normalised(){const s=e=>{if(e==null)return!1;const i=String(e).toLowerCase();return i.includes("free")||parseFloat(i.replace(/[^0-9.]/g,""))===0};return(this.events||[]).map(e=>{const i=s(e.price);return{...e,isFree:i,displayPriceText:i?"Free":String(e.price||"")}})},displayEvents(){return this.normalised.filter(s=>s.featured===!0)},endIndex(){return Math.max(0,this.displayEvents.length-this.itemsPerView)}},methods:{async loadFavourites(){if(this.currentUser)try{const s=await F(U(Y,"users",this.currentUser.uid));if(s.exists()){const e=s.data().favouritesList||[];this.favourites=e.map(i=>i.id)}}catch(s){console.error("Error loading favourites:",s)}},async toggleFavourite(){if(!this.currentUser){alert("Please log in to save favourites"),this.closeModal?.();const i=this.$route?.fullPath||"/";this.$router?await this.$router.push({path:"/login",query:{redirect:i}}):window.location.href=`/login?redirect=${encodeURIComponent(i)}`;return}const s=this.selectedEvent.id,e=U(Y,"users",this.currentUser.uid);this.savingFavourite=!0;try{if((await F(e)).exists()||await H(e,{favouritesList:[]},{merge:!0}),this.isFavourite(s)){const l=((await F(e)).data().favouritesList||[]).filter(u=>u.id!==s);await R(e,{favouritesList:l}),this.favourites=this.favourites.filter(u=>u!==s)}else await R(e,{favouritesList:W(this.selectedEvent)}),this.favourites.push(s)}catch(i){console.error("Error toggling favourite:",i),alert("Failed to update favourites. Error: "+i.message)}finally{this.savingFavourite=!1}},isFavourite(s){return this.favourites.includes(s)},startAutoScroll(){this.stopAutoScroll(),this.autoScrollInterval=setInterval(()=>{this.currentIndex>=this.endIndex?this.currentIndex=0:this.currentIndex++},this.autoScrollDelay)},stopAutoScroll(){this.autoScrollInterval&&(clearInterval(this.autoScrollInterval),this.autoScrollInterval=null)},updateItemsPerView(){const s=window.innerWidth;s<768?this.itemsPerView=1:s<992?this.itemsPerView=2:this.itemsPerView=3,this.currentIndex>this.endIndex&&(this.currentIndex=Math.max(0,this.endIndex))},scrollPrev(){this.currentIndex>0&&(this.currentIndex--,this.stopAutoScroll(),this.startAutoScroll())},scrollNext(){this.currentIndex<this.endIndex&&(this.currentIndex++,this.stopAutoScroll(),this.startAutoScroll())},openModal(s){this.selectedEvent=s,this.showModal=!0,document.body.style.overflow="hidden",this.stopAutoScroll()},closeModal(){this.showModal=!1,this.selectedEvent=null,document.body.style.overflow="auto",this.startAutoScroll()},chipsForPrimary(s){if(!s)return[];const e=[];return s.badge&&e.push({label:s.badge,kind:"badge"}),s.category&&e.push({label:s.category,kind:"tag"}),e},chipsForBenefits(s){if(!s)return[];const e=[];return s.cdc&&e.push({label:P("CDC Vouchers"),kind:"tag"}),s.culturepass&&e.push({label:P("Culture Pass"),kind:"tag"}),e}},watch:{displayEvents(){this.currentIndex>this.endIndex&&(this.currentIndex=0)}}},Ce={class:"container py-5",id:"events"},ke=["disabled"],Ee={class:"overflow-hidden"},Fe=["onClick"],xe={class:"img-wrap"},Se=["src","alt"],Me={class:"card-body"},Pe={class:"modal-tags mb-2"},Ie={class:"card-title mb-2"},Ve={class:"card-text text-muted mb-1"},Le={class:"card-text text-muted mb-1"},Be={class:"card-text text-muted mb-1"},Ae={class:"price-row","aria-label":"Price and benefits"},De={class:"card-text price mb-0"},Te={class:"benefit-chips"},Ue=["disabled"],Re={class:"modal-dialog"},Ye={key:0,class:"modal-content"},qe={class:"modal-header justify-content-between align-items-center"},Oe={class:"modal-title mb-0"},Qe={class:"d-flex align-items-center gap-2"},Ne=["aria-pressed","title","disabled"],je={class:"modal-body"},ze=["src","alt"],He={class:"mb-2 modal-tags"},We={class:"mb-2"},Ge={class:"mb-2"},Xe={class:"mb-2"},Ke={class:"price-row mb-2","aria-label":"Price and benefits"},Ze={class:"mb-0"},Je={class:"price"},$e={class:"benefit-chips"},et={class:"modal-footer"},tt=["disabled"];function st(s,e,i,g,o,l){const u=X("EventChip");return n(),a("div",Ce,[e[17]||(e[17]=t("h2",{class:"section-title"},"Featured Events",-1)),t("div",{class:"position-relative overflow-hidden",style:{margin:"30px auto"},onMouseenter:e[2]||(e[2]=(...r)=>l.stopAutoScroll&&l.stopAutoScroll(...r)),onMouseleave:e[3]||(e[3]=(...r)=>l.startAutoScroll&&l.startAutoScroll(...r)),onTouchstartPassive:e[4]||(e[4]=(...r)=>l.stopAutoScroll&&l.stopAutoScroll(...r)),onTouchendPassive:e[5]||(e[5]=(...r)=>l.startAutoScroll&&l.startAutoScroll(...r))},[t("button",{class:"btn btn-light nav-btn start",onClick:e[0]||(e[0]=(...r)=>l.scrollPrev&&l.scrollPrev(...r)),disabled:o.currentIndex===0,"aria-label":"Previous"},[...e[11]||(e[11]=[t("span",{"aria-hidden":"true"},"‹",-1)])],8,ke),t("div",Ee,[t("div",{class:"d-flex transition-transform",style:Q([{transform:`translateX(-${o.currentIndex*(100/o.itemsPerView)}%)`},{transition:"transform 0.3s ease"}])},[(n(!0),a(m,null,p(l.displayEvents,r=>(n(),a("div",{key:r.id,class:"flex-shrink-0 px-2 carousel-item-wrapper"},[t("div",{class:"card h-100 shadow-sm cursor-pointer",onClick:f=>l.openModal(r)},[t("div",xe,[t("img",{src:r.image,class:"card-img-top",alt:r.title},null,8,Se)]),t("div",Me,[t("div",Pe,[(n(!0),a(m,null,p(l.chipsForPrimary(r),f=>(n(),w(u,{key:f.kind+"-"+f.label,label:f.label,kind:f.kind,dense:""},null,8,["label","kind"]))),128))]),t("h5",Ie,d(r.title),1),t("p",Ve,[t("small",null,d(r.location),1)]),t("p",Le,[t("small",null,d(r.date),1)]),t("p",Be,[t("small",null,d(r.duration),1)]),t("div",Ae,[t("p",De,d(r.displayPriceText),1),t("div",Te,[(n(!0),a(m,null,p(l.chipsForBenefits(r),f=>(n(),w(u,{key:f.kind+"-"+f.label,label:f.label,kind:f.kind,dense:""},null,8,["label","kind"]))),128))])])])],8,Fe)]))),128))],4),t("button",{class:"btn btn-light nav-btn end",onClick:e[1]||(e[1]=(...r)=>l.scrollNext&&l.scrollNext(...r)),disabled:o.currentIndex>=l.endIndex,"aria-label":"Next"},[...e[12]||(e[12]=[t("span",{"aria-hidden":"true"},"›",-1)])],8,Ue)])],32),t("div",{class:D(["modal fade",{show:o.showModal,"d-flex":o.showModal,"align-items-center":o.showModal,"justify-content-center":o.showModal}]),tabindex:"-1",style:{"background-color":"rgba(0,0,0,0.5)"},onClick:e[10]||(e[10]=T((...r)=>l.closeModal&&l.closeModal(...r),["self"]))},[t("div",Re,[o.selectedEvent?(n(),a("div",Ye,[t("div",qe,[t("h5",Oe,d(o.selectedEvent.title),1),t("div",Qe,[o.selectedEvent?(n(),a("button",{key:0,class:"btn p-0 fav-btn","aria-pressed":l.isFavourite(o.selectedEvent.id),title:l.isFavourite(o.selectedEvent.id)?"Remove from favourites":"Save to favourites",disabled:o.savingFavourite,onClick:e[6]||(e[6]=T((...r)=>l.toggleFavourite&&l.toggleFavourite(...r),["stop"]))},[t("i",{class:D(["bi",l.isFavourite(o.selectedEvent.id)?"bi-heart-fill":"bi-heart"])},null,2)],8,Ne)):y("",!0),t("button",{type:"button",class:"btn-close",onClick:e[7]||(e[7]=(...r)=>l.closeModal&&l.closeModal(...r))})])]),t("div",je,[t("img",{src:o.selectedEvent.image,class:"img-fluid rounded mb-3",alt:o.selectedEvent.title,style:{width:"100%",height:"300px","object-fit":"cover"}},null,8,ze),t("div",He,[(n(!0),a(m,null,p(l.chipsForPrimary(o.selectedEvent),r=>(n(),w(u,{key:r.kind+"-"+r.label,label:r.label,kind:r.kind},null,8,["label","kind"]))),128))]),t("p",We,[e[13]||(e[13]=t("strong",null,"Location:",-1)),C(" "+d(o.selectedEvent.location),1)]),t("p",Ge,[e[14]||(e[14]=t("strong",null,"Date:",-1)),C(" "+d(o.selectedEvent.date),1)]),t("p",Xe,[e[15]||(e[15]=t("strong",null,"Time:",-1)),C(" "+d(o.selectedEvent.duration),1)]),t("div",Ke,[t("p",Ze,[e[16]||(e[16]=t("strong",null,"Price: ",-1)),t("span",Je,d(o.selectedEvent.displayPriceText),1)]),t("div",$e,[(n(!0),a(m,null,p(l.chipsForBenefits(o.selectedEvent),r=>(n(),w(u,{key:r.kind+"-"+r.label,label:r.label,kind:r.kind},null,8,["label","kind"]))),128))])])]),t("div",et,[t("button",{type:"button",class:"btn btn-secondary",onClick:e[8]||(e[8]=(...r)=>l.closeModal&&l.closeModal(...r))},"Close"),t("button",{type:"button",class:"btn btn-success",onClick:e[9]||(e[9]=(...r)=>l.toggleFavourite&&l.toggleFavourite(...r)),disabled:o.savingFavourite},d(o.savingFavourite?"Saving...":l.isFavourite(o.selectedEvent.id)?"Remove from Favourites":"Save to Favourites"),9,tt)])])):y("",!0)])],2)])}const rt=I(_e,[["render",st],["__scopeId","data-v-ca74952a"]]),ot={name:"FilterEvents",components:{EventChip:$},data(){return{events:[],searchQuery:"",selectedCategory:"all",selectedBudget:"all",selectedEvent:null,categories:[],filterCDC:!1,filterCulturePass:!1,selectedVoucher:"all",currentUser:null,favourites:[],savingFavourite:!1}},computed:{normaliseEvents(){return this.events.map(s=>this.normaliseEvent(s))},filteredEvents(){return this.normaliseEvents.filter(s=>{const e=s.title.toLowerCase().includes(this.searchQuery.toLowerCase().trim())||s.location.toLowerCase().includes(this.searchQuery.toLowerCase().trim()),i=this.selectedCategory==="all"||s.category===this.selectedCategory,g=this.selectedBudget==="all"||this.checkBudget(s.price),o=this.selectedVoucher==="all"||this.selectedVoucher==="cdc"&&!!s.cdc||this.selectedVoucher==="culturepass"&&!!s.culturepass||this.selectedVoucher==="both"&&!!s.cdc&&!!s.culturepass;return e&&i&&g&&o})}},async mounted(){try{this.events=await Z(),this.categories=[...new Set(this.events.map(s=>s.category))].sort(),this.openFromQuery()}catch(s){console.error("Failed to load events:",s),this.events=[],this.categories=[]}G(K,async s=>{this.currentUser=s,s?await this.loadFavourites():this.favourites=[]})},methods:{isFree(s){if(s==null)return!1;const e=String(s).toLowerCase();return e.includes("free")||parseFloat(e.replace(/[^0-9.]/g,""))===0},normaliseEvent(s){const e=this.isFree(s.price);return{...s,isFree:e,displayPriceText:e?"Free":String(s.price||"")}},chipsForBenefits(s){const e=[];return s?.cdc&&e.push({label:P("CDC Vouchers"),kind:"tag"}),s?.culturepass&&e.push({label:P("Culture Pass"),kind:"tag"}),e},handleVoucherChange(){switch(this.selectedVoucher){case"all":this.filterCDC=!1,this.filterCulturePass=!1;break;case"cdc":this.filterCDC=!0,this.filterCulturePass=!1;break;case"culturepass":this.filterCDC=!1,this.filterCulturePass=!0;break;case"both":this.filterCDC=!0,this.filterCulturePass=!0;break}},async loadFavourites(){if(this.currentUser)try{const s=await F(U(Y,"users",this.currentUser.uid));if(s.exists()){const e=s.data().favouritesList||[];this.favourites=e.map(i=>i.id)}}catch(s){console.error("Error loading favourites:",s)}},async toggleFavourite(){if(!this.currentUser){alert("Please log in to save favourites"),this.closeModal();const i=this.$route?.fullPath||"/";this.$router?await this.$router.push({path:"/login",query:{redirect:i}}):window.location.href=`/login?redirect=${encodeURIComponent(i)}`;return}const s=this.selectedEvent.id,e=U(Y,"users",this.currentUser.uid);this.savingFavourite=!0;try{if((await F(e)).exists()||await H(e,{favouritesList:[]},{merge:!0}),this.isFavourite(s)){const l=((await F(e)).data().favouritesList||[]).filter(u=>u.id!==s);await R(e,{favouritesList:l}),this.favourites=this.favourites.filter(u=>u!==s)}else await R(e,{favouritesList:W(this.selectedEvent)}),this.favourites.push(s);this.closeModal()}catch(i){console.error("Error toggling favourite:",i),alert("Failed to update favourites. Error: "+i.message)}finally{this.savingFavourite=!1}},isFavourite(s){return this.favourites.includes(s)},checkBudget(s){const e=parseFloat(String(s).replace(/[^0-9.]/g,""))||0;switch(this.selectedBudget){case"free":return e===0;case"low":return e<10;case"medium":return e>=10&&e<=50;case"high":return e>50;default:return!0}},openModal(s){this.selectedEvent=s,document.body.style.overflow="hidden",this.$router&&this.$router.replace({path:this.$route.path,query:{...this.$route.query,modal:"event",eventId:String(s.id)}})},closeModal(){if(this.selectedEvent=null,document.body.style.overflow="auto",this.$router){const s={...this.$route.query};delete s.modal,delete s.eventId,this.$router.replace({path:this.$route.path,query:s})}},openFromQuery(){const s=this.$route?.query?.modal,e=this.$route?.query?.eventId;if(s==="event"&&e&&!this.selectedEvent){const i=this.normaliseEvents.find(g=>String(g.id)===String(e));i&&this.openModal(i)}}},watch:{"$route.query"(){this.openFromQuery()}}},lt={class:"filter-events"},it={class:"search-container"},nt={class:"filters"},at={class:"filter-group"},ct={class:"select-wrapper"},dt=["value"],ut={class:"filter-group"},ft={class:"select-wrapper"},vt={class:"filter-group"},ht={class:"select-wrapper"},gt={class:"events-grid"},bt=["onClick"],mt={class:"event-image"},pt=["src","alt"],yt={key:0,class:"chip-overlay"},wt={class:"event-content"},_t={key:0,class:"category-row"},Ct={class:"location"},kt={class:"date"},Et={class:"event-footer"},Ft={class:"price"},xt={class:"tags"},St={key:0,class:"empty-state"},Mt=["src","alt"],Pt={class:"modal-details"},It={class:"title-row"},Vt={class:"modal-title"},Lt=["aria-pressed","disabled","title"],Bt={class:"modal-info"},At={class:"price"},Dt={class:"modal-tags"},Tt=["disabled"];function Ut(s,e,i,g,o,l){const u=X("EventChip");return n(),a("div",lt,[e[26]||(e[26]=t("h1",{class:"sr-only"},"Events",-1)),e[27]||(e[27]=t("h2",{class:"section-title"},"All Events",-1)),t("div",it,[M(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.searchQuery=r),type:"text",placeholder:"Search events...",class:"search-input"},null,512),[[le,o.searchQuery]])]),t("div",nt,[t("div",at,[e[12]||(e[12]=t("label",null,"Category:",-1)),t("div",ct,[M(t("select",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.selectedCategory=r),class:"filter-select"},[e[10]||(e[10]=t("option",{value:"all"},"All Categories",-1)),(n(!0),a(m,null,p(o.categories,r=>(n(),a("option",{key:r,value:r},d(r),9,dt))),128))],512),[[O,o.selectedCategory]]),e[11]||(e[11]=t("div",{class:"select-arrow","aria-hidden":"true"},"▼",-1))])]),t("div",ut,[e[15]||(e[15]=t("label",null,"Budget:",-1)),t("div",ft,[M(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>o.selectedBudget=r),class:"filter-select"},[...e[13]||(e[13]=[ie('<option value="all" data-v-72545cbd>All Budgets</option><option value="free" data-v-72545cbd>Free</option><option value="low" data-v-72545cbd>Under $10</option><option value="medium" data-v-72545cbd>$10 - $50</option><option value="high" data-v-72545cbd>Over $50</option>',5)])],512),[[O,o.selectedBudget]]),e[14]||(e[14]=t("div",{class:"select-arrow","aria-hidden":"true"},"▼",-1))])]),t("div",vt,[e[18]||(e[18]=t("label",null,"Vouchers:",-1)),t("div",ht,[M(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>o.selectedVoucher=r),class:"filter-select",onChange:e[4]||(e[4]=(...r)=>l.handleVoucherChange&&l.handleVoucherChange(...r))},[...e[16]||(e[16]=[t("option",{value:"all"},"All Vouchers",-1),t("option",{value:"cdc"},"CDC Vouchers Only",-1),t("option",{value:"culturepass"},"Culture Pass Only",-1),t("option",{value:"both"},"Both CDC Vouchers & Culture Pass",-1)])],544),[[O,o.selectedVoucher]]),e[17]||(e[17]=t("div",{class:"select-arrow","aria-hidden":"true"},"▼",-1))])])]),t("div",gt,[(n(!0),a(m,null,p(l.filteredEvents,r=>(n(),a("div",{key:r.id,class:"event-card",onClick:f=>l.openModal(r)},[t("div",mt,[t("img",{src:r.image,alt:r.title},null,8,pt),r.badge?(n(),a("div",yt,[E(u,{label:r.badge,kind:"badge"},null,8,["label"])])):y("",!0)]),t("div",wt,[r.category?(n(),a("div",_t,[E(u,{label:r.category,kind:"tag",dense:""},null,8,["label"])])):y("",!0),t("h3",null,d(r.title),1),t("p",Ct,d(r.location),1),t("p",kt,d(r.date),1),t("div",Et,[t("span",Ft,d(r.displayPriceText),1),t("div",xt,[(n(!0),a(m,null,p(l.chipsForBenefits(r),f=>(n(),w(u,{key:f.kind+"-"+f.label,label:f.label,kind:f.kind,dense:""},null,8,["label","kind"]))),128))])])])],8,bt))),128))]),l.filteredEvents.length===0?(n(),a("div",St,[...e[19]||(e[19]=[t("p",null,"No events found matching your criteria.",-1)])])):y("",!0),o.selectedEvent?(n(),a("div",{key:1,class:"modal-overlay",onClick:e[9]||(e[9]=(...r)=>l.closeModal&&l.closeModal(...r))},[t("div",{class:"modal-content",onClick:e[8]||(e[8]=T(()=>{},["stop"]))},[t("button",{class:"close-btn",onClick:e[5]||(e[5]=(...r)=>l.closeModal&&l.closeModal(...r)),"aria-label":"Close"},[...e[20]||(e[20]=[t("span",{class:"close-icon"},"×",-1)])]),t("img",{src:o.selectedEvent.image,alt:o.selectedEvent.title,class:"modal-image"},null,8,Mt),t("div",Pt,[t("div",It,[t("h2",Vt,d(o.selectedEvent.title),1),o.selectedEvent?(n(),a("button",{key:0,class:"fav-btn","aria-pressed":l.isFavourite(o.selectedEvent.id),disabled:o.savingFavourite,onClick:e[6]||(e[6]=T((...r)=>l.toggleFavourite&&l.toggleFavourite(...r),["stop"])),title:l.isFavourite(o.selectedEvent.id)?"Remove from favourites":"Save to favourites"},[t("i",{class:D(["bi",l.isFavourite(o.selectedEvent.id)?"bi-heart-fill":"bi-heart"])},null,2)],8,Lt)):y("",!0)]),t("div",Bt,[t("p",null,[e[21]||(e[21]=t("strong",null,"Location:",-1)),C(" "+d(o.selectedEvent.location),1)]),t("p",null,[e[22]||(e[22]=t("strong",null,"Date:",-1)),C(" "+d(o.selectedEvent.date),1)]),t("p",null,[e[23]||(e[23]=t("strong",null,"Time:",-1)),C(" "+d(o.selectedEvent.duration),1)]),t("p",null,[e[24]||(e[24]=t("strong",null,"Price:",-1)),e[25]||(e[25]=C()),t("span",At,d(o.selectedEvent.displayPriceText),1)])]),t("div",Dt,[o.selectedEvent.badge?(n(),w(u,{key:0,label:o.selectedEvent.badge,kind:"badge"},null,8,["label"])):y("",!0),o.selectedEvent.category?(n(),w(u,{key:1,label:o.selectedEvent.category,kind:"tag"},null,8,["label"])):y("",!0),(n(!0),a(m,null,p(l.chipsForBenefits(o.selectedEvent),r=>(n(),w(u,{key:"benefit-"+r.label,label:r.label,kind:r.kind},null,8,["label","kind"]))),128))]),t("button",{class:"save-btn btn btn-success",onClick:e[7]||(e[7]=(...r)=>l.toggleFavourite&&l.toggleFavourite(...r)),disabled:o.savingFavourite},d(o.savingFavourite?"Saving...":l.isFavourite(o.selectedEvent.id)?"Remove from Favourites":"Save to Favourites"),9,Tt)])])])):y("",!0)])}const Rt=I(ot,[["render",Ut],["__scopeId","data-v-72545cbd"]]),Yt=160,qt={__name:"BackToTop",setup(s){const e=_(!1),i=()=>{e.value=window.scrollY>Yt},g=()=>{window.scrollTo({top:0,behavior:"smooth"})};return z(()=>{i(),window.addEventListener("scroll",i,{passive:!0})}),ne(()=>{window.removeEventListener("scroll",i)}),(o,l)=>M((n(),a("button",{type:"button",class:"btn btn-top","aria-label":"Back to top",onClick:g},[...l[0]||(l[0]=[t("i",{class:"bi bi-arrow-up"},null,-1)])],512)),[[ae,e.value]])}},Ot=I(qt,[["__scopeId","data-v-52d2d0cf"]]),zt={__name:"Index",setup(s){return(e,i)=>(n(),a(m,null,[E(ge),E(rt),E(Rt),E(Ot)],64))}};export{zt as default};
