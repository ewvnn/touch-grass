import{_ as I,r as _,o as W,a as re,c,b as t,F as m,d as p,e as n,n as N,f as le,t as d,g as D,h as y,w as T,i as C,j as U,k as F,s as G,u as R,l as X,m as K,p as Z,q as w,v as P,x as ie,y as Q,z as ne,A as E,B as ae,C as ce}from"./index-Cfbfs0eM.js";import{d as Y,a as J}from"./firebase-4hlW7Out.js";const de={class:"hero-section"},ue={class:"grass-container"},fe=["viewBox"],ve=["width"],he=["d","fill","opacity"],ge={__name:"Hero",setup(s){const e=_([]),i=_(-1e3),g=_(-1e3),r=_(null),l=_(1200);_(200);function u(a,v,h,b){return`
    M ${a} 150
    Q ${a+b} ${150-v*.5}, ${a+b*.5} ${150-v*.8}
    Q ${a+b*.3} ${150-v}, ${a} ${150-v}
    Q ${a-h} ${150-v*.9}, ${a-h*.5} ${150-v*.6}
    Q ${a-h*.3} ${150-v*.3}, ${a} 150
    Z
  `}function o(a){const v=["#4a7c3a","#5a8f4a","#6ba85e","#3d6b2f"],b=Math.ceil(a/10),k=[];for(let x=0;x<b;x++){const S=x*10+Math.random()*8,V=40+Math.random()*60,L=3+Math.random()*3,A=10+Math.random()*15;k.push({x:S,height:V,width:L,curve:A,color:v[Math.floor(Math.random()*v.length)],opacity:.7+Math.random()*.3,baseRotation:(Math.random()-.5)*5,swayOffset:Math.random()*Math.PI*2,path:u(S,V,L,A),transition:"transform 0.3s ease-out"})}return k}function f(){const a=r.value;if(!a)return;const v=Math.max(320,Math.round(a.clientWidth));l.value=v,e.value=o(v)}function se(a){a.currentTarget.setPointerCapture?.(a.pointerId),j(a)}function j(a){const h=a.currentTarget.getBoundingClientRect();i.value=a.clientX-h.left,g.value=a.clientY-h.top}function q(){i.value=-1e3,g.value=-1e3}function oe(a,v){const h=i.value-a.x,b=g.value-150,k=Math.sqrt(h*h+b*b),x=Date.now()*.001,S=Math.sin(x+a.swayOffset)*2;if(k<100){const V=Math.max(0,1-k/100),L=Math.atan2(b,h),A=V*25;return`rotate(${a.baseRotation-Math.cos(L)*A+S}deg)`}return`rotate(${a.baseRotation+S}deg)`}let O;return W(()=>{f(),window.addEventListener("resize",f);const a=()=>{e.value=[...e.value],O=requestAnimationFrame(a)};a()}),re(()=>{window.removeEventListener("resize",f),O&&cancelAnimationFrame(O)}),(a,v)=>(n(),c("section",de,[v[0]||(v[0]=t("div",{class:"container text-center"},[t("h1",{class:"display-4 fw-bold text-dark mb-3"}," Find Affordable Events in Singapore "),t("p",{class:"lead hero-lead text-secondary mx-auto mb-5"}," Go ahead and touch the grass! "),t("a",{href:"#events",class:"btn btn-lg rounded-pill px-5 py-3 shadow-sm explore-btn text-white bg-success"}," Explore Events ")],-1)),t("div",ue,[(n(),c("svg",{ref_key:"svgRef",ref:r,class:"grass-svg",viewBox:"0 0 "+l.value+" 200",preserveAspectRatio:"xMidYMax slice",xmlns:"http://www.w3.org/2000/svg",onPointerdown:se,onPointermove:j,onPointerup:q,onPointercancel:q,onPointerleave:q,style:{touchAction:"none"}},[t("rect",{x:"0",y:"150",width:l.value,height:"50",fill:"#5a8f4a",opacity:"0.3"},null,8,ve),(n(!0),c(m,null,p(e.value,(h,b)=>(n(),c("g",{key:b},[t("path",{d:h.path,fill:h.color,opacity:h.opacity,style:N({transform:oe(h),transformOrigin:`${h.x}px 150px`,transition:h.transition}),class:"grass-blade"},null,12,he)]))),128))],40,fe))])]))}},be=I(ge,[["__scopeId","data-v-c41a4c5a"]]);let B;async function $(){if(B)return B;const e=await fetch("/data/events.json",{cache:"no-cache"});if(!e.ok)throw new Error(`Failed to load events: HTTP ${e.status}`);return B=await e.json(),B}const z={Wellness:{bg:"#e0f7fa",fg:"#0277bd"},Market:{bg:"#fff7ed",fg:"#c2410c"},Workshop:{bg:"#eef2ff",fg:"#3730a3"},Photography:{bg:"#f5f3ff",fg:"#6d28d9"},Community:{bg:"#fef3c7",fg:"#b45309"},Running:{bg:"#dcfce7",fg:"#15803d"},Games:{bg:"#ecfeff",fg:"#0e7490"},"Guided Walk":{bg:"#e0f2fe",fg:"#0369a1"},Class:{bg:"#fae8ff",fg:"#a21caf"},Music:{bg:"#fde68a",fg:"#92400e"},Social:{bg:"#e6f0ff",fg:"#1d4ed8"},"CDC Vouchers":{bg:"#eef2f7",fg:"#374151"},"Culture Pass":{bg:"#eef2f7",fg:"#374151"}},me={cdc:"CDC Vouchers","cdc vouchers":"CDC Vouchers","cdc-vouchers":"CDC Vouchers",culturepass:"Culture Pass","culture pass":"Culture Pass","culture-pass":"Culture Pass"},ee=(s,e="")=>Object.keys(s).find(i=>i.toLowerCase()===String(e).toLowerCase());function M(s=""){const e=String(s).trim();return me[e.toLowerCase()]||e}function pe(s){const e=M(s),i=ee(z,e);return i?z[i]:{bg:"#f3f4f6",fg:"#374151"}}const H={Outdoor:{bg:"#16a34a",fg:"#ffffff"},"Pop-up":{bg:"#0369a1",fg:"#ffffff"},"Hands-on":{bg:"#065f46",fg:"#ffffff"},Live:{bg:"#dc2626",fg:"#ffffff"},Dance:{bg:"#1d4ed8",fg:"#ffffff"},Indoor:{bg:"#6d28d9",fg:"#ffffff"},Nature:{bg:"#15803d",fg:"#ffffff"},Fitness:{bg:"#0ea5e9",fg:"#ffffff"},Culture:{bg:"#9333ea",fg:"#ffffff"},Art:{bg:"#f59e0b",fg:"#111827"},Tech:{bg:"#0f766e",fg:"#ffffff"},Sustainable:{bg:"#22c55e",fg:"#0b3d19"}};function ye(s){const e=ee(H,s);return e?H[e]:{bg:"#085702",fg:"#ffffff"}}const we=["aria-label"],_e={__name:"EventChip",props:{label:{type:String,required:!0},kind:{type:String,default:"tag"},dense:Boolean},setup(s){const e=s,i=le(()=>{const{bg:g,fg:r}=e.kind==="badge"?ye(e.label):pe(e.label);return{"--chip-bg":g,"--chip-fg":r}});return(g,r)=>(n(),c("span",{class:D(["event-chip",[{dense:s.dense},s.kind]]),style:N(i.value),"aria-label":`${s.kind==="badge"?"Badge":"Tag"}: ${s.label}`},d(s.label),15,we))}},te=I(_e,[["__scopeId","data-v-678ac167"]]),Ce={name:"EventCarousel",components:{EventChip:te},data(){return{events:[],currentIndex:0,showModal:!1,selectedEvent:null,favourites:[],itemsPerView:3,autoScrollInterval:null,autoScrollDelay:3e3,currentUser:null,savingFavourite:!1}},async mounted(){try{this.events=await $()}catch(s){console.error("Error loading events:",s)}K(J,async s=>{this.currentUser=s,s?await this.loadFavourites():this.favourites=[]}),this.updateItemsPerView(),window.addEventListener("resize",this.updateItemsPerView),this.startAutoScroll()},beforeUnmount(){window.removeEventListener("resize",this.updateItemsPerView),this.stopAutoScroll()},computed:{normalised(){const s=e=>{if(e==null)return!1;const i=String(e).toLowerCase();return i.includes("free")||parseFloat(i.replace(/[^0-9.]/g,""))===0};return(this.events||[]).map(e=>{const i=s(e.price);return{...e,isFree:i,displayPriceText:i?"Free":String(e.price||"")}})},displayEvents(){return this.normalised.filter(s=>s.featured===!0)},endIndex(){return Math.max(0,this.displayEvents.length-this.itemsPerView)}},methods:{async loadFavourites(){if(this.currentUser)try{const s=await F(U(Y,"users",this.currentUser.uid));if(s.exists()){const e=s.data().favouritesList||[];this.favourites=e.map(i=>i.id)}}catch(s){console.error("Error loading favourites:",s)}},async toggleFavourite(){if(!this.currentUser){alert("Please log in to save favourites"),this.closeModal?.();const i=this.$route?.fullPath||"/";this.$router?await this.$router.push({path:"/login",query:{redirect:i}}):window.location.href=`/login?redirect=${encodeURIComponent(i)}`;return}const s=this.selectedEvent.id,e=U(Y,"users",this.currentUser.uid);this.savingFavourite=!0;try{if((await F(e)).exists()||await G(e,{favouritesList:[]},{merge:!0}),this.isFavourite(s)){const l=((await F(e)).data().favouritesList||[]).filter(u=>u.id!==s);await R(e,{favouritesList:l}),this.favourites=this.favourites.filter(u=>u!==s)}else await R(e,{favouritesList:X(this.selectedEvent)}),this.favourites.push(s)}catch(i){console.error("Error toggling favourite:",i),alert("Failed to update favourites. Error: "+i.message)}finally{this.savingFavourite=!1}},isFavourite(s){return this.favourites.includes(s)},startAutoScroll(){this.stopAutoScroll(),this.autoScrollInterval=setInterval(()=>{this.currentIndex>=this.endIndex?this.currentIndex=0:this.currentIndex++},this.autoScrollDelay)},stopAutoScroll(){this.autoScrollInterval&&(clearInterval(this.autoScrollInterval),this.autoScrollInterval=null)},updateItemsPerView(){const s=window.innerWidth;s<768?this.itemsPerView=1:s<992?this.itemsPerView=2:this.itemsPerView=3,this.currentIndex>this.endIndex&&(this.currentIndex=Math.max(0,this.endIndex))},scrollPrev(){this.currentIndex>0&&(this.currentIndex--,this.stopAutoScroll(),this.startAutoScroll())},scrollNext(){this.currentIndex<this.endIndex&&(this.currentIndex++,this.stopAutoScroll(),this.startAutoScroll())},openModal(s){this.selectedEvent=s,this.showModal=!0,document.body.style.overflow="hidden",this.stopAutoScroll()},closeModal(){this.showModal=!1,this.selectedEvent=null,document.body.style.overflow="auto",this.startAutoScroll()},chipsForPrimary(s){if(!s)return[];const e=[];return s.badge&&e.push({label:s.badge,kind:"badge"}),s.category&&e.push({label:s.category,kind:"tag"}),e},chipsForBenefits(s){if(!s)return[];const e=[];return s.cdc&&e.push({label:M("CDC Vouchers"),kind:"tag"}),s.culturepass&&e.push({label:M("Culture Pass"),kind:"tag"}),e}},watch:{displayEvents(){this.currentIndex>this.endIndex&&(this.currentIndex=0)}}},ke={class:"container py-5",id:"events"},Ee=["disabled"],Fe={class:"overflow-hidden"},xe=["onClick"],Se={class:"img-wrap"},Pe=["src","alt"],Me={class:"card-body"},Ie={class:"modal-tags mb-2"},Ve={class:"card-title mb-2"},Le={class:"card-text text-muted mb-1"},Ae={class:"card-text text-muted mb-1"},Be={class:"card-text text-muted mb-1"},De={class:"price-row","aria-label":"Price and benefits"},Te={class:"card-text price mb-0"},Ue={class:"benefit-chips"},Re=["disabled"],Ye={class:"modal-dialog"},qe={key:0,class:"modal-content"},Oe={class:"modal-header justify-content-between align-items-center"},Qe={class:"modal-title mb-0"},Ne={class:"d-flex align-items-center gap-2"},je=["aria-pressed","title","disabled"],ze={class:"modal-body"},He=["src","alt"],We={class:"mb-2 modal-tags"},Ge={class:"mb-2"},Xe={class:"mb-2"},Ke={class:"mb-2"},Ze={class:"price-row mb-2","aria-label":"Price and benefits"},Je={class:"mb-0"},$e={class:"price"},et={class:"benefit-chips"},tt={class:"modal-footer"},st=["disabled"];function ot(s,e,i,g,r,l){const u=Z("EventChip");return n(),c("div",ke,[e[17]||(e[17]=t("h2",{class:"section-title"},"Featured Events",-1)),t("div",{class:"position-relative overflow-hidden",style:{margin:"30px auto"},onMouseenter:e[2]||(e[2]=(...o)=>l.stopAutoScroll&&l.stopAutoScroll(...o)),onMouseleave:e[3]||(e[3]=(...o)=>l.startAutoScroll&&l.startAutoScroll(...o)),onTouchstartPassive:e[4]||(e[4]=(...o)=>l.stopAutoScroll&&l.stopAutoScroll(...o)),onTouchendPassive:e[5]||(e[5]=(...o)=>l.startAutoScroll&&l.startAutoScroll(...o))},[t("button",{class:"btn btn-light nav-btn start",onClick:e[0]||(e[0]=(...o)=>l.scrollPrev&&l.scrollPrev(...o)),disabled:r.currentIndex===0,"aria-label":"Previous"},[...e[11]||(e[11]=[t("span",{"aria-hidden":"true"},"‹",-1)])],8,Ee),t("div",Fe,[t("div",{class:"d-flex transition-transform",style:N([{transform:`translateX(-${r.currentIndex*(100/r.itemsPerView)}%)`},{transition:"transform 0.3s ease"}])},[(n(!0),c(m,null,p(l.displayEvents,o=>(n(),c("div",{key:o.id,class:"flex-shrink-0 px-2 carousel-item-wrapper"},[t("div",{class:"card h-100 shadow-sm cursor-pointer",onClick:f=>l.openModal(o)},[t("div",Se,[t("img",{src:o.image,class:"card-img-top",alt:o.title},null,8,Pe)]),t("div",Me,[t("div",Ie,[(n(!0),c(m,null,p(l.chipsForPrimary(o),f=>(n(),w(u,{key:f.kind+"-"+f.label,label:f.label,kind:f.kind,dense:""},null,8,["label","kind"]))),128))]),t("h5",Ve,d(o.title),1),t("p",Le,[t("small",null,d(o.location),1)]),t("p",Ae,[t("small",null,d(o.date),1)]),t("p",Be,[t("small",null,d(o.duration),1)]),t("div",De,[t("p",Te,d(o.displayPriceText),1),t("div",Ue,[(n(!0),c(m,null,p(l.chipsForBenefits(o),f=>(n(),w(u,{key:f.kind+"-"+f.label,label:f.label,kind:f.kind,dense:""},null,8,["label","kind"]))),128))])])])],8,xe)]))),128))],4),t("button",{class:"btn btn-light nav-btn end",onClick:e[1]||(e[1]=(...o)=>l.scrollNext&&l.scrollNext(...o)),disabled:r.currentIndex>=l.endIndex,"aria-label":"Next"},[...e[12]||(e[12]=[t("span",{"aria-hidden":"true"},"›",-1)])],8,Re)])],32),t("div",{class:D(["modal fade",{show:r.showModal,"d-flex":r.showModal,"align-items-center":r.showModal,"justify-content-center":r.showModal}]),tabindex:"-1",style:{"background-color":"rgba(0,0,0,0.5)"},onClick:e[10]||(e[10]=T((...o)=>l.closeModal&&l.closeModal(...o),["self"]))},[t("div",Ye,[r.selectedEvent?(n(),c("div",qe,[t("div",Oe,[t("h5",Qe,d(r.selectedEvent.title),1),t("div",Ne,[r.selectedEvent?(n(),c("button",{key:0,class:"btn p-0 fav-btn","aria-pressed":l.isFavourite(r.selectedEvent.id),title:l.isFavourite(r.selectedEvent.id)?"Remove from favourites":"Save to favourites",disabled:r.savingFavourite,onClick:e[6]||(e[6]=T((...o)=>l.toggleFavourite&&l.toggleFavourite(...o),["stop"]))},[t("i",{class:D(["bi",l.isFavourite(r.selectedEvent.id)?"bi-heart-fill":"bi-heart"])},null,2)],8,je)):y("",!0),t("button",{type:"button",class:"btn-close",onClick:e[7]||(e[7]=(...o)=>l.closeModal&&l.closeModal(...o))})])]),t("div",ze,[t("img",{src:r.selectedEvent.image,class:"img-fluid rounded mb-3",alt:r.selectedEvent.title,style:{width:"100%",height:"300px","object-fit":"cover"}},null,8,He),t("div",We,[(n(!0),c(m,null,p(l.chipsForPrimary(r.selectedEvent),o=>(n(),w(u,{key:o.kind+"-"+o.label,label:o.label,kind:o.kind},null,8,["label","kind"]))),128))]),t("p",Ge,[e[13]||(e[13]=t("strong",null,"Location:",-1)),C(" "+d(r.selectedEvent.location),1)]),t("p",Xe,[e[14]||(e[14]=t("strong",null,"Date:",-1)),C(" "+d(r.selectedEvent.date),1)]),t("p",Ke,[e[15]||(e[15]=t("strong",null,"Time:",-1)),C(" "+d(r.selectedEvent.duration),1)]),t("div",Ze,[t("p",Je,[e[16]||(e[16]=t("strong",null,"Price: ",-1)),t("span",$e,d(r.selectedEvent.displayPriceText),1)]),t("div",et,[(n(!0),c(m,null,p(l.chipsForBenefits(r.selectedEvent),o=>(n(),w(u,{key:o.kind+"-"+o.label,label:o.label,kind:o.kind},null,8,["label","kind"]))),128))])])]),t("div",tt,[t("button",{type:"button",class:"btn btn-secondary",onClick:e[8]||(e[8]=(...o)=>l.closeModal&&l.closeModal(...o))},"Close"),t("button",{type:"button",class:"btn btn-success",onClick:e[9]||(e[9]=(...o)=>l.toggleFavourite&&l.toggleFavourite(...o)),disabled:r.savingFavourite},d(r.savingFavourite?"Saving...":l.isFavourite(r.selectedEvent.id)?"Remove from Favourites":"Save to Favourites"),9,st)])])):y("",!0)])],2)])}const rt=I(Ce,[["render",ot],["__scopeId","data-v-ca74952a"]]),lt={name:"FilterEvents",components:{EventChip:te},data(){return{events:[],searchQuery:"",selectedCategory:"all",selectedBudget:"all",selectedEvent:null,categories:[],filterCDC:!1,filterCulturePass:!1,selectedVoucher:"all",currentUser:null,favourites:[],savingFavourite:!1}},computed:{normaliseEvents(){return this.events.map(s=>this.normaliseEvent(s))},filteredEvents(){return this.normaliseEvents.filter(s=>{const e=s.title.toLowerCase().includes(this.searchQuery.toLowerCase().trim())||s.location.toLowerCase().includes(this.searchQuery.toLowerCase().trim()),i=this.selectedCategory==="all"||s.category===this.selectedCategory,g=this.selectedBudget==="all"||this.checkBudget(s.price),r=this.selectedVoucher==="all"||this.selectedVoucher==="cdc"&&!!s.cdc||this.selectedVoucher==="culturepass"&&!!s.culturepass||this.selectedVoucher==="both"&&!!s.cdc&&!!s.culturepass;return e&&i&&g&&r})}},async mounted(){try{this.events=await $(),this.categories=[...new Set(this.events.map(s=>s.category))].sort(),this.openFromQuery()}catch(s){console.error("Failed to load events:",s),this.events=[],this.categories=[]}K(J,async s=>{this.currentUser=s,s?await this.loadFavourites():this.favourites=[]})},methods:{isFree(s){if(s==null)return!1;const e=String(s).toLowerCase();return e.includes("free")||parseFloat(e.replace(/[^0-9.]/g,""))===0},normaliseEvent(s){const e=this.isFree(s.price);return{...s,isFree:e,displayPriceText:e?"Free":String(s.price||"")}},chipsForBenefits(s){const e=[];return s?.cdc&&e.push({label:M("CDC Vouchers"),kind:"tag"}),s?.culturepass&&e.push({label:M("Culture Pass"),kind:"tag"}),e},handleVoucherChange(){switch(this.selectedVoucher){case"all":this.filterCDC=!1,this.filterCulturePass=!1;break;case"cdc":this.filterCDC=!0,this.filterCulturePass=!1;break;case"culturepass":this.filterCDC=!1,this.filterCulturePass=!0;break;case"both":this.filterCDC=!0,this.filterCulturePass=!0;break}},async loadFavourites(){if(this.currentUser)try{const s=await F(U(Y,"users",this.currentUser.uid));if(s.exists()){const e=s.data().favouritesList||[];this.favourites=e.map(i=>i.id)}}catch(s){console.error("Error loading favourites:",s)}},async toggleFavourite(){if(!this.currentUser){alert("Please log in to save favourites"),this.closeModal();const i=this.$route?.fullPath||"/";this.$router?await this.$router.push({path:"/login",query:{redirect:i}}):window.location.href=`/login?redirect=${encodeURIComponent(i)}`;return}const s=this.selectedEvent.id,e=U(Y,"users",this.currentUser.uid);this.savingFavourite=!0;try{if((await F(e)).exists()||await G(e,{favouritesList:[]},{merge:!0}),this.isFavourite(s)){const l=((await F(e)).data().favouritesList||[]).filter(u=>u.id!==s);await R(e,{favouritesList:l}),this.favourites=this.favourites.filter(u=>u!==s)}else await R(e,{favouritesList:X(this.selectedEvent)}),this.favourites.push(s);this.closeModal()}catch(i){console.error("Error toggling favourite:",i),alert("Failed to update favourites. Error: "+i.message)}finally{this.savingFavourite=!1}},isFavourite(s){return this.favourites.includes(s)},checkBudget(s){const e=parseFloat(String(s).replace(/[^0-9.]/g,""))||0;switch(this.selectedBudget){case"free":return e===0;case"low":return e<10;case"medium":return e>=10&&e<=50;case"high":return e>50;default:return!0}},openModal(s){this.selectedEvent=s,document.body.style.overflow="hidden",this.$router&&this.$router.replace({path:this.$route.path,query:{...this.$route.query,modal:"event",eventId:String(s.id)}})},closeModal(){if(this.selectedEvent=null,document.body.style.overflow="auto",this.$router){const s={...this.$route.query};delete s.modal,delete s.eventId,this.$router.replace({path:this.$route.path,query:s})}},openFromQuery(){const s=this.$route?.query?.modal,e=this.$route?.query?.eventId;if(s==="event"&&e&&!this.selectedEvent){const i=this.normaliseEvents.find(g=>String(g.id)===String(e));i&&this.openModal(i)}}},watch:{"$route.query"(){this.openFromQuery()}}},it={class:"filter-events"},nt={class:"search-container"},at={class:"filters"},ct={class:"filter-group"},dt={class:"select-wrapper"},ut=["value"],ft={class:"filter-group"},vt={class:"select-wrapper"},ht={class:"filter-group"},gt={class:"select-wrapper"},bt={class:"events-grid"},mt=["onClick"],pt={class:"event-image"},yt=["src","alt"],wt={key:0,class:"chip-overlay"},_t={class:"event-content"},Ct={key:0,class:"category-row"},kt={class:"location"},Et={class:"date"},Ft={class:"event-footer"},xt={class:"price"},St={class:"tags"},Pt={key:0,class:"empty-state"},Mt=["src","alt"],It={class:"modal-details"},Vt={class:"title-row"},Lt={class:"modal-title"},At=["aria-pressed","disabled","title"],Bt={class:"modal-info"},Dt={class:"price"},Tt={class:"modal-tags"},Ut=["disabled"];function Rt(s,e,i,g,r,l){const u=Z("EventChip");return n(),c("div",it,[e[26]||(e[26]=t("h1",{class:"sr-only"},"Events",-1)),e[27]||(e[27]=t("h2",{class:"section-title"},"All Events",-1)),t("div",nt,[P(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.searchQuery=o),type:"text",placeholder:"Search events...",class:"search-input"},null,512),[[ie,r.searchQuery]])]),t("div",at,[t("div",ct,[e[12]||(e[12]=t("label",null,"Category:",-1)),t("div",dt,[P(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.selectedCategory=o),class:"filter-select"},[e[10]||(e[10]=t("option",{value:"all"},"All Categories",-1)),(n(!0),c(m,null,p(r.categories,o=>(n(),c("option",{key:o,value:o},d(o),9,ut))),128))],512),[[Q,r.selectedCategory]]),e[11]||(e[11]=t("div",{class:"select-arrow","aria-hidden":"true"},"▼",-1))])]),t("div",ft,[e[15]||(e[15]=t("label",null,"Budget:",-1)),t("div",vt,[P(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.selectedBudget=o),class:"filter-select"},[...e[13]||(e[13]=[ne('<option value="all" data-v-72545cbd>All Budgets</option><option value="free" data-v-72545cbd>Free</option><option value="low" data-v-72545cbd>Under $10</option><option value="medium" data-v-72545cbd>$10 - $50</option><option value="high" data-v-72545cbd>Over $50</option>',5)])],512),[[Q,r.selectedBudget]]),e[14]||(e[14]=t("div",{class:"select-arrow","aria-hidden":"true"},"▼",-1))])]),t("div",ht,[e[18]||(e[18]=t("label",null,"Vouchers:",-1)),t("div",gt,[P(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>r.selectedVoucher=o),class:"filter-select",onChange:e[4]||(e[4]=(...o)=>l.handleVoucherChange&&l.handleVoucherChange(...o))},[...e[16]||(e[16]=[t("option",{value:"all"},"All Vouchers",-1),t("option",{value:"cdc"},"CDC Vouchers Only",-1),t("option",{value:"culturepass"},"Culture Pass Only",-1),t("option",{value:"both"},"Both CDC Vouchers & Culture Pass",-1)])],544),[[Q,r.selectedVoucher]]),e[17]||(e[17]=t("div",{class:"select-arrow","aria-hidden":"true"},"▼",-1))])])]),t("div",bt,[(n(!0),c(m,null,p(l.filteredEvents,o=>(n(),c("div",{key:o.id,class:"event-card",onClick:f=>l.openModal(o)},[t("div",pt,[t("img",{src:o.image,alt:o.title},null,8,yt),o.badge?(n(),c("div",wt,[E(u,{label:o.badge,kind:"badge"},null,8,["label"])])):y("",!0)]),t("div",_t,[o.category?(n(),c("div",Ct,[E(u,{label:o.category,kind:"tag",dense:""},null,8,["label"])])):y("",!0),t("h3",null,d(o.title),1),t("p",kt,d(o.location),1),t("p",Et,d(o.date),1),t("div",Ft,[t("span",xt,d(o.displayPriceText),1),t("div",St,[(n(!0),c(m,null,p(l.chipsForBenefits(o),f=>(n(),w(u,{key:f.kind+"-"+f.label,label:f.label,kind:f.kind,dense:""},null,8,["label","kind"]))),128))])])])],8,mt))),128))]),l.filteredEvents.length===0?(n(),c("div",Pt,[...e[19]||(e[19]=[t("p",null,"No events found matching your criteria.",-1)])])):y("",!0),r.selectedEvent?(n(),c("div",{key:1,class:"modal-overlay",onClick:e[9]||(e[9]=(...o)=>l.closeModal&&l.closeModal(...o))},[t("div",{class:"modal-content",onClick:e[8]||(e[8]=T(()=>{},["stop"]))},[t("button",{class:"close-btn",onClick:e[5]||(e[5]=(...o)=>l.closeModal&&l.closeModal(...o)),"aria-label":"Close"},[...e[20]||(e[20]=[t("span",{class:"close-icon"},"×",-1)])]),t("img",{src:r.selectedEvent.image,alt:r.selectedEvent.title,class:"modal-image"},null,8,Mt),t("div",It,[t("div",Vt,[t("h2",Lt,d(r.selectedEvent.title),1),r.selectedEvent?(n(),c("button",{key:0,class:"fav-btn","aria-pressed":l.isFavourite(r.selectedEvent.id),disabled:r.savingFavourite,onClick:e[6]||(e[6]=T((...o)=>l.toggleFavourite&&l.toggleFavourite(...o),["stop"])),title:l.isFavourite(r.selectedEvent.id)?"Remove from favourites":"Save to favourites"},[t("i",{class:D(["bi",l.isFavourite(r.selectedEvent.id)?"bi-heart-fill":"bi-heart"])},null,2)],8,At)):y("",!0)]),t("div",Bt,[t("p",null,[e[21]||(e[21]=t("strong",null,"Location:",-1)),C(" "+d(r.selectedEvent.location),1)]),t("p",null,[e[22]||(e[22]=t("strong",null,"Date:",-1)),C(" "+d(r.selectedEvent.date),1)]),t("p",null,[e[23]||(e[23]=t("strong",null,"Time:",-1)),C(" "+d(r.selectedEvent.duration),1)]),t("p",null,[e[24]||(e[24]=t("strong",null,"Price:",-1)),e[25]||(e[25]=C()),t("span",Dt,d(r.selectedEvent.displayPriceText),1)])]),t("div",Tt,[r.selectedEvent.badge?(n(),w(u,{key:0,label:r.selectedEvent.badge,kind:"badge"},null,8,["label"])):y("",!0),r.selectedEvent.category?(n(),w(u,{key:1,label:r.selectedEvent.category,kind:"tag"},null,8,["label"])):y("",!0),(n(!0),c(m,null,p(l.chipsForBenefits(r.selectedEvent),o=>(n(),w(u,{key:"benefit-"+o.label,label:o.label,kind:o.kind},null,8,["label","kind"]))),128))]),t("button",{class:"save-btn btn btn-success",onClick:e[7]||(e[7]=(...o)=>l.toggleFavourite&&l.toggleFavourite(...o)),disabled:r.savingFavourite},d(r.savingFavourite?"Saving...":l.isFavourite(r.selectedEvent.id)?"Remove from Favourites":"Save to Favourites"),9,Ut)])])])):y("",!0)])}const Yt=I(lt,[["render",Rt],["__scopeId","data-v-72545cbd"]]),qt=160,Ot={__name:"BackToTop",setup(s){const e=_(!1),i=()=>{e.value=window.scrollY>qt},g=()=>{window.scrollTo({top:0,behavior:"smooth"})};return W(()=>{i(),window.addEventListener("scroll",i,{passive:!0})}),ae(()=>{window.removeEventListener("scroll",i)}),(r,l)=>P((n(),c("button",{type:"button",class:"btn btn-top","aria-label":"Back to top",onClick:g},[...l[0]||(l[0]=[t("i",{class:"bi bi-arrow-up"},null,-1)])],512)),[[ce,e.value]])}},Qt=I(Ot,[["__scopeId","data-v-52d2d0cf"]]),Ht={__name:"Index",setup(s){return(e,i)=>(n(),c(m,null,[E(be),E(rt),E(Yt),E(Qt)],64))}};export{Ht as default};
