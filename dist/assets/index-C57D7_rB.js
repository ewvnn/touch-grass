const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Index-CbwXQQv7.js","assets/events-BTU03aD-.js","assets/Index-WCAEtXEY.css","assets/Auth-Bo18gY9z.js","assets/Auth-BRoFHE1O.css","assets/Calendar-BKqoVey1.js","assets/Calendar-K09UzEPV.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var Yc={exports:{}};/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Jw=Yc.exports,ap;function Zw(){return ap||(ap=1,(function(t,e){(function(n,s){t.exports=s()})(Jw,function(){const n=new Map,s={set(g,c,d){n.has(g)||n.set(g,new Map);const y=n.get(g);y.has(c)||y.size===0?y.set(c,d):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(g,c)=>n.has(g)&&n.get(g).get(c)||null,remove(g,c){if(!n.has(g))return;const d=n.get(g);d.delete(c),d.size===0&&n.delete(g)}},r="transitionend",i=g=>(g&&window.CSS&&window.CSS.escape&&(g=g.replace(/#([^\s"#']+)/g,(c,d)=>`#${CSS.escape(d)}`)),g),o=g=>g==null?`${g}`:Object.prototype.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase(),l=g=>{g.dispatchEvent(new Event(r))},u=g=>!(!g||typeof g!="object")&&(g.jquery!==void 0&&(g=g[0]),g.nodeType!==void 0),h=g=>u(g)?g.jquery?g[0]:g:typeof g=="string"&&g.length>0?document.querySelector(i(g)):null,p=g=>{if(!u(g)||g.getClientRects().length===0)return!1;const c=getComputedStyle(g).getPropertyValue("visibility")==="visible",d=g.closest("details:not([open])");if(!d)return c;if(d!==g){const y=g.closest("summary");if(y&&y.parentNode!==d||y===null)return!1}return c},_=g=>!g||g.nodeType!==Node.ELEMENT_NODE||!!g.classList.contains("disabled")||(g.disabled!==void 0?g.disabled:g.hasAttribute("disabled")&&g.getAttribute("disabled")!=="false"),v=g=>{if(!document.documentElement.attachShadow)return null;if(typeof g.getRootNode=="function"){const c=g.getRootNode();return c instanceof ShadowRoot?c:null}return g instanceof ShadowRoot?g:g.parentNode?v(g.parentNode):null},w=()=>{},M=g=>{g.offsetHeight},B=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,$=[],Q=()=>document.documentElement.dir==="rtl",K=g=>{var c;c=()=>{const d=B();if(d){const y=g.NAME,k=d.fn[y];d.fn[y]=g.jQueryInterface,d.fn[y].Constructor=g,d.fn[y].noConflict=()=>(d.fn[y]=k,g.jQueryInterface)}},document.readyState==="loading"?($.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of $)d()}),$.push(c)):c()},ee=(g,c=[],d=g)=>typeof g=="function"?g.call(...c):d,re=(g,c,d=!0)=>{if(!d)return void ee(g);const y=(L=>{if(!L)return 0;let{transitionDuration:G,transitionDelay:ne}=window.getComputedStyle(L);const ue=Number.parseFloat(G),he=Number.parseFloat(ne);return ue||he?(G=G.split(",")[0],ne=ne.split(",")[0],1e3*(Number.parseFloat(G)+Number.parseFloat(ne))):0})(c)+5;let k=!1;const O=({target:L})=>{L===c&&(k=!0,c.removeEventListener(r,O),ee(g))};c.addEventListener(r,O),setTimeout(()=>{k||l(c)},y)},Te=(g,c,d,y)=>{const k=g.length;let O=g.indexOf(c);return O===-1?!d&&y?g[k-1]:g[0]:(O+=d?1:-1,y&&(O=(O+k)%k),g[Math.max(0,Math.min(O,k-1))])},Ve=/[^.]*(?=\..*)\.|.*/,C=/\..*/,b=/::\d+$/,A={};let P=1;const R={mouseenter:"mouseover",mouseleave:"mouseout"},D=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function I(g,c){return c&&`${c}::${P++}`||g.uidEvent||P++}function ut(g){const c=I(g);return g.uidEvent=c,A[c]=A[c]||{},A[c]}function qt(g,c,d=null){return Object.values(g).find(y=>y.callable===c&&y.delegationSelector===d)}function ht(g,c,d){const y=typeof c=="string",k=y?d:c||d;let O=bn(g);return D.has(O)||(O=g),[y,k,O]}function He(g,c,d,y,k){if(typeof c!="string"||!g)return;let[O,L,G]=ht(c,d,y);c in R&&(L=(Se=>function(Ie){if(!Ie.relatedTarget||Ie.relatedTarget!==Ie.delegateTarget&&!Ie.delegateTarget.contains(Ie.relatedTarget))return Se.call(this,Ie)})(L));const ne=ut(g),ue=ne[G]||(ne[G]={}),he=qt(ue,L,O?d:null);if(he)return void(he.oneOff=he.oneOff&&k);const ce=I(L,c.replace(Ve,"")),Oe=O?(function(ve,Se,Ie){return function Ce(et){const ot=ve.querySelectorAll(Se);for(let{target:Me}=et;Me&&Me!==this;Me=Me.parentNode)for(const ze of ot)if(ze===Me)return yt(et,{delegateTarget:Me}),Ce.oneOff&&W.off(ve,et.type,Se,Ie),Ie.apply(Me,[et])}})(g,d,L):(function(ve,Se){return function Ie(Ce){return yt(Ce,{delegateTarget:ve}),Ie.oneOff&&W.off(ve,Ce.type,Se),Se.apply(ve,[Ce])}})(g,L);Oe.delegationSelector=O?d:null,Oe.callable=L,Oe.oneOff=k,Oe.uidEvent=ce,ue[ce]=Oe,g.addEventListener(G,Oe,O)}function De(g,c,d,y,k){const O=qt(c[d],y,k);O&&(g.removeEventListener(d,O,!!k),delete c[d][O.uidEvent])}function Qt(g,c,d,y){const k=c[d]||{};for(const[O,L]of Object.entries(k))O.includes(y)&&De(g,c,d,L.callable,L.delegationSelector)}function bn(g){return g=g.replace(C,""),R[g]||g}const W={on(g,c,d,y){He(g,c,d,y,!1)},one(g,c,d,y){He(g,c,d,y,!0)},off(g,c,d,y){if(typeof c!="string"||!g)return;const[k,O,L]=ht(c,d,y),G=L!==c,ne=ut(g),ue=ne[L]||{},he=c.startsWith(".");if(O===void 0){if(he)for(const ce of Object.keys(ne))Qt(g,ne,ce,c.slice(1));for(const[ce,Oe]of Object.entries(ue)){const ve=ce.replace(b,"");G&&!c.includes(ve)||De(g,ne,L,Oe.callable,Oe.delegationSelector)}}else{if(!Object.keys(ue).length)return;De(g,ne,L,O,k?d:null)}},trigger(g,c,d){if(typeof c!="string"||!g)return null;const y=B();let k=null,O=!0,L=!0,G=!1;c!==bn(c)&&y&&(k=y.Event(c,d),y(g).trigger(k),O=!k.isPropagationStopped(),L=!k.isImmediatePropagationStopped(),G=k.isDefaultPrevented());const ne=yt(new Event(c,{bubbles:O,cancelable:!0}),d);return G&&ne.preventDefault(),L&&g.dispatchEvent(ne),ne.defaultPrevented&&k&&k.preventDefault(),ne}};function yt(g,c={}){for(const[d,y]of Object.entries(c))try{g[d]=y}catch{Object.defineProperty(g,d,{configurable:!0,get:()=>y})}return g}function On(g){if(g==="true")return!0;if(g==="false")return!1;if(g===Number(g).toString())return Number(g);if(g===""||g==="null")return null;if(typeof g!="string")return g;try{return JSON.parse(decodeURIComponent(g))}catch{return g}}function un(g){return g.replace(/[A-Z]/g,c=>`-${c.toLowerCase()}`)}const vt={setDataAttribute(g,c,d){g.setAttribute(`data-bs-${un(c)}`,d)},removeDataAttribute(g,c){g.removeAttribute(`data-bs-${un(c)}`)},getDataAttributes(g){if(!g)return{};const c={},d=Object.keys(g.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of d){let k=y.replace(/^bs/,"");k=k.charAt(0).toLowerCase()+k.slice(1),c[k]=On(g.dataset[y])}return c},getDataAttribute:(g,c)=>On(g.getAttribute(`data-bs-${un(c)}`))};class pt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(c){return c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c}_mergeConfigObj(c,d){const y=u(d)?vt.getDataAttribute(d,"config"):{};return{...this.constructor.Default,...typeof y=="object"?y:{},...u(d)?vt.getDataAttributes(d):{},...typeof c=="object"?c:{}}}_typeCheckConfig(c,d=this.constructor.DefaultType){for(const[y,k]of Object.entries(d)){const O=c[y],L=u(O)?"element":o(O);if(!new RegExp(k).test(L))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${y}" provided type "${L}" but expected type "${k}".`)}}}class U extends pt{constructor(c,d){super(),(c=h(c))&&(this._element=c,this._config=this._getConfig(d),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),W.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,d,y=!0){re(c,d,y)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return s.get(h(c),this.DATA_KEY)}static getOrCreateInstance(c,d={}){return this.getInstance(c)||new this(c,typeof d=="object"?d:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}const ae=g=>{let c=g.getAttribute("data-bs-target");if(!c||c==="#"){let d=g.getAttribute("href");if(!d||!d.includes("#")&&!d.startsWith("."))return null;d.includes("#")&&!d.startsWith("#")&&(d=`#${d.split("#")[1]}`),c=d&&d!=="#"?d.trim():null}return c?c.split(",").map(d=>i(d)).join(","):null},F={find:(g,c=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(c,g)),findOne:(g,c=document.documentElement)=>Element.prototype.querySelector.call(c,g),children:(g,c)=>[].concat(...g.children).filter(d=>d.matches(c)),parents(g,c){const d=[];let y=g.parentNode.closest(c);for(;y;)d.push(y),y=y.parentNode.closest(c);return d},prev(g,c){let d=g.previousElementSibling;for(;d;){if(d.matches(c))return[d];d=d.previousElementSibling}return[]},next(g,c){let d=g.nextElementSibling;for(;d;){if(d.matches(c))return[d];d=d.nextElementSibling}return[]},focusableChildren(g){const c=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(d=>`${d}:not([tabindex^="-"])`).join(",");return this.find(c,g).filter(d=>!_(d)&&p(d))},getSelectorFromElement(g){const c=ae(g);return c&&F.findOne(c)?c:null},getElementFromSelector(g){const c=ae(g);return c?F.findOne(c):null},getMultipleElementsFromSelector(g){const c=ae(g);return c?F.find(c):[]}},fe=(g,c="hide")=>{const d=`click.dismiss${g.EVENT_KEY}`,y=g.NAME;W.on(document,d,`[data-bs-dismiss="${y}"]`,function(k){if(["A","AREA"].includes(this.tagName)&&k.preventDefault(),_(this))return;const O=F.getElementFromSelector(this)||this.closest(`.${y}`);g.getOrCreateInstance(O)[c]()})},xe=".bs.alert",T=`close${xe}`,S=`closed${xe}`;class N extends U{static get NAME(){return"alert"}close(){if(W.trigger(this._element,T).defaultPrevented)return;this._element.classList.remove("show");const c=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,c)}_destroyElement(){this._element.remove(),W.trigger(this._element,S),this.dispose()}static jQueryInterface(c){return this.each(function(){const d=N.getOrCreateInstance(this);if(typeof c=="string"){if(d[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);d[c](this)}})}}fe(N,"close"),K(N);const q='[data-bs-toggle="button"]';class H extends U{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(c){return this.each(function(){const d=H.getOrCreateInstance(this);c==="toggle"&&d[c]()})}}W.on(document,"click.bs.button.data-api",q,g=>{g.preventDefault();const c=g.target.closest(q);H.getOrCreateInstance(c).toggle()}),K(H);const j=".bs.swipe",se=`touchstart${j}`,Z=`touchmove${j}`,X=`touchend${j}`,J=`pointerdown${j}`,ge=`pointerup${j}`,oe={endCallback:null,leftCallback:null,rightCallback:null},pe={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class me extends pt{constructor(c,d){super(),this._element=c,c&&me.isSupported()&&(this._config=this._getConfig(d),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return oe}static get DefaultType(){return pe}static get NAME(){return"swipe"}dispose(){W.off(this._element,j)}_start(c){this._supportPointerEvents?this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX):this._deltaX=c.touches[0].clientX}_end(c){this._eventIsPointerPenTouch(c)&&(this._deltaX=c.clientX-this._deltaX),this._handleSwipe(),ee(this._config.endCallback)}_move(c){this._deltaX=c.touches&&c.touches.length>1?0:c.touches[0].clientX-this._deltaX}_handleSwipe(){const c=Math.abs(this._deltaX);if(c<=40)return;const d=c/this._deltaX;this._deltaX=0,d&&ee(d>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(W.on(this._element,J,c=>this._start(c)),W.on(this._element,ge,c=>this._end(c)),this._element.classList.add("pointer-event")):(W.on(this._element,se,c=>this._start(c)),W.on(this._element,Z,c=>this._move(c)),W.on(this._element,X,c=>this._end(c)))}_eventIsPointerPenTouch(c){return this._supportPointerEvents&&(c.pointerType==="pen"||c.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const be=".bs.carousel",We=".data-api",je="ArrowLeft",Ft="ArrowRight",mt="next",It="prev",At="left",Yt="right",ur=`slide${be}`,Et=`slid${be}`,St=`keydown${be}`,ti=`mouseenter${be}`,xs=`mouseleave${be}`,yc=`dragstart${be}`,ni=`load${be}${We}`,vc=`click${be}${We}`,Ut="carousel",si="active",hr=".active",fr=".carousel-item",Au=hr+fr,Su={[je]:Yt,[Ft]:At},dr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Cu={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class pr extends U{constructor(c,d){super(c,d),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=F.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ut&&this.cycle()}static get Default(){return dr}static get DefaultType(){return Cu}static get NAME(){return"carousel"}next(){this._slide(mt)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(It)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?W.one(this._element,Et,()=>this.cycle()):this.cycle())}to(c){const d=this._getItems();if(c>d.length-1||c<0)return;if(this._isSliding)return void W.one(this._element,Et,()=>this.to(c));const y=this._getItemIndex(this._getActive());if(y===c)return;const k=c>y?mt:It;this._slide(k,d[c])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(c){return c.defaultInterval=c.interval,c}_addEventListeners(){this._config.keyboard&&W.on(this._element,St,c=>this._keydown(c)),this._config.pause==="hover"&&(W.on(this._element,ti,()=>this.pause()),W.on(this._element,xs,()=>this._maybeEnableCycle())),this._config.touch&&me.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const d of F.find(".carousel-item img",this._element))W.on(d,yc,y=>y.preventDefault());const c={leftCallback:()=>this._slide(this._directionToOrder(At)),rightCallback:()=>this._slide(this._directionToOrder(Yt)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new me(this._element,c)}_keydown(c){if(/input|textarea/i.test(c.target.tagName))return;const d=Su[c.key];d&&(c.preventDefault(),this._slide(this._directionToOrder(d)))}_getItemIndex(c){return this._getItems().indexOf(c)}_setActiveIndicatorElement(c){if(!this._indicatorsElement)return;const d=F.findOne(hr,this._indicatorsElement);d.classList.remove(si),d.removeAttribute("aria-current");const y=F.findOne(`[data-bs-slide-to="${c}"]`,this._indicatorsElement);y&&(y.classList.add(si),y.setAttribute("aria-current","true"))}_updateInterval(){const c=this._activeElement||this._getActive();if(!c)return;const d=Number.parseInt(c.getAttribute("data-bs-interval"),10);this._config.interval=d||this._config.defaultInterval}_slide(c,d=null){if(this._isSliding)return;const y=this._getActive(),k=c===mt,O=d||Te(this._getItems(),y,k,this._config.wrap);if(O===y)return;const L=this._getItemIndex(O),G=ce=>W.trigger(this._element,ce,{relatedTarget:O,direction:this._orderToDirection(c),from:this._getItemIndex(y),to:L});if(G(ur).defaultPrevented||!y||!O)return;const ne=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(L),this._activeElement=O;const ue=k?"carousel-item-start":"carousel-item-end",he=k?"carousel-item-next":"carousel-item-prev";O.classList.add(he),M(O),y.classList.add(ue),O.classList.add(ue),this._queueCallback(()=>{O.classList.remove(ue,he),O.classList.add(si),y.classList.remove(si,he,ue),this._isSliding=!1,G(Et)},y,this._isAnimated()),ne&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return F.findOne(Au,this._element)}_getItems(){return F.find(fr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(c){return Q()?c===At?It:mt:c===At?mt:It}_orderToDirection(c){return Q()?c===It?At:Yt:c===It?Yt:At}static jQueryInterface(c){return this.each(function(){const d=pr.getOrCreateInstance(this,c);if(typeof c!="number"){if(typeof c=="string"){if(d[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);d[c]()}}else d.to(c)})}}W.on(document,vc,"[data-bs-slide], [data-bs-slide-to]",function(g){const c=F.getElementFromSelector(this);if(!c||!c.classList.contains(Ut))return;g.preventDefault();const d=pr.getOrCreateInstance(c),y=this.getAttribute("data-bs-slide-to");return y?(d.to(y),void d._maybeEnableCycle()):vt.getDataAttribute(this,"slide")==="next"?(d.next(),void d._maybeEnableCycle()):(d.prev(),void d._maybeEnableCycle())}),W.on(window,ni,()=>{const g=F.find('[data-bs-ride="carousel"]');for(const c of g)pr.getOrCreateInstance(c)}),K(pr);const rs=".bs.collapse",Ec=`show${rs}`,wc=`shown${rs}`,$o=`hide${rs}`,ri=`hidden${rs}`,Ru=`click${rs}.data-api`,Nn="show",Vs="collapse",ii="collapsing",qo=`:scope .${Vs} .${Vs}`,oi='[data-bs-toggle="collapse"]',Tc={parent:null,toggle:!0},Pu={parent:"(null|element)",toggle:"boolean"};class Ms extends U{constructor(c,d){super(c,d),this._isTransitioning=!1,this._triggerArray=[];const y=F.find(oi);for(const k of y){const O=F.getSelectorFromElement(k),L=F.find(O).filter(G=>G===this._element);O!==null&&L.length&&this._triggerArray.push(k)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Tc}static get DefaultType(){return Pu}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let c=[];if(this._config.parent&&(c=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(k=>k!==this._element).map(k=>Ms.getOrCreateInstance(k,{toggle:!1}))),c.length&&c[0]._isTransitioning||W.trigger(this._element,Ec).defaultPrevented)return;for(const k of c)k.hide();const d=this._getDimension();this._element.classList.remove(Vs),this._element.classList.add(ii),this._element.style[d]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const y=`scroll${d[0].toUpperCase()+d.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ii),this._element.classList.add(Vs,Nn),this._element.style[d]="",W.trigger(this._element,wc)},this._element,!0),this._element.style[d]=`${this._element[y]}px`}hide(){if(this._isTransitioning||!this._isShown()||W.trigger(this._element,$o).defaultPrevented)return;const c=this._getDimension();this._element.style[c]=`${this._element.getBoundingClientRect()[c]}px`,M(this._element),this._element.classList.add(ii),this._element.classList.remove(Vs,Nn);for(const d of this._triggerArray){const y=F.getElementFromSelector(d);y&&!this._isShown(y)&&this._addAriaAndCollapsedClass([d],!1)}this._isTransitioning=!0,this._element.style[c]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ii),this._element.classList.add(Vs),W.trigger(this._element,ri)},this._element,!0)}_isShown(c=this._element){return c.classList.contains(Nn)}_configAfterMerge(c){return c.toggle=!!c.toggle,c.parent=h(c.parent),c}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const c=this._getFirstLevelChildren(oi);for(const d of c){const y=F.getElementFromSelector(d);y&&this._addAriaAndCollapsedClass([d],this._isShown(y))}}_getFirstLevelChildren(c){const d=F.find(qo,this._config.parent);return F.find(c,this._config.parent).filter(y=>!d.includes(y))}_addAriaAndCollapsedClass(c,d){if(c.length)for(const y of c)y.classList.toggle("collapsed",!d),y.setAttribute("aria-expanded",d)}static jQueryInterface(c){const d={};return typeof c=="string"&&/show|hide/.test(c)&&(d.toggle=!1),this.each(function(){const y=Ms.getOrCreateInstance(this,d);if(typeof c=="string"){if(y[c]===void 0)throw new TypeError(`No method named "${c}"`);y[c]()}})}}W.on(document,Ru,oi,function(g){(g.target.tagName==="A"||g.delegateTarget&&g.delegateTarget.tagName==="A")&&g.preventDefault();for(const c of F.getMultipleElementsFromSelector(this))Ms.getOrCreateInstance(c,{toggle:!1}).toggle()}),K(Ms);var Ht="top",jt="bottom",Xt="right",Ot="left",is="auto",yn=[Ht,jt,Xt,Ot],zn="start",mr="end",Ho="clippingParents",Bi="viewport",Ls="popper",$i="reference",ai=yn.reduce(function(g,c){return g.concat([c+"-"+zn,c+"-"+mr])},[]),qi=[].concat(yn,[is]).reduce(function(g,c){return g.concat([c,c+"-"+zn,c+"-"+mr])},[]),Wo="beforeRead",zo="read",bc="afterRead",Kn="beforeMain",In="main",gr="afterMain",_r="beforeWrite",Hi="write",Ze="afterWrite",ci=[Wo,zo,bc,Kn,In,gr,_r,Hi,Ze];function Jt(g){return g?(g.nodeName||"").toLowerCase():null}function Nt(g){if(g==null)return window;if(g.toString()!=="[object Window]"){var c=g.ownerDocument;return c&&c.defaultView||window}return g}function Fs(g){return g instanceof Nt(g).Element||g instanceof Element}function hn(g){return g instanceof Nt(g).HTMLElement||g instanceof HTMLElement}function Ko(g){return typeof ShadowRoot<"u"&&(g instanceof Nt(g).ShadowRoot||g instanceof ShadowRoot)}const Go={name:"applyStyles",enabled:!0,phase:"write",fn:function(g){var c=g.state;Object.keys(c.elements).forEach(function(d){var y=c.styles[d]||{},k=c.attributes[d]||{},O=c.elements[d];hn(O)&&Jt(O)&&(Object.assign(O.style,y),Object.keys(k).forEach(function(L){var G=k[L];G===!1?O.removeAttribute(L):O.setAttribute(L,G===!0?"":G)}))})},effect:function(g){var c=g.state,d={popper:{position:c.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(c.elements.popper.style,d.popper),c.styles=d,c.elements.arrow&&Object.assign(c.elements.arrow.style,d.arrow),function(){Object.keys(c.elements).forEach(function(y){var k=c.elements[y],O=c.attributes[y]||{},L=Object.keys(c.styles.hasOwnProperty(y)?c.styles[y]:d[y]).reduce(function(G,ne){return G[ne]="",G},{});hn(k)&&Jt(k)&&(Object.assign(k.style,L),Object.keys(O).forEach(function(G){k.removeAttribute(G)}))})}},requires:["computeStyles"]};function Dn(g){return g.split("-")[0]}var Us=Math.max,os=Math.min,vn=Math.round;function Wi(){var g=navigator.userAgentData;return g!=null&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(c){return c.brand+"/"+c.version}).join(" "):navigator.userAgent}function Qo(){return!/^((?!chrome|android).)*safari/i.test(Wi())}function js(g,c,d){c===void 0&&(c=!1),d===void 0&&(d=!1);var y=g.getBoundingClientRect(),k=1,O=1;c&&hn(g)&&(k=g.offsetWidth>0&&vn(y.width)/g.offsetWidth||1,O=g.offsetHeight>0&&vn(y.height)/g.offsetHeight||1);var L=(Fs(g)?Nt(g):window).visualViewport,G=!Qo()&&d,ne=(y.left+(G&&L?L.offsetLeft:0))/k,ue=(y.top+(G&&L?L.offsetTop:0))/O,he=y.width/k,ce=y.height/O;return{width:he,height:ce,top:ue,right:ne+he,bottom:ue+ce,left:ne,x:ne,y:ue}}function zi(g){var c=js(g),d=g.offsetWidth,y=g.offsetHeight;return Math.abs(c.width-d)<=1&&(d=c.width),Math.abs(c.height-y)<=1&&(y=c.height),{x:g.offsetLeft,y:g.offsetTop,width:d,height:y}}function Yo(g,c){var d=c.getRootNode&&c.getRootNode();if(g.contains(c))return!0;if(d&&Ko(d)){var y=c;do{if(y&&g.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function Zt(g){return Nt(g).getComputedStyle(g)}function ku(g){return["table","td","th"].indexOf(Jt(g))>=0}function as(g){return((Fs(g)?g.ownerDocument:g.document)||window.document).documentElement}function Ki(g){return Jt(g)==="html"?g:g.assignedSlot||g.parentNode||(Ko(g)?g.host:null)||as(g)}function Gn(g){return hn(g)&&Zt(g).position!=="fixed"?g.offsetParent:null}function li(g){for(var c=Nt(g),d=Gn(g);d&&ku(d)&&Zt(d).position==="static";)d=Gn(d);return d&&(Jt(d)==="html"||Jt(d)==="body"&&Zt(d).position==="static")?c:d||(function(y){var k=/firefox/i.test(Wi());if(/Trident/i.test(Wi())&&hn(y)&&Zt(y).position==="fixed")return null;var O=Ki(y);for(Ko(O)&&(O=O.host);hn(O)&&["html","body"].indexOf(Jt(O))<0;){var L=Zt(O);if(L.transform!=="none"||L.perspective!=="none"||L.contain==="paint"||["transform","perspective"].indexOf(L.willChange)!==-1||k&&L.willChange==="filter"||k&&L.filter&&L.filter!=="none")return O;O=O.parentNode}return null})(g)||c}function ui(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function cs(g,c,d){return Us(g,os(c,d))}function Xo(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function yr(g,c){return c.reduce(function(d,y){return d[y]=g,d},{})}const vr={name:"arrow",enabled:!0,phase:"main",fn:function(g){var c,d=g.state,y=g.name,k=g.options,O=d.elements.arrow,L=d.modifiersData.popperOffsets,G=Dn(d.placement),ne=ui(G),ue=[Ot,Xt].indexOf(G)>=0?"height":"width";if(O&&L){var he=(function(tt,Je){return Xo(typeof(tt=typeof tt=="function"?tt(Object.assign({},Je.rects,{placement:Je.placement})):tt)!="number"?tt:yr(tt,yn))})(k.padding,d),ce=zi(O),Oe=ne==="y"?Ht:Ot,ve=ne==="y"?jt:Xt,Se=d.rects.reference[ue]+d.rects.reference[ne]-L[ne]-d.rects.popper[ue],Ie=L[ne]-d.rects.reference[ne],Ce=li(O),et=Ce?ne==="y"?Ce.clientHeight||0:Ce.clientWidth||0:0,ot=Se/2-Ie/2,Me=he[Oe],ze=et-ce[ue]-he[ve],Ne=et/2-ce[ue]/2+ot,Be=cs(Me,Ne,ze),Xe=ne;d.modifiersData[y]=((c={})[Xe]=Be,c.centerOffset=Be-Ne,c)}},effect:function(g){var c=g.state,d=g.options.element,y=d===void 0?"[data-popper-arrow]":d;y!=null&&(typeof y!="string"||(y=c.elements.popper.querySelector(y)))&&Yo(c.elements.popper,y)&&(c.elements.arrow=y)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bs(g){return g.split("-")[1]}var Jo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ct(g){var c,d=g.popper,y=g.popperRect,k=g.placement,O=g.variation,L=g.offsets,G=g.position,ne=g.gpuAcceleration,ue=g.adaptive,he=g.roundOffsets,ce=g.isFixed,Oe=L.x,ve=Oe===void 0?0:Oe,Se=L.y,Ie=Se===void 0?0:Se,Ce=typeof he=="function"?he({x:ve,y:Ie}):{x:ve,y:Ie};ve=Ce.x,Ie=Ce.y;var et=L.hasOwnProperty("x"),ot=L.hasOwnProperty("y"),Me=Ot,ze=Ht,Ne=window;if(ue){var Be=li(d),Xe="clientHeight",tt="clientWidth";Be===Nt(d)&&Zt(Be=as(d)).position!=="static"&&G==="absolute"&&(Xe="scrollHeight",tt="scrollWidth"),(k===Ht||(k===Ot||k===Xt)&&O===mr)&&(ze=jt,Ie-=(ce&&Be===Ne&&Ne.visualViewport?Ne.visualViewport.height:Be[Xe])-y.height,Ie*=ne?1:-1),k!==Ot&&(k!==Ht&&k!==jt||O!==mr)||(Me=Xt,ve-=(ce&&Be===Ne&&Ne.visualViewport?Ne.visualViewport.width:Be[tt])-y.width,ve*=ne?1:-1)}var Je,Tt=Object.assign({position:G},ue&&Jo),An=he===!0?(function(Xn,fn){var Ln=Xn.x,Fn=Xn.y,gt=fn.devicePixelRatio||1;return{x:vn(Ln*gt)/gt||0,y:vn(Fn*gt)/gt||0}})({x:ve,y:Ie},Nt(d)):{x:ve,y:Ie};return ve=An.x,Ie=An.y,ne?Object.assign({},Tt,((Je={})[ze]=ot?"0":"",Je[Me]=et?"0":"",Je.transform=(Ne.devicePixelRatio||1)<=1?"translate("+ve+"px, "+Ie+"px)":"translate3d("+ve+"px, "+Ie+"px, 0)",Je)):Object.assign({},Tt,((c={})[ze]=ot?Ie+"px":"",c[Me]=et?ve+"px":"",c.transform="",c))}const Zo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(g){var c=g.state,d=g.options,y=d.gpuAcceleration,k=y===void 0||y,O=d.adaptive,L=O===void 0||O,G=d.roundOffsets,ne=G===void 0||G,ue={placement:Dn(c.placement),variation:Bs(c.placement),popper:c.elements.popper,popperRect:c.rects.popper,gpuAcceleration:k,isFixed:c.options.strategy==="fixed"};c.modifiersData.popperOffsets!=null&&(c.styles.popper=Object.assign({},c.styles.popper,ct(Object.assign({},ue,{offsets:c.modifiersData.popperOffsets,position:c.options.strategy,adaptive:L,roundOffsets:ne})))),c.modifiersData.arrow!=null&&(c.styles.arrow=Object.assign({},c.styles.arrow,ct(Object.assign({},ue,{offsets:c.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:ne})))),c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-placement":c.placement})},data:{}};var Gi={passive:!0};const Qi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(g){var c=g.state,d=g.instance,y=g.options,k=y.scroll,O=k===void 0||k,L=y.resize,G=L===void 0||L,ne=Nt(c.elements.popper),ue=[].concat(c.scrollParents.reference,c.scrollParents.popper);return O&&ue.forEach(function(he){he.addEventListener("scroll",d.update,Gi)}),G&&ne.addEventListener("resize",d.update,Gi),function(){O&&ue.forEach(function(he){he.removeEventListener("scroll",d.update,Gi)}),G&&ne.removeEventListener("resize",d.update,Gi)}},data:{}};var Ic={left:"right",right:"left",bottom:"top",top:"bottom"};function hi(g){return g.replace(/left|right|bottom|top/g,function(c){return Ic[c]})}var Yi={start:"end",end:"start"};function Qn(g){return g.replace(/start|end/g,function(c){return Yi[c]})}function Xi(g){var c=Nt(g);return{scrollLeft:c.pageXOffset,scrollTop:c.pageYOffset}}function ea(g){return js(as(g)).left+Xi(g).scrollLeft}function $s(g){var c=Zt(g),d=c.overflow,y=c.overflowX,k=c.overflowY;return/auto|scroll|overlay|hidden/.test(d+k+y)}function ta(g){return["html","body","#document"].indexOf(Jt(g))>=0?g.ownerDocument.body:hn(g)&&$s(g)?g:ta(Ki(g))}function qs(g,c){var d;c===void 0&&(c=[]);var y=ta(g),k=y===((d=g.ownerDocument)==null?void 0:d.body),O=Nt(y),L=k?[O].concat(O.visualViewport||[],$s(y)?y:[]):y,G=c.concat(L);return k?G:G.concat(qs(Ki(L)))}function Er(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function na(g,c,d){return c===Bi?Er((function(y,k){var O=Nt(y),L=as(y),G=O.visualViewport,ne=L.clientWidth,ue=L.clientHeight,he=0,ce=0;if(G){ne=G.width,ue=G.height;var Oe=Qo();(Oe||!Oe&&k==="fixed")&&(he=G.offsetLeft,ce=G.offsetTop)}return{width:ne,height:ue,x:he+ea(y),y:ce}})(g,d)):Fs(c)?(function(y,k){var O=js(y,!1,k==="fixed");return O.top=O.top+y.clientTop,O.left=O.left+y.clientLeft,O.bottom=O.top+y.clientHeight,O.right=O.left+y.clientWidth,O.width=y.clientWidth,O.height=y.clientHeight,O.x=O.left,O.y=O.top,O})(c,d):Er((function(y){var k,O=as(y),L=Xi(y),G=(k=y.ownerDocument)==null?void 0:k.body,ne=Us(O.scrollWidth,O.clientWidth,G?G.scrollWidth:0,G?G.clientWidth:0),ue=Us(O.scrollHeight,O.clientHeight,G?G.scrollHeight:0,G?G.clientHeight:0),he=-L.scrollLeft+ea(y),ce=-L.scrollTop;return Zt(G||O).direction==="rtl"&&(he+=Us(O.clientWidth,G?G.clientWidth:0)-ne),{width:ne,height:ue,x:he,y:ce}})(as(g)))}function fi(g){var c,d=g.reference,y=g.element,k=g.placement,O=k?Dn(k):null,L=k?Bs(k):null,G=d.x+d.width/2-y.width/2,ne=d.y+d.height/2-y.height/2;switch(O){case Ht:c={x:G,y:d.y-y.height};break;case jt:c={x:G,y:d.y+d.height};break;case Xt:c={x:d.x+d.width,y:ne};break;case Ot:c={x:d.x-y.width,y:ne};break;default:c={x:d.x,y:d.y}}var ue=O?ui(O):null;if(ue!=null){var he=ue==="y"?"height":"width";switch(L){case zn:c[ue]=c[ue]-(d[he]/2-y[he]/2);break;case mr:c[ue]=c[ue]+(d[he]/2-y[he]/2)}}return c}function wr(g,c){c===void 0&&(c={});var d=c,y=d.placement,k=y===void 0?g.placement:y,O=d.strategy,L=O===void 0?g.strategy:O,G=d.boundary,ne=G===void 0?Ho:G,ue=d.rootBoundary,he=ue===void 0?Bi:ue,ce=d.elementContext,Oe=ce===void 0?Ls:ce,ve=d.altBoundary,Se=ve!==void 0&&ve,Ie=d.padding,Ce=Ie===void 0?0:Ie,et=Xo(typeof Ce!="number"?Ce:yr(Ce,yn)),ot=Oe===Ls?$i:Ls,Me=g.rects.popper,ze=g.elements[Se?ot:Oe],Ne=(function(fn,Ln,Fn,gt){var ps=Ln==="clippingParents"?(function(nt){var dn=qs(Ki(nt)),Un=["absolute","fixed"].indexOf(Zt(nt).position)>=0&&hn(nt)?li(nt):nt;return Fs(Un)?dn.filter(function(Ar){return Fs(Ar)&&Yo(Ar,Un)&&Jt(Ar)!=="body"}):[]})(fn):[].concat(Ln),ms=[].concat(ps,[Fn]),so=ms[0],Bt=ms.reduce(function(nt,dn){var Un=na(fn,dn,gt);return nt.top=Us(Un.top,nt.top),nt.right=os(Un.right,nt.right),nt.bottom=os(Un.bottom,nt.bottom),nt.left=Us(Un.left,nt.left),nt},na(fn,so,gt));return Bt.width=Bt.right-Bt.left,Bt.height=Bt.bottom-Bt.top,Bt.x=Bt.left,Bt.y=Bt.top,Bt})(Fs(ze)?ze:ze.contextElement||as(g.elements.popper),ne,he,L),Be=js(g.elements.reference),Xe=fi({reference:Be,element:Me,placement:k}),tt=Er(Object.assign({},Me,Xe)),Je=Oe===Ls?tt:Be,Tt={top:Ne.top-Je.top+et.top,bottom:Je.bottom-Ne.bottom+et.bottom,left:Ne.left-Je.left+et.left,right:Je.right-Ne.right+et.right},An=g.modifiersData.offset;if(Oe===Ls&&An){var Xn=An[k];Object.keys(Tt).forEach(function(fn){var Ln=[Xt,jt].indexOf(fn)>=0?1:-1,Fn=[Ht,jt].indexOf(fn)>=0?"y":"x";Tt[fn]+=Xn[Fn]*Ln})}return Tt}function Ac(g,c){c===void 0&&(c={});var d=c,y=d.placement,k=d.boundary,O=d.rootBoundary,L=d.padding,G=d.flipVariations,ne=d.allowedAutoPlacements,ue=ne===void 0?qi:ne,he=Bs(y),ce=he?G?ai:ai.filter(function(Se){return Bs(Se)===he}):yn,Oe=ce.filter(function(Se){return ue.indexOf(Se)>=0});Oe.length===0&&(Oe=ce);var ve=Oe.reduce(function(Se,Ie){return Se[Ie]=wr(g,{placement:Ie,boundary:k,rootBoundary:O,padding:L})[Dn(Ie)],Se},{});return Object.keys(ve).sort(function(Se,Ie){return ve[Se]-ve[Ie]})}const Tr={name:"flip",enabled:!0,phase:"main",fn:function(g){var c=g.state,d=g.options,y=g.name;if(!c.modifiersData[y]._skip){for(var k=d.mainAxis,O=k===void 0||k,L=d.altAxis,G=L===void 0||L,ne=d.fallbackPlacements,ue=d.padding,he=d.boundary,ce=d.rootBoundary,Oe=d.altBoundary,ve=d.flipVariations,Se=ve===void 0||ve,Ie=d.allowedAutoPlacements,Ce=c.options.placement,et=Dn(Ce),ot=ne||(et!==Ce&&Se?(function(nt){if(Dn(nt)===is)return[];var dn=hi(nt);return[Qn(nt),dn,Qn(dn)]})(Ce):[hi(Ce)]),Me=[Ce].concat(ot).reduce(function(nt,dn){return nt.concat(Dn(dn)===is?Ac(c,{placement:dn,boundary:he,rootBoundary:ce,padding:ue,flipVariations:Se,allowedAutoPlacements:Ie}):dn)},[]),ze=c.rects.reference,Ne=c.rects.popper,Be=new Map,Xe=!0,tt=Me[0],Je=0;Je<Me.length;Je++){var Tt=Me[Je],An=Dn(Tt),Xn=Bs(Tt)===zn,fn=[Ht,jt].indexOf(An)>=0,Ln=fn?"width":"height",Fn=wr(c,{placement:Tt,boundary:he,rootBoundary:ce,altBoundary:Oe,padding:ue}),gt=fn?Xn?Xt:Ot:Xn?jt:Ht;ze[Ln]>Ne[Ln]&&(gt=hi(gt));var ps=hi(gt),ms=[];if(O&&ms.push(Fn[An]<=0),G&&ms.push(Fn[gt]<=0,Fn[ps]<=0),ms.every(function(nt){return nt})){tt=Tt,Xe=!1;break}Be.set(Tt,ms)}if(Xe)for(var so=function(nt){var dn=Me.find(function(Un){var Ar=Be.get(Un);if(Ar)return Ar.slice(0,nt).every(function(Mc){return Mc})});if(dn)return tt=dn,"break"},Bt=Se?3:1;Bt>0&&so(Bt)!=="break";Bt--);c.placement!==tt&&(c.modifiersData[y]._skip=!0,c.placement=tt,c.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function sa(g,c,d){return d===void 0&&(d={x:0,y:0}),{top:g.top-c.height-d.y,right:g.right-c.width+d.x,bottom:g.bottom-c.height+d.y,left:g.left-c.width-d.x}}function ra(g){return[Ht,Xt,jt,Ot].some(function(c){return g[c]>=0})}const Ji={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(g){var c=g.state,d=g.name,y=c.rects.reference,k=c.rects.popper,O=c.modifiersData.preventOverflow,L=wr(c,{elementContext:"reference"}),G=wr(c,{altBoundary:!0}),ne=sa(L,y),ue=sa(G,k,O),he=ra(ne),ce=ra(ue);c.modifiersData[d]={referenceClippingOffsets:ne,popperEscapeOffsets:ue,isReferenceHidden:he,hasPopperEscaped:ce},c.attributes.popper=Object.assign({},c.attributes.popper,{"data-popper-reference-hidden":he,"data-popper-escaped":ce})}},Zi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(g){var c=g.state,d=g.options,y=g.name,k=d.offset,O=k===void 0?[0,0]:k,L=qi.reduce(function(he,ce){return he[ce]=(function(Oe,ve,Se){var Ie=Dn(Oe),Ce=[Ot,Ht].indexOf(Ie)>=0?-1:1,et=typeof Se=="function"?Se(Object.assign({},ve,{placement:Oe})):Se,ot=et[0],Me=et[1];return ot=ot||0,Me=(Me||0)*Ce,[Ot,Xt].indexOf(Ie)>=0?{x:Me,y:ot}:{x:ot,y:Me}})(ce,c.rects,O),he},{}),G=L[c.placement],ne=G.x,ue=G.y;c.modifiersData.popperOffsets!=null&&(c.modifiersData.popperOffsets.x+=ne,c.modifiersData.popperOffsets.y+=ue),c.modifiersData[y]=L}},eo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(g){var c=g.state,d=g.name;c.modifiersData[d]=fi({reference:c.rects.reference,element:c.rects.popper,placement:c.placement})},data:{}},di={name:"preventOverflow",enabled:!0,phase:"main",fn:function(g){var c=g.state,d=g.options,y=g.name,k=d.mainAxis,O=k===void 0||k,L=d.altAxis,G=L!==void 0&&L,ne=d.boundary,ue=d.rootBoundary,he=d.altBoundary,ce=d.padding,Oe=d.tether,ve=Oe===void 0||Oe,Se=d.tetherOffset,Ie=Se===void 0?0:Se,Ce=wr(c,{boundary:ne,rootBoundary:ue,padding:ce,altBoundary:he}),et=Dn(c.placement),ot=Bs(c.placement),Me=!ot,ze=ui(et),Ne=ze==="x"?"y":"x",Be=c.modifiersData.popperOffsets,Xe=c.rects.reference,tt=c.rects.popper,Je=typeof Ie=="function"?Ie(Object.assign({},c.rects,{placement:c.placement})):Ie,Tt=typeof Je=="number"?{mainAxis:Je,altAxis:Je}:Object.assign({mainAxis:0,altAxis:0},Je),An=c.modifiersData.offset?c.modifiersData.offset[c.placement]:null,Xn={x:0,y:0};if(Be){if(O){var fn,Ln=ze==="y"?Ht:Ot,Fn=ze==="y"?jt:Xt,gt=ze==="y"?"height":"width",ps=Be[ze],ms=ps+Ce[Ln],so=ps-Ce[Fn],Bt=ve?-tt[gt]/2:0,nt=ot===zn?Xe[gt]:tt[gt],dn=ot===zn?-tt[gt]:-Xe[gt],Un=c.elements.arrow,Ar=ve&&Un?zi(Un):{width:0,height:0},Mc=c.modifiersData["arrow#persistent"]?c.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Qd=Mc[Ln],Yd=Mc[Fn],Lc=cs(0,Xe[gt],Ar[gt]),Hw=Me?Xe[gt]/2-Bt-Lc-Qd-Tt.mainAxis:nt-Lc-Qd-Tt.mainAxis,Ww=Me?-Xe[gt]/2+Bt+Lc+Yd+Tt.mainAxis:dn+Lc+Yd+Tt.mainAxis,$u=c.elements.arrow&&li(c.elements.arrow),zw=$u?ze==="y"?$u.clientTop||0:$u.clientLeft||0:0,Xd=(fn=An?.[ze])!=null?fn:0,Kw=ps+Ww-Xd,Jd=cs(ve?os(ms,ps+Hw-Xd-zw):ms,ps,ve?Us(so,Kw):so);Be[ze]=Jd,Xn[ze]=Jd-ps}if(G){var Zd,Gw=ze==="x"?Ht:Ot,Qw=ze==="x"?jt:Xt,Ei=Be[Ne],Fc=Ne==="y"?"height":"width",ep=Ei+Ce[Gw],tp=Ei-Ce[Qw],qu=[Ht,Ot].indexOf(et)!==-1,np=(Zd=An?.[Ne])!=null?Zd:0,sp=qu?ep:Ei-Xe[Fc]-tt[Fc]-np+Tt.altAxis,rp=qu?Ei+Xe[Fc]+tt[Fc]-np-Tt.altAxis:tp,ip=ve&&qu?(function(Yw,Xw,Hu){var op=cs(Yw,Xw,Hu);return op>Hu?Hu:op})(sp,Ei,rp):cs(ve?sp:ep,Ei,ve?rp:tp);Be[Ne]=ip,Xn[Ne]=ip-Ei}c.modifiersData[y]=Xn}},requiresIfExists:["offset"]};function Sc(g,c,d){d===void 0&&(d=!1);var y,k,O=hn(c),L=hn(c)&&(function(ce){var Oe=ce.getBoundingClientRect(),ve=vn(Oe.width)/ce.offsetWidth||1,Se=vn(Oe.height)/ce.offsetHeight||1;return ve!==1||Se!==1})(c),G=as(c),ne=js(g,L,d),ue={scrollLeft:0,scrollTop:0},he={x:0,y:0};return(O||!O&&!d)&&((Jt(c)!=="body"||$s(G))&&(ue=(y=c)!==Nt(y)&&hn(y)?{scrollLeft:(k=y).scrollLeft,scrollTop:k.scrollTop}:Xi(y)),hn(c)?((he=js(c,!0)).x+=c.clientLeft,he.y+=c.clientTop):G&&(he.x=ea(G))),{x:ne.left+ue.scrollLeft-he.x,y:ne.top+ue.scrollTop-he.y,width:ne.width,height:ne.height}}function Cc(g){var c=new Map,d=new Set,y=[];function k(O){d.add(O.name),[].concat(O.requires||[],O.requiresIfExists||[]).forEach(function(L){if(!d.has(L)){var G=c.get(L);G&&k(G)}}),y.push(O)}return g.forEach(function(O){c.set(O.name,O)}),g.forEach(function(O){d.has(O.name)||k(O)}),y}var ls={placement:"bottom",modifiers:[],strategy:"absolute"};function ia(){for(var g=arguments.length,c=new Array(g),d=0;d<g;d++)c[d]=arguments[d];return!c.some(function(y){return!(y&&typeof y.getBoundingClientRect=="function")})}function pi(g){g===void 0&&(g={});var c=g,d=c.defaultModifiers,y=d===void 0?[]:d,k=c.defaultOptions,O=k===void 0?ls:k;return function(L,G,ne){ne===void 0&&(ne=O);var ue,he,ce={placement:"bottom",orderedModifiers:[],options:Object.assign({},ls,O),modifiersData:{},elements:{reference:L,popper:G},attributes:{},styles:{}},Oe=[],ve=!1,Se={state:ce,setOptions:function(Ce){var et=typeof Ce=="function"?Ce(ce.options):Ce;Ie(),ce.options=Object.assign({},O,ce.options,et),ce.scrollParents={reference:Fs(L)?qs(L):L.contextElement?qs(L.contextElement):[],popper:qs(G)};var ot,Me,ze=(function(Ne){var Be=Cc(Ne);return ci.reduce(function(Xe,tt){return Xe.concat(Be.filter(function(Je){return Je.phase===tt}))},[])})((ot=[].concat(y,ce.options.modifiers),Me=ot.reduce(function(Ne,Be){var Xe=Ne[Be.name];return Ne[Be.name]=Xe?Object.assign({},Xe,Be,{options:Object.assign({},Xe.options,Be.options),data:Object.assign({},Xe.data,Be.data)}):Be,Ne},{}),Object.keys(Me).map(function(Ne){return Me[Ne]})));return ce.orderedModifiers=ze.filter(function(Ne){return Ne.enabled}),ce.orderedModifiers.forEach(function(Ne){var Be=Ne.name,Xe=Ne.options,tt=Xe===void 0?{}:Xe,Je=Ne.effect;if(typeof Je=="function"){var Tt=Je({state:ce,name:Be,instance:Se,options:tt});Oe.push(Tt||function(){})}}),Se.update()},forceUpdate:function(){if(!ve){var Ce=ce.elements,et=Ce.reference,ot=Ce.popper;if(ia(et,ot)){ce.rects={reference:Sc(et,li(ot),ce.options.strategy==="fixed"),popper:zi(ot)},ce.reset=!1,ce.placement=ce.options.placement,ce.orderedModifiers.forEach(function(Je){return ce.modifiersData[Je.name]=Object.assign({},Je.data)});for(var Me=0;Me<ce.orderedModifiers.length;Me++)if(ce.reset!==!0){var ze=ce.orderedModifiers[Me],Ne=ze.fn,Be=ze.options,Xe=Be===void 0?{}:Be,tt=ze.name;typeof Ne=="function"&&(ce=Ne({state:ce,options:Xe,name:tt,instance:Se})||ce)}else ce.reset=!1,Me=-1}}},update:(ue=function(){return new Promise(function(Ce){Se.forceUpdate(),Ce(ce)})},function(){return he||(he=new Promise(function(Ce){Promise.resolve().then(function(){he=void 0,Ce(ue())})})),he}),destroy:function(){Ie(),ve=!0}};if(!ia(L,G))return Se;function Ie(){Oe.forEach(function(Ce){return Ce()}),Oe=[]}return Se.setOptions(ne).then(function(Ce){!ve&&ne.onFirstUpdate&&ne.onFirstUpdate(Ce)}),Se}}var Rc=pi(),Pc=pi({defaultModifiers:[Qi,eo,Zo,Go]}),br=pi({defaultModifiers:[Qi,eo,Zo,Go,Zi,Tr,di,vr,Ji]});const en=Object.freeze(Object.defineProperty({__proto__:null,afterMain:gr,afterRead:bc,afterWrite:Ze,applyStyles:Go,arrow:vr,auto:is,basePlacements:yn,beforeMain:Kn,beforeRead:Wo,beforeWrite:_r,bottom:jt,clippingParents:Ho,computeStyles:Zo,createPopper:br,createPopperBase:Rc,createPopperLite:Pc,detectOverflow:wr,end:mr,eventListeners:Qi,flip:Tr,hide:Ji,left:Ot,main:In,modifierPhases:ci,offset:Zi,placements:qi,popper:Ls,popperGenerator:pi,popperOffsets:eo,preventOverflow:di,read:zo,reference:$i,right:Xt,start:zn,top:Ht,variationPlacements:ai,viewport:Bi,write:Hi},Symbol.toStringTag,{value:"Module"})),oa="dropdown",us=".bs.dropdown",hs=".data-api",a="ArrowUp",f="ArrowDown",m=`hide${us}`,E=`hidden${us}`,x=`show${us}`,V=`shown${us}`,te=`click${us}${hs}`,Pe=`keydown${us}${hs}`,wt=`keyup${us}${hs}`,$e="show",it='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',xn=`${it}.${$e}`,Vn=".dropdown-menu",fs=Q()?"top-end":"top-start",ds=Q()?"top-start":"top-end",to=Q()?"bottom-end":"bottom-start",aa=Q()?"bottom-start":"bottom-end",RE=Q()?"left-start":"right-start",PE=Q()?"right-start":"left-start",kE={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},OE={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Yn extends U{constructor(c,d){super(c,d),this._popper=null,this._parent=this._element.parentNode,this._menu=F.next(this._element,Vn)[0]||F.prev(this._element,Vn)[0]||F.findOne(Vn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return kE}static get DefaultType(){return OE}static get NAME(){return oa}toggle(){return this._isShown()?this.hide():this.show()}show(){if(_(this._element)||this._isShown())return;const c={relatedTarget:this._element};if(!W.trigger(this._element,x,c).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const d of[].concat(...document.body.children))W.on(d,"mouseover",w);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add($e),this._element.classList.add($e),W.trigger(this._element,V,c)}}hide(){if(_(this._element)||!this._isShown())return;const c={relatedTarget:this._element};this._completeHide(c)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(c){if(!W.trigger(this._element,m,c).defaultPrevented){if("ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))W.off(d,"mouseover",w);this._popper&&this._popper.destroy(),this._menu.classList.remove($e),this._element.classList.remove($e),this._element.setAttribute("aria-expanded","false"),vt.removeDataAttribute(this._menu,"popper"),W.trigger(this._element,E,c)}}_getConfig(c){if(typeof(c=super._getConfig(c)).reference=="object"&&!u(c.reference)&&typeof c.reference.getBoundingClientRect!="function")throw new TypeError(`${oa.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return c}_createPopper(){if(en===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let c=this._element;this._config.reference==="parent"?c=this._parent:u(this._config.reference)?c=h(this._config.reference):typeof this._config.reference=="object"&&(c=this._config.reference);const d=this._getPopperConfig();this._popper=br(c,this._menu,d)}_isShown(){return this._menu.classList.contains($e)}_getPlacement(){const c=this._parent;if(c.classList.contains("dropend"))return RE;if(c.classList.contains("dropstart"))return PE;if(c.classList.contains("dropup-center"))return"top";if(c.classList.contains("dropdown-center"))return"bottom";const d=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return c.classList.contains("dropup")?d?ds:fs:d?aa:to}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(d=>Number.parseInt(d,10)):typeof c=="function"?d=>c(d,this._element):c}_getPopperConfig(){const c={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(vt.setDataAttribute(this._menu,"popper","static"),c.modifiers=[{name:"applyStyles",enabled:!1}]),{...c,...ee(this._config.popperConfig,[void 0,c])}}_selectMenuItem({key:c,target:d}){const y=F.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(k=>p(k));y.length&&Te(y,d,c===f,!y.includes(d)).focus()}static jQueryInterface(c){return this.each(function(){const d=Yn.getOrCreateInstance(this,c);if(typeof c=="string"){if(d[c]===void 0)throw new TypeError(`No method named "${c}"`);d[c]()}})}static clearMenus(c){if(c.button===2||c.type==="keyup"&&c.key!=="Tab")return;const d=F.find(xn);for(const y of d){const k=Yn.getInstance(y);if(!k||k._config.autoClose===!1)continue;const O=c.composedPath(),L=O.includes(k._menu);if(O.includes(k._element)||k._config.autoClose==="inside"&&!L||k._config.autoClose==="outside"&&L||k._menu.contains(c.target)&&(c.type==="keyup"&&c.key==="Tab"||/input|select|option|textarea|form/i.test(c.target.tagName)))continue;const G={relatedTarget:k._element};c.type==="click"&&(G.clickEvent=c),k._completeHide(G)}}static dataApiKeydownHandler(c){const d=/input|textarea/i.test(c.target.tagName),y=c.key==="Escape",k=[a,f].includes(c.key);if(!k&&!y||d&&!y)return;c.preventDefault();const O=this.matches(it)?this:F.prev(this,it)[0]||F.next(this,it)[0]||F.findOne(it,c.delegateTarget.parentNode),L=Yn.getOrCreateInstance(O);if(k)return c.stopPropagation(),L.show(),void L._selectMenuItem(c);L._isShown()&&(c.stopPropagation(),L.hide(),O.focus())}}W.on(document,Pe,it,Yn.dataApiKeydownHandler),W.on(document,Pe,Vn,Yn.dataApiKeydownHandler),W.on(document,te,Yn.clearMenus),W.on(document,wt,Yn.clearMenus),W.on(document,te,it,function(g){g.preventDefault(),Yn.getOrCreateInstance(this).toggle()}),K(Yn);const _d="backdrop",yd="show",vd=`mousedown.bs.${_d}`,NE={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DE={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ed extends pt{constructor(c){super(),this._config=this._getConfig(c),this._isAppended=!1,this._element=null}static get Default(){return NE}static get DefaultType(){return DE}static get NAME(){return _d}show(c){if(!this._config.isVisible)return void ee(c);this._append();const d=this._getElement();this._config.isAnimated&&M(d),d.classList.add(yd),this._emulateAnimation(()=>{ee(c)})}hide(c){this._config.isVisible?(this._getElement().classList.remove(yd),this._emulateAnimation(()=>{this.dispose(),ee(c)})):ee(c)}dispose(){this._isAppended&&(W.off(this._element,vd),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const c=document.createElement("div");c.className=this._config.className,this._config.isAnimated&&c.classList.add("fade"),this._element=c}return this._element}_configAfterMerge(c){return c.rootElement=h(c.rootElement),c}_append(){if(this._isAppended)return;const c=this._getElement();this._config.rootElement.append(c),W.on(c,vd,()=>{ee(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(c){re(c,this._getElement(),this._config.isAnimated)}}const kc=".bs.focustrap",xE=`focusin${kc}`,VE=`keydown.tab${kc}`,wd="backward",ME={autofocus:!0,trapElement:null},LE={autofocus:"boolean",trapElement:"element"};class Td extends pt{constructor(c){super(),this._config=this._getConfig(c),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return ME}static get DefaultType(){return LE}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),W.off(document,kc),W.on(document,xE,c=>this._handleFocusin(c)),W.on(document,VE,c=>this._handleKeydown(c)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,W.off(document,kc))}_handleFocusin(c){const{trapElement:d}=this._config;if(c.target===document||c.target===d||d.contains(c.target))return;const y=F.focusableChildren(d);y.length===0?d.focus():this._lastTabNavDirection===wd?y[y.length-1].focus():y[0].focus()}_handleKeydown(c){c.key==="Tab"&&(this._lastTabNavDirection=c.shiftKey?wd:"forward")}}const bd=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Id=".sticky-top",Oc="padding-right",Ad="margin-right";class Ou{constructor(){this._element=document.body}getWidth(){const c=document.documentElement.clientWidth;return Math.abs(window.innerWidth-c)}hide(){const c=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Oc,d=>d+c),this._setElementAttributes(bd,Oc,d=>d+c),this._setElementAttributes(Id,Ad,d=>d-c)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Oc),this._resetElementAttributes(bd,Oc),this._resetElementAttributes(Id,Ad)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(c,d,y){const k=this.getWidth();this._applyManipulationCallback(c,O=>{if(O!==this._element&&window.innerWidth>O.clientWidth+k)return;this._saveInitialAttribute(O,d);const L=window.getComputedStyle(O).getPropertyValue(d);O.style.setProperty(d,`${y(Number.parseFloat(L))}px`)})}_saveInitialAttribute(c,d){const y=c.style.getPropertyValue(d);y&&vt.setDataAttribute(c,d,y)}_resetElementAttributes(c,d){this._applyManipulationCallback(c,y=>{const k=vt.getDataAttribute(y,d);k!==null?(vt.removeDataAttribute(y,d),y.style.setProperty(d,k)):y.style.removeProperty(d)})}_applyManipulationCallback(c,d){if(u(c))d(c);else for(const y of F.find(c,this._element))d(y)}}const Mn=".bs.modal",FE=`hide${Mn}`,UE=`hidePrevented${Mn}`,Sd=`hidden${Mn}`,Cd=`show${Mn}`,jE=`shown${Mn}`,BE=`resize${Mn}`,$E=`click.dismiss${Mn}`,qE=`mousedown.dismiss${Mn}`,HE=`keydown.dismiss${Mn}`,WE=`click${Mn}.data-api`,Rd="modal-open",Pd="show",Nu="modal-static",zE={backdrop:!0,focus:!0,keyboard:!0},KE={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class mi extends U{constructor(c,d){super(c,d),this._dialog=F.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Ou,this._addEventListeners()}static get Default(){return zE}static get DefaultType(){return KE}static get NAME(){return"modal"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||this._isTransitioning||W.trigger(this._element,Cd,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Rd),this._adjustDialog(),this._backdrop.show(()=>this._showElement(c)))}hide(){this._isShown&&!this._isTransitioning&&(W.trigger(this._element,FE).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Pd),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){W.off(window,Mn),W.off(this._dialog,Mn),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ed({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Td({trapElement:this._element})}_showElement(c){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const d=F.findOne(".modal-body",this._dialog);d&&(d.scrollTop=0),M(this._element),this._element.classList.add(Pd),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,W.trigger(this._element,jE,{relatedTarget:c})},this._dialog,this._isAnimated())}_addEventListeners(){W.on(this._element,HE,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),W.on(window,BE,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),W.on(this._element,qE,c=>{W.one(this._element,$E,d=>{this._element===c.target&&this._element===d.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Rd),this._resetAdjustments(),this._scrollBar.reset(),W.trigger(this._element,Sd)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(W.trigger(this._element,UE).defaultPrevented)return;const c=this._element.scrollHeight>document.documentElement.clientHeight,d=this._element.style.overflowY;d==="hidden"||this._element.classList.contains(Nu)||(c||(this._element.style.overflowY="hidden"),this._element.classList.add(Nu),this._queueCallback(()=>{this._element.classList.remove(Nu),this._queueCallback(()=>{this._element.style.overflowY=d},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const c=this._element.scrollHeight>document.documentElement.clientHeight,d=this._scrollBar.getWidth(),y=d>0;if(y&&!c){const k=Q()?"paddingLeft":"paddingRight";this._element.style[k]=`${d}px`}if(!y&&c){const k=Q()?"paddingRight":"paddingLeft";this._element.style[k]=`${d}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(c,d){return this.each(function(){const y=mi.getOrCreateInstance(this,c);if(typeof c=="string"){if(y[c]===void 0)throw new TypeError(`No method named "${c}"`);y[c](d)}})}}W.on(document,WE,'[data-bs-toggle="modal"]',function(g){const c=F.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&g.preventDefault(),W.one(c,Cd,y=>{y.defaultPrevented||W.one(c,Sd,()=>{p(this)&&this.focus()})});const d=F.findOne(".modal.show");d&&mi.getInstance(d).hide(),mi.getOrCreateInstance(c).toggle(this)}),fe(mi),K(mi);const Hs=".bs.offcanvas",kd=".data-api",GE=`load${Hs}${kd}`,Od="show",Nd="showing",Dd="hiding",xd=".offcanvas.show",QE=`show${Hs}`,YE=`shown${Hs}`,XE=`hide${Hs}`,Vd=`hidePrevented${Hs}`,Md=`hidden${Hs}`,JE=`resize${Hs}`,ZE=`click${Hs}${kd}`,ew=`keydown.dismiss${Hs}`,tw={backdrop:!0,keyboard:!0,scroll:!1},nw={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ws extends U{constructor(c,d){super(c,d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return tw}static get DefaultType(){return nw}static get NAME(){return"offcanvas"}toggle(c){return this._isShown?this.hide():this.show(c)}show(c){this._isShown||W.trigger(this._element,QE,{relatedTarget:c}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Ou().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Nd),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Od),this._element.classList.remove(Nd),W.trigger(this._element,YE,{relatedTarget:c})},this._element,!0))}hide(){this._isShown&&(W.trigger(this._element,XE).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Dd),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Od,Dd),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Ou().reset(),W.trigger(this._element,Md)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const c=!!this._config.backdrop;return new Ed({className:"offcanvas-backdrop",isVisible:c,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:c?()=>{this._config.backdrop!=="static"?this.hide():W.trigger(this._element,Vd)}:null})}_initializeFocusTrap(){return new Td({trapElement:this._element})}_addEventListeners(){W.on(this._element,ew,c=>{c.key==="Escape"&&(this._config.keyboard?this.hide():W.trigger(this._element,Vd))})}static jQueryInterface(c){return this.each(function(){const d=Ws.getOrCreateInstance(this,c);if(typeof c=="string"){if(d[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);d[c](this)}})}}W.on(document,ZE,'[data-bs-toggle="offcanvas"]',function(g){const c=F.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&g.preventDefault(),_(this))return;W.one(c,Md,()=>{p(this)&&this.focus()});const d=F.findOne(xd);d&&d!==c&&Ws.getInstance(d).hide(),Ws.getOrCreateInstance(c).toggle(this)}),W.on(window,GE,()=>{for(const g of F.find(xd))Ws.getOrCreateInstance(g).show()}),W.on(window,JE,()=>{for(const g of F.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(g).position!=="fixed"&&Ws.getOrCreateInstance(g).hide()}),fe(Ws),K(Ws);const Ld={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},sw=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),rw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,iw=(g,c)=>{const d=g.nodeName.toLowerCase();return c.includes(d)?!sw.has(d)||!!rw.test(g.nodeValue):c.filter(y=>y instanceof RegExp).some(y=>y.test(d))},ow={allowList:Ld,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},aw={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},cw={entry:"(string|element|function|null)",selector:"(string|element)"};class lw extends pt{constructor(c){super(),this._config=this._getConfig(c)}static get Default(){return ow}static get DefaultType(){return aw}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(c=>this._resolvePossibleFunction(c)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(c){return this._checkContent(c),this._config.content={...this._config.content,...c},this}toHtml(){const c=document.createElement("div");c.innerHTML=this._maybeSanitize(this._config.template);for(const[k,O]of Object.entries(this._config.content))this._setContent(c,O,k);const d=c.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&d.classList.add(...y.split(" ")),d}_typeCheckConfig(c){super._typeCheckConfig(c),this._checkContent(c.content)}_checkContent(c){for(const[d,y]of Object.entries(c))super._typeCheckConfig({selector:d,entry:y},cw)}_setContent(c,d,y){const k=F.findOne(y,c);k&&((d=this._resolvePossibleFunction(d))?u(d)?this._putElementInTemplate(h(d),k):this._config.html?k.innerHTML=this._maybeSanitize(d):k.textContent=d:k.remove())}_maybeSanitize(c){return this._config.sanitize?(function(d,y,k){if(!d.length)return d;if(k&&typeof k=="function")return k(d);const O=new window.DOMParser().parseFromString(d,"text/html"),L=[].concat(...O.body.querySelectorAll("*"));for(const G of L){const ne=G.nodeName.toLowerCase();if(!Object.keys(y).includes(ne)){G.remove();continue}const ue=[].concat(...G.attributes),he=[].concat(y["*"]||[],y[ne]||[]);for(const ce of ue)iw(ce,he)||G.removeAttribute(ce.nodeName)}return O.body.innerHTML})(c,this._config.allowList,this._config.sanitizeFn):c}_resolvePossibleFunction(c){return ee(c,[void 0,this])}_putElementInTemplate(c,d){if(this._config.html)return d.innerHTML="",void d.append(c);d.textContent=c.textContent}}const uw=new Set(["sanitize","allowList","sanitizeFn"]),Du="fade",Nc="show",hw=".tooltip-inner",Fd=".modal",Ud="hide.bs.modal",ca="hover",xu="focus",Vu="click",fw={AUTO:"auto",TOP:"top",RIGHT:Q()?"left":"right",BOTTOM:"bottom",LEFT:Q()?"right":"left"},dw={allowList:Ld,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},pw={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class gi extends U{constructor(c,d){if(en===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(c,d),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return dw}static get DefaultType(){return pw}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),W.off(this._element.closest(Fd),Ud,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const c=W.trigger(this._element,this.constructor.eventName("show")),d=(v(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(c.defaultPrevented||!d)return;this._disposePopper();const y=this._getTipElement();this._element.setAttribute("aria-describedby",y.getAttribute("id"));const{container:k}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(k.append(y),W.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(y),y.classList.add(Nc),"ontouchstart"in document.documentElement)for(const O of[].concat(...document.body.children))W.on(O,"mouseover",w);this._queueCallback(()=>{W.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!W.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Nc),"ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))W.off(c,"mouseover",w);this._activeTrigger[Vu]=!1,this._activeTrigger[xu]=!1,this._activeTrigger[ca]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),W.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(c){const d=this._getTemplateFactory(c).toHtml();if(!d)return null;d.classList.remove(Du,Nc),d.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(k=>{do k+=Math.floor(1e6*Math.random());while(document.getElementById(k));return k})(this.constructor.NAME).toString();return d.setAttribute("id",y),this._isAnimated()&&d.classList.add(Du),d}setContent(c){this._newContent=c,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(c){return this._templateFactory?this._templateFactory.changeContent(c):this._templateFactory=new lw({...this._config,content:c,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[hw]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(c){return this.constructor.getOrCreateInstance(c.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Du)}_isShown(){return this.tip&&this.tip.classList.contains(Nc)}_createPopper(c){const d=ee(this._config.placement,[this,c,this._element]),y=fw[d.toUpperCase()];return br(this._element,c,this._getPopperConfig(y))}_getOffset(){const{offset:c}=this._config;return typeof c=="string"?c.split(",").map(d=>Number.parseInt(d,10)):typeof c=="function"?d=>c(d,this._element):c}_resolvePossibleFunction(c){return ee(c,[this._element,this._element])}_getPopperConfig(c){const d={placement:c,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...d,...ee(this._config.popperConfig,[void 0,d])}}_setListeners(){const c=this._config.trigger.split(" ");for(const d of c)if(d==="click")W.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{const k=this._initializeOnDelegatedTarget(y);k._activeTrigger[Vu]=!(k._isShown()&&k._activeTrigger[Vu]),k.toggle()});else if(d!=="manual"){const y=d===ca?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),k=d===ca?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");W.on(this._element,y,this._config.selector,O=>{const L=this._initializeOnDelegatedTarget(O);L._activeTrigger[O.type==="focusin"?xu:ca]=!0,L._enter()}),W.on(this._element,k,this._config.selector,O=>{const L=this._initializeOnDelegatedTarget(O);L._activeTrigger[O.type==="focusout"?xu:ca]=L._element.contains(O.relatedTarget),L._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},W.on(this._element.closest(Fd),Ud,this._hideModalHandler)}_fixTitle(){const c=this._element.getAttribute("title");c&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",c),this._element.setAttribute("data-bs-original-title",c),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(c,d){clearTimeout(this._timeout),this._timeout=setTimeout(c,d)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(c){const d=vt.getDataAttributes(this._element);for(const y of Object.keys(d))uw.has(y)&&delete d[y];return c={...d,...typeof c=="object"&&c?c:{}},c=this._mergeConfigObj(c),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}_configAfterMerge(c){return c.container=c.container===!1?document.body:h(c.container),typeof c.delay=="number"&&(c.delay={show:c.delay,hide:c.delay}),typeof c.title=="number"&&(c.title=c.title.toString()),typeof c.content=="number"&&(c.content=c.content.toString()),c}_getDelegateConfig(){const c={};for(const[d,y]of Object.entries(this._config))this.constructor.Default[d]!==y&&(c[d]=y);return c.selector=!1,c.trigger="manual",c}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(c){return this.each(function(){const d=gi.getOrCreateInstance(this,c);if(typeof c=="string"){if(d[c]===void 0)throw new TypeError(`No method named "${c}"`);d[c]()}})}}K(gi);const mw=".popover-header",gw=".popover-body",_w={...gi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},yw={...gi.DefaultType,content:"(null|string|element|function)"};class Dc extends gi{static get Default(){return _w}static get DefaultType(){return yw}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[mw]:this._getTitle(),[gw]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(c){return this.each(function(){const d=Dc.getOrCreateInstance(this,c);if(typeof c=="string"){if(d[c]===void 0)throw new TypeError(`No method named "${c}"`);d[c]()}})}}K(Dc);const Mu=".bs.scrollspy",vw=`activate${Mu}`,jd=`click${Mu}`,Ew=`load${Mu}.data-api`,no="active",Lu="[href]",Bd=".nav-link",ww=`${Bd}, .nav-item > ${Bd}, .list-group-item`,Tw={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},bw={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class la extends U{constructor(c,d){super(c,d),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Tw}static get DefaultType(){return bw}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const c of this._observableSections.values())this._observer.observe(c)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(c){return c.target=h(c.target)||document.body,c.rootMargin=c.offset?`${c.offset}px 0px -30%`:c.rootMargin,typeof c.threshold=="string"&&(c.threshold=c.threshold.split(",").map(d=>Number.parseFloat(d))),c}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(W.off(this._config.target,jd),W.on(this._config.target,jd,Lu,c=>{const d=this._observableSections.get(c.target.hash);if(d){c.preventDefault();const y=this._rootElement||window,k=d.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:k,behavior:"smooth"});y.scrollTop=k}}))}_getNewObserver(){const c={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(d=>this._observerCallback(d),c)}_observerCallback(c){const d=L=>this._targetLinks.get(`#${L.target.id}`),y=L=>{this._previousScrollData.visibleEntryTop=L.target.offsetTop,this._process(d(L))},k=(this._rootElement||document.documentElement).scrollTop,O=k>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=k;for(const L of c){if(!L.isIntersecting){this._activeTarget=null,this._clearActiveClass(d(L));continue}const G=L.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(O&&G){if(y(L),!k)return}else O||G||y(L)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const c=F.find(Lu,this._config.target);for(const d of c){if(!d.hash||_(d))continue;const y=F.findOne(decodeURI(d.hash),this._element);p(y)&&(this._targetLinks.set(decodeURI(d.hash),d),this._observableSections.set(d.hash,y))}}_process(c){this._activeTarget!==c&&(this._clearActiveClass(this._config.target),this._activeTarget=c,c.classList.add(no),this._activateParents(c),W.trigger(this._element,vw,{relatedTarget:c}))}_activateParents(c){if(c.classList.contains("dropdown-item"))F.findOne(".dropdown-toggle",c.closest(".dropdown")).classList.add(no);else for(const d of F.parents(c,".nav, .list-group"))for(const y of F.prev(d,ww))y.classList.add(no)}_clearActiveClass(c){c.classList.remove(no);const d=F.find(`${Lu}.${no}`,c);for(const y of d)y.classList.remove(no)}static jQueryInterface(c){return this.each(function(){const d=la.getOrCreateInstance(this,c);if(typeof c=="string"){if(d[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);d[c]()}})}}W.on(window,Ew,()=>{for(const g of F.find('[data-bs-spy="scroll"]'))la.getOrCreateInstance(g)}),K(la);const _i=".bs.tab",Iw=`hide${_i}`,Aw=`hidden${_i}`,Sw=`show${_i}`,Cw=`shown${_i}`,Rw=`click${_i}`,Pw=`keydown${_i}`,kw=`load${_i}`,Ow="ArrowLeft",$d="ArrowRight",Nw="ArrowUp",qd="ArrowDown",Fu="Home",Hd="End",yi="active",Wd="fade",Uu="show",zd=".dropdown-toggle",ju=`:not(${zd})`,Kd='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Bu=`.nav-link${ju}, .list-group-item${ju}, [role="tab"]${ju}, ${Kd}`,Dw=`.${yi}[data-bs-toggle="tab"], .${yi}[data-bs-toggle="pill"], .${yi}[data-bs-toggle="list"]`;class vi extends U{constructor(c){super(c),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),W.on(this._element,Pw,d=>this._keydown(d)))}static get NAME(){return"tab"}show(){const c=this._element;if(this._elemIsActive(c))return;const d=this._getActiveElem(),y=d?W.trigger(d,Iw,{relatedTarget:c}):null;W.trigger(c,Sw,{relatedTarget:d}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(d,c),this._activate(c,d))}_activate(c,d){c&&(c.classList.add(yi),this._activate(F.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.removeAttribute("tabindex"),c.setAttribute("aria-selected",!0),this._toggleDropDown(c,!0),W.trigger(c,Cw,{relatedTarget:d})):c.classList.add(Uu)},c,c.classList.contains(Wd)))}_deactivate(c,d){c&&(c.classList.remove(yi),c.blur(),this._deactivate(F.getElementFromSelector(c)),this._queueCallback(()=>{c.getAttribute("role")==="tab"?(c.setAttribute("aria-selected",!1),c.setAttribute("tabindex","-1"),this._toggleDropDown(c,!1),W.trigger(c,Aw,{relatedTarget:d})):c.classList.remove(Uu)},c,c.classList.contains(Wd)))}_keydown(c){if(![Ow,$d,Nw,qd,Fu,Hd].includes(c.key))return;c.stopPropagation(),c.preventDefault();const d=this._getChildren().filter(k=>!_(k));let y;if([Fu,Hd].includes(c.key))y=d[c.key===Fu?0:d.length-1];else{const k=[$d,qd].includes(c.key);y=Te(d,c.target,k,!0)}y&&(y.focus({preventScroll:!0}),vi.getOrCreateInstance(y).show())}_getChildren(){return F.find(Bu,this._parent)}_getActiveElem(){return this._getChildren().find(c=>this._elemIsActive(c))||null}_setInitialAttributes(c,d){this._setAttributeIfNotExists(c,"role","tablist");for(const y of d)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(c){c=this._getInnerElement(c);const d=this._elemIsActive(c),y=this._getOuterElement(c);c.setAttribute("aria-selected",d),y!==c&&this._setAttributeIfNotExists(y,"role","presentation"),d||c.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(c,"role","tab"),this._setInitialAttributesOnTargetPanel(c)}_setInitialAttributesOnTargetPanel(c){const d=F.getElementFromSelector(c);d&&(this._setAttributeIfNotExists(d,"role","tabpanel"),c.id&&this._setAttributeIfNotExists(d,"aria-labelledby",`${c.id}`))}_toggleDropDown(c,d){const y=this._getOuterElement(c);if(!y.classList.contains("dropdown"))return;const k=(O,L)=>{const G=F.findOne(O,y);G&&G.classList.toggle(L,d)};k(zd,yi),k(".dropdown-menu",Uu),y.setAttribute("aria-expanded",d)}_setAttributeIfNotExists(c,d,y){c.hasAttribute(d)||c.setAttribute(d,y)}_elemIsActive(c){return c.classList.contains(yi)}_getInnerElement(c){return c.matches(Bu)?c:F.findOne(Bu,c)}_getOuterElement(c){return c.closest(".nav-item, .list-group-item")||c}static jQueryInterface(c){return this.each(function(){const d=vi.getOrCreateInstance(this);if(typeof c=="string"){if(d[c]===void 0||c.startsWith("_")||c==="constructor")throw new TypeError(`No method named "${c}"`);d[c]()}})}}W.on(document,Rw,Kd,function(g){["A","AREA"].includes(this.tagName)&&g.preventDefault(),_(this)||vi.getOrCreateInstance(this).show()}),W.on(window,kw,()=>{for(const g of F.find(Dw))vi.getOrCreateInstance(g)}),K(vi);const Ir=".bs.toast",xw=`mouseover${Ir}`,Vw=`mouseout${Ir}`,Mw=`focusin${Ir}`,Lw=`focusout${Ir}`,Fw=`hide${Ir}`,Uw=`hidden${Ir}`,jw=`show${Ir}`,Bw=`shown${Ir}`,Gd="hide",xc="show",Vc="showing",$w={animation:"boolean",autohide:"boolean",delay:"number"},qw={animation:!0,autohide:!0,delay:5e3};class ua extends U{constructor(c,d){super(c,d),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return qw}static get DefaultType(){return $w}static get NAME(){return"toast"}show(){W.trigger(this._element,jw).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Gd),M(this._element),this._element.classList.add(xc,Vc),this._queueCallback(()=>{this._element.classList.remove(Vc),W.trigger(this._element,Bw),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(W.trigger(this._element,Fw).defaultPrevented||(this._element.classList.add(Vc),this._queueCallback(()=>{this._element.classList.add(Gd),this._element.classList.remove(Vc,xc),W.trigger(this._element,Uw)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(xc),super.dispose()}isShown(){return this._element.classList.contains(xc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(c,d){switch(c.type){case"mouseover":case"mouseout":this._hasMouseInteraction=d;break;case"focusin":case"focusout":this._hasKeyboardInteraction=d}if(d)return void this._clearTimeout();const y=c.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){W.on(this._element,xw,c=>this._onInteraction(c,!0)),W.on(this._element,Vw,c=>this._onInteraction(c,!1)),W.on(this._element,Mw,c=>this._onInteraction(c,!0)),W.on(this._element,Lw,c=>this._onInteraction(c,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(c){return this.each(function(){const d=ua.getOrCreateInstance(this,c);if(typeof c=="string"){if(d[c]===void 0)throw new TypeError(`No method named "${c}"`);d[c](this)}})}}return fe(ua),K(ua),{Alert:N,Button:H,Carousel:pr,Collapse:Ms,Dropdown:Yn,Modal:mi,Offcanvas:Ws,Popover:Dc,ScrollSpy:la,Tab:vi,Toast:ua,Tooltip:gi}})})(Yc)),Yc.exports}Zw();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function sf(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const st={},fo=[],ws=()=>{},kg=()=>!1,$l=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),rf=t=>t.startsWith("onUpdate:"),cn=Object.assign,of=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},eT=Object.prototype.hasOwnProperty,Qe=(t,e)=>eT.call(t,e),ye=Array.isArray,po=t=>sc(t)==="[object Map]",xo=t=>sc(t)==="[object Set]",cp=t=>sc(t)==="[object Date]",ke=t=>typeof t=="function",kt=t=>typeof t=="string",Ps=t=>typeof t=="symbol",rt=t=>t!==null&&typeof t=="object",Og=t=>(rt(t)||ke(t))&&ke(t.then)&&ke(t.catch),Ng=Object.prototype.toString,sc=t=>Ng.call(t),tT=t=>sc(t).slice(8,-1),Dg=t=>sc(t)==="[object Object]",af=t=>kt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ia=sf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ql=t=>{const e=Object.create(null);return(n=>e[n]||(e[n]=t(n)))},nT=/-\w/g,Wn=ql(t=>t.replace(nT,e=>e.slice(1).toUpperCase())),sT=/\B([A-Z])/g,Fi=ql(t=>t.replace(sT,"-$1").toLowerCase()),Hl=ql(t=>t.charAt(0).toUpperCase()+t.slice(1)),Wu=ql(t=>t?`on${Hl(t)}`:""),Mr=(t,e)=>!Object.is(t,e),Xc=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},xg=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},dl=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let lp;const Wl=()=>lp||(lp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cf(t){if(ye(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=kt(s)?aT(s):cf(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(kt(t)||rt(t))return t}const rT=/;(?![^(]*\))/g,iT=/:([^]+)/,oT=/\/\*[^]*?\*\//g;function aT(t){const e={};return t.replace(oT,"").split(rT).forEach(n=>{if(n){const s=n.split(iT);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function zl(t){let e="";if(kt(t))e=t;else if(ye(t))for(let n=0;n<t.length;n++){const s=zl(t[n]);s&&(e+=s+" ")}else if(rt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const cT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lT=sf(cT);function Vg(t){return!!t||t===""}function uT(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=ki(t[s],e[s]);return n}function ki(t,e){if(t===e)return!0;let n=cp(t),s=cp(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Ps(t),s=Ps(e),n||s)return t===e;if(n=ye(t),s=ye(e),n||s)return n&&s?uT(t,e):!1;if(n=rt(t),s=rt(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const l=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(l&&!u||!l&&u||!ki(t[o],e[o]))return!1}}return String(t)===String(e)}function lf(t,e){return t.findIndex(n=>ki(n,e))}const Mg=t=>!!(t&&t.__v_isRef===!0),Kl=t=>kt(t)?t:t==null?"":ye(t)||rt(t)&&(t.toString===Ng||!ke(t.toString))?Mg(t)?Kl(t.value):JSON.stringify(t,Lg,2):String(t),Lg=(t,e)=>Mg(e)?Lg(t,e.value):po(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[zu(s,i)+" =>"]=r,n),{})}:xo(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>zu(n))}:Ps(e)?zu(e):rt(e)&&!ye(e)&&!Dg(e)?String(e):e,zu=(t,e="")=>{var n;return Ps(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let En;class hT{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=En,!e&&En&&(this.index=(En.scopes||(En.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=En;try{return En=this,e()}finally{En=n}}}on(){++this._on===1&&(this.prevScope=En,En=this)}off(){this._on>0&&--this._on===0&&(En=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function fT(){return En}let at;const Ku=new WeakSet;class Fg{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,En&&En.active&&En.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ku.has(this)&&(Ku.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,up(this),Bg(this);const e=at,n=Zn;at=this,Zn=!0;try{return this.fn()}finally{$g(this),at=e,Zn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ff(e);this.deps=this.depsTail=void 0,up(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ku.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){gh(this)&&this.run()}get dirty(){return gh(this)}}let Ug=0,Aa,Sa;function jg(t,e=!1){if(t.flags|=8,e){t.next=Sa,Sa=t;return}t.next=Aa,Aa=t}function uf(){Ug++}function hf(){if(--Ug>0)return;if(Sa){let e=Sa;for(Sa=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Aa;){let e=Aa;for(Aa=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function Bg(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function $g(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),ff(s),dT(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function gh(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(qg(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function qg(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ja)||(t.globalVersion=ja,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!gh(t))))return;t.flags|=2;const e=t.dep,n=at,s=Zn;at=t,Zn=!0;try{Bg(t);const r=t.fn(t._value);(e.version===0||Mr(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{at=n,Zn=s,$g(t),t.flags&=-3}}function ff(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)ff(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function dT(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Zn=!0;const Hg=[];function tr(){Hg.push(Zn),Zn=!1}function nr(){const t=Hg.pop();Zn=t===void 0?!0:t}function up(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=at;at=void 0;try{e()}finally{at=n}}}let ja=0;class pT{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class df{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!at||!Zn||at===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==at)n=this.activeLink=new pT(at,this),at.deps?(n.prevDep=at.depsTail,at.depsTail.nextDep=n,at.depsTail=n):at.deps=at.depsTail=n,Wg(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=at.depsTail,n.nextDep=void 0,at.depsTail.nextDep=n,at.depsTail=n,at.deps===n&&(at.deps=s)}return n}trigger(e){this.version++,ja++,this.notify(e)}notify(e){uf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{hf()}}}function Wg(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Wg(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const _h=new WeakMap,Ri=Symbol(""),yh=Symbol(""),Ba=Symbol("");function sn(t,e,n){if(Zn&&at){let s=_h.get(t);s||_h.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new df),r.map=s,r.key=n),r.track()}}function Qs(t,e,n,s,r,i){const o=_h.get(t);if(!o){ja++;return}const l=u=>{u&&u.trigger()};if(uf(),e==="clear")o.forEach(l);else{const u=ye(t),h=u&&af(n);if(u&&n==="length"){const p=Number(s);o.forEach((_,v)=>{(v==="length"||v===Ba||!Ps(v)&&v>=p)&&l(_)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),h&&l(o.get(Ba)),e){case"add":u?h&&l(o.get("length")):(l(o.get(Ri)),po(t)&&l(o.get(yh)));break;case"delete":u||(l(o.get(Ri)),po(t)&&l(o.get(yh)));break;case"set":po(t)&&l(o.get(Ri));break}}hf()}function ro(t){const e=Ge(t);return e===t?e:(sn(e,"iterate",Ba),qn(t)?e:e.map(zt))}function Gl(t){return sn(t=Ge(t),"iterate",Ba),t}const mT={__proto__:null,[Symbol.iterator](){return Gu(this,Symbol.iterator,zt)},concat(...t){return ro(this).concat(...t.map(e=>ye(e)?ro(e):e))},entries(){return Gu(this,"entries",t=>(t[1]=zt(t[1]),t))},every(t,e){return zs(this,"every",t,e,void 0,arguments)},filter(t,e){return zs(this,"filter",t,e,n=>n.map(zt),arguments)},find(t,e){return zs(this,"find",t,e,zt,arguments)},findIndex(t,e){return zs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return zs(this,"findLast",t,e,zt,arguments)},findLastIndex(t,e){return zs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return zs(this,"forEach",t,e,void 0,arguments)},includes(...t){return Qu(this,"includes",t)},indexOf(...t){return Qu(this,"indexOf",t)},join(t){return ro(this).join(t)},lastIndexOf(...t){return Qu(this,"lastIndexOf",t)},map(t,e){return zs(this,"map",t,e,void 0,arguments)},pop(){return ha(this,"pop")},push(...t){return ha(this,"push",t)},reduce(t,...e){return hp(this,"reduce",t,e)},reduceRight(t,...e){return hp(this,"reduceRight",t,e)},shift(){return ha(this,"shift")},some(t,e){return zs(this,"some",t,e,void 0,arguments)},splice(...t){return ha(this,"splice",t)},toReversed(){return ro(this).toReversed()},toSorted(t){return ro(this).toSorted(t)},toSpliced(...t){return ro(this).toSpliced(...t)},unshift(...t){return ha(this,"unshift",t)},values(){return Gu(this,"values",zt)}};function Gu(t,e,n){const s=Gl(t),r=s[e]();return s!==t&&!qn(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=n(i.value)),i}),r}const gT=Array.prototype;function zs(t,e,n,s,r,i){const o=Gl(t),l=o!==t&&!qn(t),u=o[e];if(u!==gT[e]){const _=u.apply(t,i);return l?zt(_):_}let h=n;o!==t&&(l?h=function(_,v){return n.call(this,zt(_),v,t)}:n.length>2&&(h=function(_,v){return n.call(this,_,v,t)}));const p=u.call(o,h,s);return l&&r?r(p):p}function hp(t,e,n,s){const r=Gl(t);let i=n;return r!==t&&(qn(t)?n.length>3&&(i=function(o,l,u){return n.call(this,o,l,u,t)}):i=function(o,l,u){return n.call(this,o,zt(l),u,t)}),r[e](i,...s)}function Qu(t,e,n){const s=Ge(t);sn(s,"iterate",Ba);const r=s[e](...n);return(r===-1||r===!1)&&gf(n[0])?(n[0]=Ge(n[0]),s[e](...n)):r}function ha(t,e,n=[]){tr(),uf();const s=Ge(t)[e].apply(t,n);return hf(),nr(),s}const _T=sf("__proto__,__v_isRef,__isVue"),zg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ps));function yT(t){Ps(t)||(t=String(t));const e=Ge(this);return sn(e,"has",t),e.hasOwnProperty(t)}class Kg{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?RT:Xg:i?Yg:Qg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=ye(e);if(!r){let u;if(o&&(u=mT[n]))return u;if(n==="hasOwnProperty")return yT}const l=Reflect.get(e,n,an(e)?e:s);if((Ps(n)?zg.has(n):_T(n))||(r||sn(e,"get",n),i))return l;if(an(l)){const u=o&&af(n)?l:l.value;return r&&rt(u)?Eh(u):u}return rt(l)?r?Eh(l):rc(l):l}}class Gg extends Kg{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const u=qr(i);if(!qn(s)&&!qr(s)&&(i=Ge(i),s=Ge(s)),!ye(e)&&an(i)&&!an(s))return u||(i.value=s),!0}const o=ye(e)&&af(n)?Number(n)<e.length:Qe(e,n),l=Reflect.set(e,n,s,an(e)?e:r);return e===Ge(r)&&(o?Mr(s,i)&&Qs(e,"set",n,s):Qs(e,"add",n,s)),l}deleteProperty(e,n){const s=Qe(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&Qs(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!Ps(n)||!zg.has(n))&&sn(e,"has",n),s}ownKeys(e){return sn(e,"iterate",ye(e)?"length":Ri),Reflect.ownKeys(e)}}class vT extends Kg{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ET=new Gg,wT=new vT,TT=new Gg(!0);const vh=t=>t,Uc=t=>Reflect.getPrototypeOf(t);function bT(t,e,n){return function(...s){const r=this.__v_raw,i=Ge(r),o=po(i),l=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,h=r[t](...s),p=n?vh:e?pl:zt;return!e&&sn(i,"iterate",u?yh:Ri),{next(){const{value:_,done:v}=h.next();return v?{value:_,done:v}:{value:l?[p(_[0]),p(_[1])]:p(_),done:v}},[Symbol.iterator](){return this}}}}function jc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function IT(t,e){const n={get(r){const i=this.__v_raw,o=Ge(i),l=Ge(r);t||(Mr(r,l)&&sn(o,"get",r),sn(o,"get",l));const{has:u}=Uc(o),h=e?vh:t?pl:zt;if(u.call(o,r))return h(i.get(r));if(u.call(o,l))return h(i.get(l));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&sn(Ge(r),"iterate",Ri),r.size},has(r){const i=this.__v_raw,o=Ge(i),l=Ge(r);return t||(Mr(r,l)&&sn(o,"has",r),sn(o,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const o=this,l=o.__v_raw,u=Ge(l),h=e?vh:t?pl:zt;return!t&&sn(u,"iterate",Ri),l.forEach((p,_)=>r.call(i,h(p),h(_),o))}};return cn(n,t?{add:jc("add"),set:jc("set"),delete:jc("delete"),clear:jc("clear")}:{add(r){!e&&!qn(r)&&!qr(r)&&(r=Ge(r));const i=Ge(this);return Uc(i).has.call(i,r)||(i.add(r),Qs(i,"add",r,r)),this},set(r,i){!e&&!qn(i)&&!qr(i)&&(i=Ge(i));const o=Ge(this),{has:l,get:u}=Uc(o);let h=l.call(o,r);h||(r=Ge(r),h=l.call(o,r));const p=u.call(o,r);return o.set(r,i),h?Mr(i,p)&&Qs(o,"set",r,i):Qs(o,"add",r,i),this},delete(r){const i=Ge(this),{has:o,get:l}=Uc(i);let u=o.call(i,r);u||(r=Ge(r),u=o.call(i,r)),l&&l.call(i,r);const h=i.delete(r);return u&&Qs(i,"delete",r,void 0),h},clear(){const r=Ge(this),i=r.size!==0,o=r.clear();return i&&Qs(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=bT(r,t,e)}),n}function pf(t,e){const n=IT(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Qe(n,r)&&r in s?n:s,r,i)}const AT={get:pf(!1,!1)},ST={get:pf(!1,!0)},CT={get:pf(!0,!1)};const Qg=new WeakMap,Yg=new WeakMap,Xg=new WeakMap,RT=new WeakMap;function PT(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kT(t){return t.__v_skip||!Object.isExtensible(t)?0:PT(tT(t))}function rc(t){return qr(t)?t:mf(t,!1,ET,AT,Qg)}function Jg(t){return mf(t,!1,TT,ST,Yg)}function Eh(t){return mf(t,!0,wT,CT,Xg)}function mf(t,e,n,s,r){if(!rt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=kT(t);if(i===0)return t;const o=r.get(t);if(o)return o;const l=new Proxy(t,i===2?s:n);return r.set(t,l),l}function mo(t){return qr(t)?mo(t.__v_raw):!!(t&&t.__v_isReactive)}function qr(t){return!!(t&&t.__v_isReadonly)}function qn(t){return!!(t&&t.__v_isShallow)}function gf(t){return t?!!t.__v_raw:!1}function Ge(t){const e=t&&t.__v_raw;return e?Ge(e):t}function OT(t){return!Qe(t,"__v_skip")&&Object.isExtensible(t)&&xg(t,"__v_skip",!0),t}const zt=t=>rt(t)?rc(t):t,pl=t=>rt(t)?Eh(t):t;function an(t){return t?t.__v_isRef===!0:!1}function Zg(t){return e_(t,!1)}function NT(t){return e_(t,!0)}function e_(t,e){return an(t)?t:new DT(t,e)}class DT{constructor(e,n){this.dep=new df,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ge(e),this._value=n?e:zt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||qn(e)||qr(e);e=s?e:Ge(e),Mr(e,n)&&(this._rawValue=e,this._value=s?e:zt(e),this.dep.trigger())}}function _n(t){return an(t)?t.value:t}const xT={get:(t,e,n)=>e==="__v_raw"?t:_n(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return an(r)&&!an(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function t_(t){return mo(t)?t:new Proxy(t,xT)}class VT{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new df(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ja-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&at!==this)return jg(this,!0),!0}get value(){const e=this.dep.track();return qg(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function MT(t,e,n=!1){let s,r;return ke(t)?s=t:(s=t.get,r=t.set),new VT(s,r,n)}const Bc={},ml=new WeakMap;let bi;function LT(t,e=!1,n=bi){if(n){let s=ml.get(n);s||ml.set(n,s=[]),s.push(t)}}function FT(t,e,n=st){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:l,call:u}=n,h=re=>r?re:qn(re)||r===!1||r===0?Ys(re,1):Ys(re);let p,_,v,w,M=!1,B=!1;if(an(t)?(_=()=>t.value,M=qn(t)):mo(t)?(_=()=>h(t),M=!0):ye(t)?(B=!0,M=t.some(re=>mo(re)||qn(re)),_=()=>t.map(re=>{if(an(re))return re.value;if(mo(re))return h(re);if(ke(re))return u?u(re,2):re()})):ke(t)?e?_=u?()=>u(t,2):t:_=()=>{if(v){tr();try{v()}finally{nr()}}const re=bi;bi=p;try{return u?u(t,3,[w]):t(w)}finally{bi=re}}:_=ws,e&&r){const re=_,Te=r===!0?1/0:r;_=()=>Ys(re(),Te)}const $=fT(),Q=()=>{p.stop(),$&&$.active&&of($.effects,p)};if(i&&e){const re=e;e=(...Te)=>{re(...Te),Q()}}let K=B?new Array(t.length).fill(Bc):Bc;const ee=re=>{if(!(!(p.flags&1)||!p.dirty&&!re))if(e){const Te=p.run();if(r||M||(B?Te.some((Ve,C)=>Mr(Ve,K[C])):Mr(Te,K))){v&&v();const Ve=bi;bi=p;try{const C=[Te,K===Bc?void 0:B&&K[0]===Bc?[]:K,w];K=Te,u?u(e,3,C):e(...C)}finally{bi=Ve}}}else p.run()};return l&&l(ee),p=new Fg(_),p.scheduler=o?()=>o(ee,!1):ee,w=re=>LT(re,!1,p),v=p.onStop=()=>{const re=ml.get(p);if(re){if(u)u(re,4);else for(const Te of re)Te();ml.delete(p)}},e?s?ee(!0):K=p.run():o?o(ee.bind(null,!0),!0):p.run(),Q.pause=p.pause.bind(p),Q.resume=p.resume.bind(p),Q.stop=Q,Q}function Ys(t,e=1/0,n){if(e<=0||!rt(t)||t.__v_skip||(n=n||new Map,(n.get(t)||0)>=e))return t;if(n.set(t,e),e--,an(t))Ys(t.value,e,n);else if(ye(t))for(let s=0;s<t.length;s++)Ys(t[s],e,n);else if(xo(t)||po(t))t.forEach(s=>{Ys(s,e,n)});else if(Dg(t)){for(const s in t)Ys(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Ys(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ic(t,e,n,s){try{return s?t(...s):t()}catch(r){Ql(r,e,n)}}function ks(t,e,n,s){if(ke(t)){const r=ic(t,e,n,s);return r&&Og(r)&&r.catch(i=>{Ql(i,e,n)}),r}if(ye(t)){const r=[];for(let i=0;i<t.length;i++)r.push(ks(t[i],e,n,s));return r}}function Ql(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||st;if(e){let l=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const p=l.ec;if(p){for(let _=0;_<p.length;_++)if(p[_](t,u,h)===!1)return}l=l.parent}if(i){tr(),ic(i,null,10,[t,u,h]),nr();return}}UT(t,n,r,s,o)}function UT(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const gn=[];let _s=-1;const go=[];let Rr=null,io=0;const n_=Promise.resolve();let gl=null;function _f(t){const e=gl||n_;return t?e.then(this?t.bind(this):t):e}function jT(t){let e=_s+1,n=gn.length;for(;e<n;){const s=e+n>>>1,r=gn[s],i=$a(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function yf(t){if(!(t.flags&1)){const e=$a(t),n=gn[gn.length-1];!n||!(t.flags&2)&&e>=$a(n)?gn.push(t):gn.splice(jT(e),0,t),t.flags|=1,s_()}}function s_(){gl||(gl=n_.then(i_))}function BT(t){ye(t)?go.push(...t):Rr&&t.id===-1?Rr.splice(io+1,0,t):t.flags&1||(go.push(t),t.flags|=1),s_()}function fp(t,e,n=_s+1){for(;n<gn.length;n++){const s=gn[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;gn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function r_(t){if(go.length){const e=[...new Set(go)].sort((n,s)=>$a(n)-$a(s));if(go.length=0,Rr){Rr.push(...e);return}for(Rr=e,io=0;io<Rr.length;io++){const n=Rr[io];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Rr=null,io=0}}const $a=t=>t.id==null?t.flags&2?-1:1/0:t.id;function i_(t){try{for(_s=0;_s<gn.length;_s++){const e=gn[_s];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ic(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;_s<gn.length;_s++){const e=gn[_s];e&&(e.flags&=-2)}_s=-1,gn.length=0,r_(),gl=null,(gn.length||go.length)&&i_()}}let Cn=null,o_=null;function _l(t){const e=Cn;return Cn=t,o_=t&&t.type.__scopeId||null,e}function ma(t,e=Cn,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&El(-1);const i=_l(e);let o;try{o=t(...r)}finally{_l(i),s._d&&El(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function j1(t,e){if(Cn===null)return t;const n=Zl(Cn),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,l,u=st]=e[r];i&&(ke(i)&&(i={mounted:i,updated:i}),i.deep&&Ys(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:u}))}return t}function wi(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const l=r[o];i&&(l.oldValue=i[o].value);let u=l.dir[s];u&&(tr(),ks(u,n,8,[t.el,l,t,e]),nr())}}const $T=Symbol("_vte"),qT=t=>t.__isTeleport,HT=Symbol("_leaveCb");function vf(t,e){t.shapeFlag&6&&t.component?(t.transition=e,vf(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function a_(t,e){return ke(t)?cn({name:t.name},e,{setup:t}):t}function c_(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const yl=new WeakMap;function Ca(t,e,n,s,r=!1){if(ye(t)){t.forEach((M,B)=>Ca(M,e&&(ye(e)?e[B]:e),n,s,r));return}if(Ra(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ca(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Zl(s.component):s.el,o=r?null:i,{i:l,r:u}=t,h=e&&e.r,p=l.refs===st?l.refs={}:l.refs,_=l.setupState,v=Ge(_),w=_===st?kg:M=>Qe(v,M);if(h!=null&&h!==u){if(dp(e),kt(h))p[h]=null,w(h)&&(_[h]=null);else if(an(h)){h.value=null;const M=e;M.k&&(p[M.k]=null)}}if(ke(u))ic(u,l,12,[o,p]);else{const M=kt(u),B=an(u);if(M||B){const $=()=>{if(t.f){const Q=M?w(u)?_[u]:p[u]:u.value;if(r)ye(Q)&&of(Q,i);else if(ye(Q))Q.includes(i)||Q.push(i);else if(M)p[u]=[i],w(u)&&(_[u]=p[u]);else{const K=[i];u.value=K,t.k&&(p[t.k]=K)}}else M?(p[u]=o,w(u)&&(_[u]=o)):B&&(u.value=o,t.k&&(p[t.k]=o))};if(o){const Q=()=>{$(),yl.delete(t)};Q.id=-1,yl.set(t,Q),Sn(Q,n)}else dp(t),$()}}}function dp(t){const e=yl.get(t);e&&(e.flags|=8,yl.delete(t))}Wl().requestIdleCallback;Wl().cancelIdleCallback;const Ra=t=>!!t.type.__asyncLoader,l_=t=>t.type.__isKeepAlive;function WT(t,e){u_(t,"a",e)}function zT(t,e){u_(t,"da",e)}function u_(t,e,n=on){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Yl(e,s,n),n){let r=n.parent;for(;r&&r.parent;)l_(r.parent.vnode)&&KT(s,e,n,r),r=r.parent}}function KT(t,e,n,s){const r=Yl(e,t,s,!0);d_(()=>{of(s[e],r)},n)}function Yl(t,e,n=on,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{tr();const l=oc(n),u=ks(e,n,t,o);return l(),nr(),u});return s?r.unshift(i):r.push(i),i}}const ar=t=>(e,n=on)=>{(!Ha||t==="sp")&&Yl(t,(...s)=>e(...s),n)},GT=ar("bm"),h_=ar("m"),QT=ar("bu"),YT=ar("u"),f_=ar("bum"),d_=ar("um"),XT=ar("sp"),JT=ar("rtg"),ZT=ar("rtc");function eb(t,e=on){Yl("ec",t,e)}const tb="components";function nb(t,e){return rb(tb,t,!0,e)||t}const sb=Symbol.for("v-ndc");function rb(t,e,n=!0,s=!1){const r=Cn||on;if(r){const i=r.type;{const l=Kb(i,!1);if(l&&(l===e||l===Wn(e)||l===Hl(Wn(e))))return i}const o=pp(r[t]||i[t],e)||pp(r.appContext[t],e);return!o&&s?i:o}}function pp(t,e){return t&&(t[e]||t[Wn(e)]||t[Hl(Wn(e))])}function ib(t,e,n,s){let r;const i=n,o=ye(t);if(o||kt(t)){const l=o&&mo(t);let u=!1,h=!1;l&&(u=!qn(t),h=qr(t),t=Gl(t)),r=new Array(t.length);for(let p=0,_=t.length;p<_;p++)r[p]=e(u?h?pl(zt(t[p])):zt(t[p]):t[p],p,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let l=0;l<t;l++)r[l]=e(l+1,l,void 0,i)}else if(rt(t))if(t[Symbol.iterator])r=Array.from(t,(l,u)=>e(l,u,void 0,i));else{const l=Object.keys(t);r=new Array(l.length);for(let u=0,h=l.length;u<h;u++){const p=l[u];r[u]=e(t[p],p,u,i)}}else r=[];return r}const wh=t=>t?x_(t)?Zl(t):wh(t.parent):null,Pa=cn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>wh(t.parent),$root:t=>wh(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>m_(t),$forceUpdate:t=>t.f||(t.f=()=>{yf(t.update)}),$nextTick:t=>t.n||(t.n=_f.bind(t.proxy)),$watch:t=>Sb.bind(t)}),Yu=(t,e)=>t!==st&&!t.__isScriptSetup&&Qe(t,e),ob={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:l,appContext:u}=t;let h;if(e[0]!=="$"){const w=o[e];if(w!==void 0)switch(w){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Yu(s,e))return o[e]=1,s[e];if(r!==st&&Qe(r,e))return o[e]=2,r[e];if((h=t.propsOptions[0])&&Qe(h,e))return o[e]=3,i[e];if(n!==st&&Qe(n,e))return o[e]=4,n[e];Th&&(o[e]=0)}}const p=Pa[e];let _,v;if(p)return e==="$attrs"&&sn(t.attrs,"get",""),p(t);if((_=l.__cssModules)&&(_=_[e]))return _;if(n!==st&&Qe(n,e))return o[e]=4,n[e];if(v=u.config.globalProperties,Qe(v,e))return v[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Yu(r,e)?(r[e]=n,!0):s!==st&&Qe(s,e)?(s[e]=n,!0):Qe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i,type:o}},l){let u,h;return!!(n[l]||t!==st&&l[0]!=="$"&&Qe(t,l)||Yu(e,l)||(u=i[0])&&Qe(u,l)||Qe(s,l)||Qe(Pa,l)||Qe(r.config.globalProperties,l)||(h=o.__cssModules)&&h[l])},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Qe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function mp(t){return ye(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Th=!0;function ab(t){const e=m_(t),n=t.proxy,s=t.ctx;Th=!1,e.beforeCreate&&gp(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:l,provide:u,inject:h,created:p,beforeMount:_,mounted:v,beforeUpdate:w,updated:M,activated:B,deactivated:$,beforeDestroy:Q,beforeUnmount:K,destroyed:ee,unmounted:re,render:Te,renderTracked:Ve,renderTriggered:C,errorCaptured:b,serverPrefetch:A,expose:P,inheritAttrs:R,components:D,directives:I,filters:ut}=e;if(h&&cb(h,s,null),o)for(const He in o){const De=o[He];ke(De)&&(s[He]=De.bind(n))}if(r){const He=r.call(n,n);rt(He)&&(t.data=rc(He))}if(Th=!0,i)for(const He in i){const De=i[He],Qt=ke(De)?De.bind(n,n):ke(De.get)?De.get.bind(n,n):ws,bn=!ke(De)&&ke(De.set)?De.set.bind(n):ws,W=jn({get:Qt,set:bn});Object.defineProperty(s,He,{enumerable:!0,configurable:!0,get:()=>W.value,set:yt=>W.value=yt})}if(l)for(const He in l)p_(l[He],s,n,He);if(u){const He=ke(u)?u.call(n):u;Reflect.ownKeys(He).forEach(De=>{Jc(De,He[De])})}p&&gp(p,t,"c");function ht(He,De){ye(De)?De.forEach(Qt=>He(Qt.bind(n))):De&&He(De.bind(n))}if(ht(GT,_),ht(h_,v),ht(QT,w),ht(YT,M),ht(WT,B),ht(zT,$),ht(eb,b),ht(ZT,Ve),ht(JT,C),ht(f_,K),ht(d_,re),ht(XT,A),ye(P))if(P.length){const He=t.exposed||(t.exposed={});P.forEach(De=>{Object.defineProperty(He,De,{get:()=>n[De],set:Qt=>n[De]=Qt,enumerable:!0})})}else t.exposed||(t.exposed={});Te&&t.render===ws&&(t.render=Te),R!=null&&(t.inheritAttrs=R),D&&(t.components=D),I&&(t.directives=I),A&&c_(t)}function cb(t,e,n=ws){ye(t)&&(t=bh(t));for(const s in t){const r=t[s];let i;rt(r)?"default"in r?i=es(r.from||s,r.default,!0):i=es(r.from||s):i=es(r),an(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function gp(t,e,n){ks(ye(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function p_(t,e,n,s){let r=s.includes(".")?R_(n,s):()=>n[s];if(kt(t)){const i=e[t];ke(i)&&Zc(r,i)}else if(ke(t))Zc(r,t.bind(n));else if(rt(t))if(ye(t))t.forEach(i=>p_(i,e,n,s));else{const i=ke(t.handler)?t.handler.bind(n):e[t.handler];ke(i)&&Zc(r,i,t)}}function m_(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let u;return l?u=l:!r.length&&!n&&!s?u=e:(u={},r.length&&r.forEach(h=>vl(u,h,o,!0)),vl(u,e,o)),rt(e)&&i.set(e,u),u}function vl(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&vl(t,i,n,!0),r&&r.forEach(o=>vl(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=lb[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const lb={data:_p,props:yp,emits:yp,methods:ga,computed:ga,beforeCreate:pn,created:pn,beforeMount:pn,mounted:pn,beforeUpdate:pn,updated:pn,beforeDestroy:pn,beforeUnmount:pn,destroyed:pn,unmounted:pn,activated:pn,deactivated:pn,errorCaptured:pn,serverPrefetch:pn,components:ga,directives:ga,watch:hb,provide:_p,inject:ub};function _p(t,e){return e?t?function(){return cn(ke(t)?t.call(this,this):t,ke(e)?e.call(this,this):e)}:e:t}function ub(t,e){return ga(bh(t),bh(e))}function bh(t){if(ye(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function pn(t,e){return t?[...new Set([].concat(t,e))]:e}function ga(t,e){return t?cn(Object.create(null),t,e):e}function yp(t,e){return t?ye(t)&&ye(e)?[...new Set([...t,...e])]:cn(Object.create(null),mp(t),mp(e??{})):e}function hb(t,e){if(!t)return e;if(!e)return t;const n=cn(Object.create(null),t);for(const s in e)n[s]=pn(t[s],e[s]);return n}function g_(){return{app:null,config:{isNativeTag:kg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fb=0;function db(t,e){return function(s,r=null){ke(s)||(s=cn({},s)),r!=null&&!rt(r)&&(r=null);const i=g_(),o=new WeakSet,l=[];let u=!1;const h=i.app={_uid:fb++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Qb,get config(){return i.config},set config(p){},use(p,..._){return o.has(p)||(p&&ke(p.install)?(o.add(p),p.install(h,..._)):ke(p)&&(o.add(p),p(h,..._))),h},mixin(p){return i.mixins.includes(p)||i.mixins.push(p),h},component(p,_){return _?(i.components[p]=_,h):i.components[p]},directive(p,_){return _?(i.directives[p]=_,h):i.directives[p]},mount(p,_,v){if(!u){const w=h._ceVNode||Rt(s,r);return w.appContext=i,v===!0?v="svg":v===!1&&(v=void 0),t(w,p,v),u=!0,h._container=p,p.__vue_app__=h,Zl(w.component)}},onUnmount(p){l.push(p)},unmount(){u&&(ks(l,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(p,_){return i.provides[p]=_,h},runWithContext(p){const _=_o;_o=h;try{return p()}finally{_o=_}}};return h}}let _o=null;function Jc(t,e){if(on){let n=on.provides;const s=on.parent&&on.parent.provides;s===n&&(n=on.provides=Object.create(s)),n[t]=e}}function es(t,e,n=!1){const s=$b();if(s||_o){let r=_o?_o._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&ke(e)?e.call(s&&s.proxy):e}}const __={},y_=()=>Object.create(__),v_=t=>Object.getPrototypeOf(t)===__;function pb(t,e,n,s=!1){const r={},i=y_();t.propsDefaults=Object.create(null),E_(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Jg(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function mb(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,l=Ge(r),[u]=t.propsOptions;let h=!1;if((s||o>0)&&!(o&16)){if(o&8){const p=t.vnode.dynamicProps;for(let _=0;_<p.length;_++){let v=p[_];if(Xl(t.emitsOptions,v))continue;const w=e[v];if(u)if(Qe(i,v))w!==i[v]&&(i[v]=w,h=!0);else{const M=Wn(v);r[M]=Ih(u,l,M,w,t,!1)}else w!==i[v]&&(i[v]=w,h=!0)}}}else{E_(t,e,r,i)&&(h=!0);let p;for(const _ in l)(!e||!Qe(e,_)&&((p=Fi(_))===_||!Qe(e,p)))&&(u?n&&(n[_]!==void 0||n[p]!==void 0)&&(r[_]=Ih(u,l,_,void 0,t,!0)):delete r[_]);if(i!==l)for(const _ in i)(!e||!Qe(e,_))&&(delete i[_],h=!0)}h&&Qs(t.attrs,"set","")}function E_(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,l;if(e)for(let u in e){if(Ia(u))continue;const h=e[u];let p;r&&Qe(r,p=Wn(u))?!i||!i.includes(p)?n[p]=h:(l||(l={}))[p]=h:Xl(t.emitsOptions,u)||(!(u in s)||h!==s[u])&&(s[u]=h,o=!0)}if(i){const u=Ge(n),h=l||st;for(let p=0;p<i.length;p++){const _=i[p];n[_]=Ih(r,u,_,h[_],t,!Qe(h,_))}}return o}function Ih(t,e,n,s,r,i){const o=t[n];if(o!=null){const l=Qe(o,"default");if(l&&s===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&ke(u)){const{propsDefaults:h}=r;if(n in h)s=h[n];else{const p=oc(r);s=h[n]=u.call(null,e),p()}}else s=u;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!l?s=!1:o[1]&&(s===""||s===Fi(n))&&(s=!0))}return s}const gb=new WeakMap;function w_(t,e,n=!1){const s=n?gb:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},l=[];let u=!1;if(!ke(t)){const p=_=>{u=!0;const[v,w]=w_(_,e,!0);cn(o,v),w&&l.push(...w)};!n&&e.mixins.length&&e.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}if(!i&&!u)return rt(t)&&s.set(t,fo),fo;if(ye(i))for(let p=0;p<i.length;p++){const _=Wn(i[p]);vp(_)&&(o[_]=st)}else if(i)for(const p in i){const _=Wn(p);if(vp(_)){const v=i[p],w=o[_]=ye(v)||ke(v)?{type:v}:cn({},v),M=w.type;let B=!1,$=!0;if(ye(M))for(let Q=0;Q<M.length;++Q){const K=M[Q],ee=ke(K)&&K.name;if(ee==="Boolean"){B=!0;break}else ee==="String"&&($=!1)}else B=ke(M)&&M.name==="Boolean";w[0]=B,w[1]=$,(B||Qe(w,"default"))&&l.push(_)}}const h=[o,l];return rt(t)&&s.set(t,h),h}function vp(t){return t[0]!=="$"&&!Ia(t)}const Ef=t=>t==="_"||t==="_ctx"||t==="$stable",wf=t=>ye(t)?t.map(Es):[Es(t)],_b=(t,e,n)=>{if(e._n)return e;const s=ma((...r)=>wf(e(...r)),n);return s._c=!1,s},T_=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Ef(r))continue;const i=t[r];if(ke(i))e[r]=_b(r,i,s);else if(i!=null){const o=wf(i);e[r]=()=>o}}},b_=(t,e)=>{const n=wf(e);t.slots.default=()=>n},I_=(t,e,n)=>{for(const s in e)(n||!Ef(s))&&(t[s]=e[s])},yb=(t,e,n)=>{const s=t.slots=y_();if(t.vnode.shapeFlag&32){const r=e._;r?(I_(s,e,n),n&&xg(s,"_",r,!0)):T_(e,s)}else e&&b_(t,e)},vb=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=st;if(s.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:I_(r,e,n):(i=!e.$stable,T_(e,r)),o=e}else e&&(b_(t,e),o={default:1});if(i)for(const l in r)!Ef(l)&&o[l]==null&&delete r[l]},Sn=xb;function Eb(t){return wb(t)}function wb(t,e){const n=Wl();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:l,createComment:u,setText:h,setElementText:p,parentNode:_,nextSibling:v,setScopeId:w=ws,insertStaticContent:M}=t,B=(T,S,N,q=null,H=null,j=null,se=void 0,Z=null,X=!!S.dynamicChildren)=>{if(T===S)return;T&&!fa(T,S)&&(q=U(T),yt(T,H,j,!0),T=null),S.patchFlag===-2&&(X=!1,S.dynamicChildren=null);const{type:J,ref:ge,shapeFlag:oe}=S;switch(J){case Jl:$(T,S,N,q);break;case Hr:Q(T,S,N,q);break;case el:T==null&&K(S,N,q,se);break;case vs:D(T,S,N,q,H,j,se,Z,X);break;default:oe&1?Te(T,S,N,q,H,j,se,Z,X):oe&6?I(T,S,N,q,H,j,se,Z,X):(oe&64||oe&128)&&J.process(T,S,N,q,H,j,se,Z,X,fe)}ge!=null&&H?Ca(ge,T&&T.ref,j,S||T,!S):ge==null&&T&&T.ref!=null&&Ca(T.ref,null,j,T,!0)},$=(T,S,N,q)=>{if(T==null)s(S.el=l(S.children),N,q);else{const H=S.el=T.el;S.children!==T.children&&h(H,S.children)}},Q=(T,S,N,q)=>{T==null?s(S.el=u(S.children||""),N,q):S.el=T.el},K=(T,S,N,q)=>{[T.el,T.anchor]=M(T.children,S,N,q,T.el,T.anchor)},ee=({el:T,anchor:S},N,q)=>{let H;for(;T&&T!==S;)H=v(T),s(T,N,q),T=H;s(S,N,q)},re=({el:T,anchor:S})=>{let N;for(;T&&T!==S;)N=v(T),r(T),T=N;r(S)},Te=(T,S,N,q,H,j,se,Z,X)=>{S.type==="svg"?se="svg":S.type==="math"&&(se="mathml"),T==null?Ve(S,N,q,H,j,se,Z,X):A(T,S,H,j,se,Z,X)},Ve=(T,S,N,q,H,j,se,Z)=>{let X,J;const{props:ge,shapeFlag:oe,transition:pe,dirs:me}=T;if(X=T.el=o(T.type,j,ge&&ge.is,ge),oe&8?p(X,T.children):oe&16&&b(T.children,X,null,q,H,Xu(T,j),se,Z),me&&wi(T,null,q,"created"),C(X,T,T.scopeId,se,q),ge){for(const We in ge)We!=="value"&&!Ia(We)&&i(X,We,null,ge[We],j,q);"value"in ge&&i(X,"value",null,ge.value,j),(J=ge.onVnodeBeforeMount)&&gs(J,q,T)}me&&wi(T,null,q,"beforeMount");const be=Tb(H,pe);be&&pe.beforeEnter(X),s(X,S,N),((J=ge&&ge.onVnodeMounted)||be||me)&&Sn(()=>{J&&gs(J,q,T),be&&pe.enter(X),me&&wi(T,null,q,"mounted")},H)},C=(T,S,N,q,H)=>{if(N&&w(T,N),q)for(let j=0;j<q.length;j++)w(T,q[j]);if(H){let j=H.subTree;if(S===j||k_(j.type)&&(j.ssContent===S||j.ssFallback===S)){const se=H.vnode;C(T,se,se.scopeId,se.slotScopeIds,H.parent)}}},b=(T,S,N,q,H,j,se,Z,X=0)=>{for(let J=X;J<T.length;J++){const ge=T[J]=Z?Pr(T[J]):Es(T[J]);B(null,ge,S,N,q,H,j,se,Z)}},A=(T,S,N,q,H,j,se)=>{const Z=S.el=T.el;let{patchFlag:X,dynamicChildren:J,dirs:ge}=S;X|=T.patchFlag&16;const oe=T.props||st,pe=S.props||st;let me;if(N&&Ti(N,!1),(me=pe.onVnodeBeforeUpdate)&&gs(me,N,S,T),ge&&wi(S,T,N,"beforeUpdate"),N&&Ti(N,!0),(oe.innerHTML&&pe.innerHTML==null||oe.textContent&&pe.textContent==null)&&p(Z,""),J?P(T.dynamicChildren,J,Z,N,q,Xu(S,H),j):se||De(T,S,Z,null,N,q,Xu(S,H),j,!1),X>0){if(X&16)R(Z,oe,pe,N,H);else if(X&2&&oe.class!==pe.class&&i(Z,"class",null,pe.class,H),X&4&&i(Z,"style",oe.style,pe.style,H),X&8){const be=S.dynamicProps;for(let We=0;We<be.length;We++){const je=be[We],Ft=oe[je],mt=pe[je];(mt!==Ft||je==="value")&&i(Z,je,Ft,mt,H,N)}}X&1&&T.children!==S.children&&p(Z,S.children)}else!se&&J==null&&R(Z,oe,pe,N,H);((me=pe.onVnodeUpdated)||ge)&&Sn(()=>{me&&gs(me,N,S,T),ge&&wi(S,T,N,"updated")},q)},P=(T,S,N,q,H,j,se)=>{for(let Z=0;Z<S.length;Z++){const X=T[Z],J=S[Z],ge=X.el&&(X.type===vs||!fa(X,J)||X.shapeFlag&198)?_(X.el):N;B(X,J,ge,null,q,H,j,se,!0)}},R=(T,S,N,q,H)=>{if(S!==N){if(S!==st)for(const j in S)!Ia(j)&&!(j in N)&&i(T,j,S[j],null,H,q);for(const j in N){if(Ia(j))continue;const se=N[j],Z=S[j];se!==Z&&j!=="value"&&i(T,j,Z,se,H,q)}"value"in N&&i(T,"value",S.value,N.value,H)}},D=(T,S,N,q,H,j,se,Z,X)=>{const J=S.el=T?T.el:l(""),ge=S.anchor=T?T.anchor:l("");let{patchFlag:oe,dynamicChildren:pe,slotScopeIds:me}=S;me&&(Z=Z?Z.concat(me):me),T==null?(s(J,N,q),s(ge,N,q),b(S.children||[],N,ge,H,j,se,Z,X)):oe>0&&oe&64&&pe&&T.dynamicChildren?(P(T.dynamicChildren,pe,N,H,j,se,Z),(S.key!=null||H&&S===H.subTree)&&A_(T,S,!0)):De(T,S,N,ge,H,j,se,Z,X)},I=(T,S,N,q,H,j,se,Z,X)=>{S.slotScopeIds=Z,T==null?S.shapeFlag&512?H.ctx.activate(S,N,q,se,X):ut(S,N,q,H,j,se,X):qt(T,S,X)},ut=(T,S,N,q,H,j,se)=>{const Z=T.component=Bb(T,q,H);if(l_(T)&&(Z.ctx.renderer=fe),qb(Z,!1,se),Z.asyncDep){if(H&&H.registerDep(Z,ht,se),!T.el){const X=Z.subTree=Rt(Hr);Q(null,X,S,N),T.placeholder=X.el}}else ht(Z,T,S,N,H,j,se)},qt=(T,S,N)=>{const q=S.component=T.component;if(Nb(T,S,N))if(q.asyncDep&&!q.asyncResolved){He(q,S,N);return}else q.next=S,q.update();else S.el=T.el,q.vnode=S},ht=(T,S,N,q,H,j,se)=>{const Z=()=>{if(T.isMounted){let{next:oe,bu:pe,u:me,parent:be,vnode:We}=T;{const At=S_(T);if(At){oe&&(oe.el=We.el,He(T,oe,se)),At.asyncDep.then(()=>{T.isUnmounted||Z()});return}}let je=oe,Ft;Ti(T,!1),oe?(oe.el=We.el,He(T,oe,se)):oe=We,pe&&Xc(pe),(Ft=oe.props&&oe.props.onVnodeBeforeUpdate)&&gs(Ft,be,oe,We),Ti(T,!0);const mt=wp(T),It=T.subTree;T.subTree=mt,B(It,mt,_(It.el),U(It),T,H,j),oe.el=mt.el,je===null&&Db(T,mt.el),me&&Sn(me,H),(Ft=oe.props&&oe.props.onVnodeUpdated)&&Sn(()=>gs(Ft,be,oe,We),H)}else{let oe;const{el:pe,props:me}=S,{bm:be,m:We,parent:je,root:Ft,type:mt}=T,It=Ra(S);Ti(T,!1),be&&Xc(be),!It&&(oe=me&&me.onVnodeBeforeMount)&&gs(oe,je,S),Ti(T,!0);{Ft.ce&&Ft.ce._def.shadowRoot!==!1&&Ft.ce._injectChildStyle(mt);const At=T.subTree=wp(T);B(null,At,N,q,T,H,j),S.el=At.el}if(We&&Sn(We,H),!It&&(oe=me&&me.onVnodeMounted)){const At=S;Sn(()=>gs(oe,je,At),H)}(S.shapeFlag&256||je&&Ra(je.vnode)&&je.vnode.shapeFlag&256)&&T.a&&Sn(T.a,H),T.isMounted=!0,S=N=q=null}};T.scope.on();const X=T.effect=new Fg(Z);T.scope.off();const J=T.update=X.run.bind(X),ge=T.job=X.runIfDirty.bind(X);ge.i=T,ge.id=T.uid,X.scheduler=()=>yf(ge),Ti(T,!0),J()},He=(T,S,N)=>{S.component=T;const q=T.vnode.props;T.vnode=S,T.next=null,mb(T,S.props,q,N),vb(T,S.children,N),tr(),fp(T),nr()},De=(T,S,N,q,H,j,se,Z,X=!1)=>{const J=T&&T.children,ge=T?T.shapeFlag:0,oe=S.children,{patchFlag:pe,shapeFlag:me}=S;if(pe>0){if(pe&128){bn(J,oe,N,q,H,j,se,Z,X);return}else if(pe&256){Qt(J,oe,N,q,H,j,se,Z,X);return}}me&8?(ge&16&&pt(J,H,j),oe!==J&&p(N,oe)):ge&16?me&16?bn(J,oe,N,q,H,j,se,Z,X):pt(J,H,j,!0):(ge&8&&p(N,""),me&16&&b(oe,N,q,H,j,se,Z,X))},Qt=(T,S,N,q,H,j,se,Z,X)=>{T=T||fo,S=S||fo;const J=T.length,ge=S.length,oe=Math.min(J,ge);let pe;for(pe=0;pe<oe;pe++){const me=S[pe]=X?Pr(S[pe]):Es(S[pe]);B(T[pe],me,N,null,H,j,se,Z,X)}J>ge?pt(T,H,j,!0,!1,oe):b(S,N,q,H,j,se,Z,X,oe)},bn=(T,S,N,q,H,j,se,Z,X)=>{let J=0;const ge=S.length;let oe=T.length-1,pe=ge-1;for(;J<=oe&&J<=pe;){const me=T[J],be=S[J]=X?Pr(S[J]):Es(S[J]);if(fa(me,be))B(me,be,N,null,H,j,se,Z,X);else break;J++}for(;J<=oe&&J<=pe;){const me=T[oe],be=S[pe]=X?Pr(S[pe]):Es(S[pe]);if(fa(me,be))B(me,be,N,null,H,j,se,Z,X);else break;oe--,pe--}if(J>oe){if(J<=pe){const me=pe+1,be=me<ge?S[me].el:q;for(;J<=pe;)B(null,S[J]=X?Pr(S[J]):Es(S[J]),N,be,H,j,se,Z,X),J++}}else if(J>pe)for(;J<=oe;)yt(T[J],H,j,!0),J++;else{const me=J,be=J,We=new Map;for(J=be;J<=pe;J++){const Et=S[J]=X?Pr(S[J]):Es(S[J]);Et.key!=null&&We.set(Et.key,J)}let je,Ft=0;const mt=pe-be+1;let It=!1,At=0;const Yt=new Array(mt);for(J=0;J<mt;J++)Yt[J]=0;for(J=me;J<=oe;J++){const Et=T[J];if(Ft>=mt){yt(Et,H,j,!0);continue}let St;if(Et.key!=null)St=We.get(Et.key);else for(je=be;je<=pe;je++)if(Yt[je-be]===0&&fa(Et,S[je])){St=je;break}St===void 0?yt(Et,H,j,!0):(Yt[St-be]=J+1,St>=At?At=St:It=!0,B(Et,S[St],N,null,H,j,se,Z,X),Ft++)}const ur=It?bb(Yt):fo;for(je=ur.length-1,J=mt-1;J>=0;J--){const Et=be+J,St=S[Et],ti=S[Et+1],xs=Et+1<ge?ti.el||ti.placeholder:q;Yt[J]===0?B(null,St,N,xs,H,j,se,Z,X):It&&(je<0||J!==ur[je]?W(St,N,xs,2):je--)}}},W=(T,S,N,q,H=null)=>{const{el:j,type:se,transition:Z,children:X,shapeFlag:J}=T;if(J&6){W(T.component.subTree,S,N,q);return}if(J&128){T.suspense.move(S,N,q);return}if(J&64){se.move(T,S,N,fe);return}if(se===vs){s(j,S,N);for(let oe=0;oe<X.length;oe++)W(X[oe],S,N,q);s(T.anchor,S,N);return}if(se===el){ee(T,S,N);return}if(q!==2&&J&1&&Z)if(q===0)Z.beforeEnter(j),s(j,S,N),Sn(()=>Z.enter(j),H);else{const{leave:oe,delayLeave:pe,afterLeave:me}=Z,be=()=>{T.ctx.isUnmounted?r(j):s(j,S,N)},We=()=>{j._isLeaving&&j[HT](!0),oe(j,()=>{be(),me&&me()})};pe?pe(j,be,We):We()}else s(j,S,N)},yt=(T,S,N,q=!1,H=!1)=>{const{type:j,props:se,ref:Z,children:X,dynamicChildren:J,shapeFlag:ge,patchFlag:oe,dirs:pe,cacheIndex:me}=T;if(oe===-2&&(H=!1),Z!=null&&(tr(),Ca(Z,null,N,T,!0),nr()),me!=null&&(S.renderCache[me]=void 0),ge&256){S.ctx.deactivate(T);return}const be=ge&1&&pe,We=!Ra(T);let je;if(We&&(je=se&&se.onVnodeBeforeUnmount)&&gs(je,S,T),ge&6)vt(T.component,N,q);else{if(ge&128){T.suspense.unmount(N,q);return}be&&wi(T,null,S,"beforeUnmount"),ge&64?T.type.remove(T,S,N,fe,q):J&&!J.hasOnce&&(j!==vs||oe>0&&oe&64)?pt(J,S,N,!1,!0):(j===vs&&oe&384||!H&&ge&16)&&pt(X,S,N),q&&On(T)}(We&&(je=se&&se.onVnodeUnmounted)||be)&&Sn(()=>{je&&gs(je,S,T),be&&wi(T,null,S,"unmounted")},N)},On=T=>{const{type:S,el:N,anchor:q,transition:H}=T;if(S===vs){un(N,q);return}if(S===el){re(T);return}const j=()=>{r(N),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(T.shapeFlag&1&&H&&!H.persisted){const{leave:se,delayLeave:Z}=H,X=()=>se(N,j);Z?Z(T.el,j,X):X()}else j()},un=(T,S)=>{let N;for(;T!==S;)N=v(T),r(T),T=N;r(S)},vt=(T,S,N)=>{const{bum:q,scope:H,job:j,subTree:se,um:Z,m:X,a:J}=T;Ep(X),Ep(J),q&&Xc(q),H.stop(),j&&(j.flags|=8,yt(se,T,S,N)),Z&&Sn(Z,S),Sn(()=>{T.isUnmounted=!0},S)},pt=(T,S,N,q=!1,H=!1,j=0)=>{for(let se=j;se<T.length;se++)yt(T[se],S,N,q,H)},U=T=>{if(T.shapeFlag&6)return U(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const S=v(T.anchor||T.el),N=S&&S[$T];return N?v(N):S};let ae=!1;const F=(T,S,N)=>{T==null?S._vnode&&yt(S._vnode,null,null,!0):B(S._vnode||null,T,S,null,null,null,N),S._vnode=T,ae||(ae=!0,fp(),r_(),ae=!1)},fe={p:B,um:yt,m:W,r:On,mt:ut,mc:b,pc:De,pbc:P,n:U,o:t};return{render:F,hydrate:void 0,createApp:db(F)}}function Xu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ti({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Tb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function A_(t,e,n=!1){const s=t.children,r=e.children;if(ye(s)&&ye(r))for(let i=0;i<s.length;i++){const o=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=Pr(r[i]),l.el=o.el),!n&&l.patchFlag!==-2&&A_(o,l)),l.type===Jl&&l.patchFlag!==-1&&(l.el=o.el),l.type===Hr&&!l.el&&(l.el=o.el)}}function bb(t){const e=t.slice(),n=[0];let s,r,i,o,l;const u=t.length;for(s=0;s<u;s++){const h=t[s];if(h!==0){if(r=n[n.length-1],t[r]<h){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<h?i=l+1:o=l;h<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function S_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:S_(e)}function Ep(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Ib=Symbol.for("v-scx"),Ab=()=>es(Ib);function Zc(t,e,n){return C_(t,e,n)}function C_(t,e,n=st){const{immediate:s,deep:r,flush:i,once:o}=n,l=cn({},n),u=e&&s||!e&&i!=="post";let h;if(Ha){if(i==="sync"){const w=Ab();h=w.__watcherHandles||(w.__watcherHandles=[])}else if(!u){const w=()=>{};return w.stop=ws,w.resume=ws,w.pause=ws,w}}const p=on;l.call=(w,M,B)=>ks(w,p,M,B);let _=!1;i==="post"?l.scheduler=w=>{Sn(w,p&&p.suspense)}:i!=="sync"&&(_=!0,l.scheduler=(w,M)=>{M?w():yf(w)}),l.augmentJob=w=>{e&&(w.flags|=4),_&&(w.flags|=2,p&&(w.id=p.uid,w.i=p))};const v=FT(t,e,l);return Ha&&(h?h.push(v):u&&v()),v}function Sb(t,e,n){const s=this.proxy,r=kt(t)?t.includes(".")?R_(s,t):()=>s[t]:t.bind(s,s);let i;ke(e)?i=e:(i=e.handler,n=e);const o=oc(this),l=C_(r,i.bind(s),n);return o(),l}function R_(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const Cb=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Wn(e)}Modifiers`]||t[`${Fi(e)}Modifiers`];function Rb(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||st;let r=n;const i=e.startsWith("update:"),o=i&&Cb(s,e.slice(7));o&&(o.trim&&(r=n.map(p=>kt(p)?p.trim():p)),o.number&&(r=n.map(dl)));let l,u=s[l=Wu(e)]||s[l=Wu(Wn(e))];!u&&i&&(u=s[l=Wu(Fi(e))]),u&&ks(u,t,6,r);const h=s[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,ks(h,t,6,r)}}const Pb=new WeakMap;function P_(t,e,n=!1){const s=n?Pb:e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},l=!1;if(!ke(t)){const u=h=>{const p=P_(h,e,!0);p&&(l=!0,cn(o,p))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!l?(rt(t)&&s.set(t,null),null):(ye(i)?i.forEach(u=>o[u]=null):cn(o,i),rt(t)&&s.set(t,o),o)}function Xl(t,e){return!t||!$l(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qe(t,e[0].toLowerCase()+e.slice(1))||Qe(t,Fi(e))||Qe(t,e))}function wp(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:l,emit:u,render:h,renderCache:p,props:_,data:v,setupState:w,ctx:M,inheritAttrs:B}=t,$=_l(t);let Q,K;try{if(n.shapeFlag&4){const re=r||s,Te=re;Q=Es(h.call(Te,re,p,_,w,v,M)),K=l}else{const re=e;Q=Es(re.length>1?re(_,{attrs:l,slots:o,emit:u}):re(_,null)),K=e.props?l:kb(l)}}catch(re){ka.length=0,Ql(re,t,1),Q=Rt(Hr)}let ee=Q;if(K&&B!==!1){const re=Object.keys(K),{shapeFlag:Te}=ee;re.length&&Te&7&&(i&&re.some(rf)&&(K=Ob(K,i)),ee=To(ee,K,!1,!0))}return n.dirs&&(ee=To(ee,null,!1,!0),ee.dirs=ee.dirs?ee.dirs.concat(n.dirs):n.dirs),n.transition&&vf(ee,n.transition),Q=ee,_l($),Q}const kb=t=>{let e;for(const n in t)(n==="class"||n==="style"||$l(n))&&((e||(e={}))[n]=t[n]);return e},Ob=(t,e)=>{const n={};for(const s in t)(!rf(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Nb(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:l,patchFlag:u}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return s?Tp(s,o,h):!!o;if(u&8){const p=e.dynamicProps;for(let _=0;_<p.length;_++){const v=p[_];if(o[v]!==s[v]&&!Xl(h,v))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Tp(s,o,h):!0:!!o;return!1}function Tp(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Xl(n,i))return!0}return!1}function Db({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const k_=t=>t.__isSuspense;function xb(t,e){e&&e.pendingBranch?ye(t)?e.effects.push(...t):e.effects.push(t):BT(t)}const vs=Symbol.for("v-fgt"),Jl=Symbol.for("v-txt"),Hr=Symbol.for("v-cmt"),el=Symbol.for("v-stc"),ka=[];let Rn=null;function ts(t=!1){ka.push(Rn=t?null:[])}function Vb(){ka.pop(),Rn=ka[ka.length-1]||null}let qa=1;function El(t,e=!1){qa+=t,t<0&&Rn&&e&&(Rn.hasOnce=!0)}function O_(t){return t.dynamicChildren=qa>0?Rn||fo:null,Vb(),qa>0&&Rn&&Rn.push(t),t}function Lr(t,e,n,s,r,i){return O_(ie(t,e,n,s,r,i,!0))}function Ah(t,e,n,s,r){return O_(Rt(t,e,n,s,r,!0))}function wl(t){return t?t.__v_isVNode===!0:!1}function fa(t,e){return t.type===e.type&&t.key===e.key}const N_=({key:t})=>t??null,tl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?kt(t)||an(t)||ke(t)?{i:Cn,r:t,k:e,f:!!n}:t:null);function ie(t,e=null,n=null,s=0,r=null,i=t===vs?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&N_(e),ref:e&&tl(e),scopeId:o_,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Cn};return l?(Tf(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=kt(n)?8:16),qa>0&&!o&&Rn&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Rn.push(u),u}const Rt=Mb;function Mb(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===sb)&&(t=Hr),wl(t)){const l=To(t,e,!0);return n&&Tf(l,n),qa>0&&!i&&Rn&&(l.shapeFlag&6?Rn[Rn.indexOf(t)]=l:Rn.push(l)),l.patchFlag=-2,l}if(Gb(t)&&(t=t.__vccOpts),e){e=Lb(e);let{class:l,style:u}=e;l&&!kt(l)&&(e.class=zl(l)),rt(u)&&(gf(u)&&!ye(u)&&(u=cn({},u)),e.style=cf(u))}const o=kt(t)?1:k_(t)?128:qT(t)?64:rt(t)?4:ke(t)?2:0;return ie(t,e,n,s,r,o,i,!0)}function Lb(t){return t?gf(t)||v_(t)?cn({},t):t:null}function To(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:l,transition:u}=t,h=e?Fb(r||{},e):r,p={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&N_(h),ref:e&&e.ref?n&&i?ye(i)?i.concat(tl(e)):[i,tl(e)]:tl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==vs?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&To(t.ssContent),ssFallback:t.ssFallback&&To(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&s&&vf(p,u.clone(p)),p}function D_(t=" ",e=0){return Rt(Jl,null,t,e)}function B1(t,e){const n=Rt(el,null,t);return n.staticCount=e,n}function bp(t="",e=!1){return e?(ts(),Ah(Hr,null,t)):Rt(Hr,null,t)}function Es(t){return t==null||typeof t=="boolean"?Rt(Hr):ye(t)?Rt(vs,null,t.slice()):wl(t)?Pr(t):Rt(Jl,null,String(t))}function Pr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:To(t)}function Tf(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ye(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Tf(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!v_(e)?e._ctx=Cn:r===3&&Cn&&(Cn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ke(e)?(e={default:e,_ctx:Cn},n=32):(e=String(e),s&64?(n=16,e=[D_(e)]):n=8);t.children=e,t.shapeFlag|=n}function Fb(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=zl([e.class,s.class]));else if(r==="style")e.style=cf([e.style,s.style]);else if($l(r)){const i=e[r],o=s[r];o&&i!==o&&!(ye(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function gs(t,e,n,s=null){ks(t,e,7,[n,s])}const Ub=g_();let jb=0;function Bb(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Ub,i={uid:jb++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:w_(s,r),emitsOptions:P_(s,r),emit:null,emitted:null,propsDefaults:st,inheritAttrs:s.inheritAttrs,ctx:st,data:st,props:st,attrs:st,slots:st,refs:st,setupState:st,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Rb.bind(null,i),t.ce&&t.ce(i),i}let on=null;const $b=()=>on||Cn;let Tl,Sh;{const t=Wl(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Tl=e("__VUE_INSTANCE_SETTERS__",n=>on=n),Sh=e("__VUE_SSR_SETTERS__",n=>Ha=n)}const oc=t=>{const e=on;return Tl(t),t.scope.on(),()=>{t.scope.off(),Tl(e)}},Ip=()=>{on&&on.scope.off(),Tl(null)};function x_(t){return t.vnode.shapeFlag&4}let Ha=!1;function qb(t,e=!1,n=!1){e&&Sh(e);const{props:s,children:r}=t.vnode,i=x_(t);pb(t,s,i,e),yb(t,r,n||e);const o=i?Hb(t,e):void 0;return e&&Sh(!1),o}function Hb(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ob);const{setup:s}=n;if(s){tr();const r=t.setupContext=s.length>1?zb(t):null,i=oc(t),o=ic(s,t,0,[t.props,r]),l=Og(o);if(nr(),i(),(l||t.sp)&&!Ra(t)&&c_(t),l){if(o.then(Ip,Ip),e)return o.then(u=>{Ap(t,u)}).catch(u=>{Ql(u,t,0)});t.asyncDep=o}else Ap(t,o)}else V_(t)}function Ap(t,e,n){ke(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:rt(e)&&(t.setupState=t_(e)),V_(t)}function V_(t,e,n){const s=t.type;t.render||(t.render=s.render||ws);{const r=oc(t);tr();try{ab(t)}finally{nr(),r()}}}const Wb={get(t,e){return sn(t,"get",""),t[e]}};function zb(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Wb),slots:t.slots,emit:t.emit,expose:e}}function Zl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(t_(OT(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Pa)return Pa[n](t)},has(e,n){return n in e||n in Pa}})):t.proxy}function Kb(t,e=!0){return ke(t)?t.displayName||t.name:t.name||e&&t.__name}function Gb(t){return ke(t)&&"__vccOpts"in t}const jn=(t,e)=>MT(t,e,Ha);function M_(t,e,n){try{El(-1);const s=arguments.length;return s===2?rt(e)&&!ye(e)?wl(e)?Rt(t,null,[e]):Rt(t,e):Rt(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&wl(n)&&(n=[n]),Rt(t,e,n))}finally{El(1)}}const Qb="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ch;const Sp=typeof window<"u"&&window.trustedTypes;if(Sp)try{Ch=Sp.createPolicy("vue",{createHTML:t=>t})}catch{}const L_=Ch?t=>Ch.createHTML(t):t=>t,Yb="http://www.w3.org/2000/svg",Xb="http://www.w3.org/1998/Math/MathML",Gs=typeof document<"u"?document:null,Cp=Gs&&Gs.createElement("template"),Jb={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?Gs.createElementNS(Yb,t):e==="mathml"?Gs.createElementNS(Xb,t):n?Gs.createElement(t,{is:n}):Gs.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Gs.createTextNode(t),createComment:t=>Gs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Gs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Cp.innerHTML=L_(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=Cp.content;if(s==="svg"||s==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Zb=Symbol("_vtc");function eI(t,e,n){const s=t[Zb];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Rp=Symbol("_vod"),tI=Symbol("_vsh"),nI=Symbol(""),sI=/(?:^|;)\s*display\s*:/;function rI(t,e,n){const s=t.style,r=kt(n);let i=!1;if(n&&!r){if(e)if(kt(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&nl(s,l,"")}else for(const o in e)n[o]==null&&nl(s,o,"");for(const o in n)o==="display"&&(i=!0),nl(s,o,n[o])}else if(r){if(e!==n){const o=s[nI];o&&(n+=";"+o),s.cssText=n,i=sI.test(n)}}else e&&t.removeAttribute("style");Rp in t&&(t[Rp]=i?s.display:"",t[tI]&&(s.display="none"))}const Pp=/\s*!important$/;function nl(t,e,n){if(ye(n))n.forEach(s=>nl(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=iI(t,e);Pp.test(n)?t.setProperty(Fi(s),n.replace(Pp,""),"important"):t[s]=n}}const kp=["Webkit","Moz","ms"],Ju={};function iI(t,e){const n=Ju[e];if(n)return n;let s=Wn(e);if(s!=="filter"&&s in t)return Ju[e]=s;s=Hl(s);for(let r=0;r<kp.length;r++){const i=kp[r]+s;if(i in t)return Ju[e]=i}return e}const Op="http://www.w3.org/1999/xlink";function Np(t,e,n,s,r,i=lT(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Op,e.slice(6,e.length)):t.setAttributeNS(Op,e,n):n==null||i&&!Vg(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Ps(n)?String(n):n)}function Dp(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?L_(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Vg(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function Xs(t,e,n,s){t.addEventListener(e,n,s)}function oI(t,e,n,s){t.removeEventListener(e,n,s)}const xp=Symbol("_vei");function aI(t,e,n,s,r=null){const i=t[xp]||(t[xp]={}),o=i[e];if(s&&o)o.value=s;else{const[l,u]=cI(e);if(s){const h=i[e]=hI(s,r);Xs(t,l,h,u)}else o&&(oI(t,l,o,u),i[e]=void 0)}}const Vp=/(?:Once|Passive|Capture)$/;function cI(t){let e;if(Vp.test(t)){e={};let s;for(;s=t.match(Vp);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Fi(t.slice(2)),e]}let Zu=0;const lI=Promise.resolve(),uI=()=>Zu||(lI.then(()=>Zu=0),Zu=Date.now());function hI(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ks(fI(s,n.value),e,5,[s])};return n.value=t,n.attached=uI(),n}function fI(t,e){if(ye(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Mp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,dI=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?eI(t,s,o):e==="style"?rI(t,n,s):$l(e)?rf(e)||aI(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):pI(t,e,s,o))?(Dp(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Np(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!kt(s))?Dp(t,Wn(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Np(t,e,s,o))};function pI(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Mp(e)&&ke(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Mp(e)&&kt(n)?!1:e in t}const Wr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ye(e)?n=>Xc(e,n):e};function mI(t){t.target.composing=!0}function Lp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Hn=Symbol("_assign"),Fp={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[Hn]=Wr(r);const i=s||r.props&&r.props.type==="number";Xs(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=dl(l)),t[Hn](l)}),n&&Xs(t,"change",()=>{t.value=t.value.trim()}),e||(Xs(t,"compositionstart",mI),Xs(t,"compositionend",Lp),Xs(t,"change",Lp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[Hn]=Wr(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?dl(t.value):t.value,u=e??"";l!==u&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===u)||(t.value=u))}},gI={deep:!0,created(t,e,n){t[Hn]=Wr(n),Xs(t,"change",()=>{const s=t._modelValue,r=bo(t),i=t.checked,o=t[Hn];if(ye(s)){const l=lf(s,r),u=l!==-1;if(i&&!u)o(s.concat(r));else if(!i&&u){const h=[...s];h.splice(l,1),o(h)}}else if(xo(s)){const l=new Set(s);i?l.add(r):l.delete(r),o(l)}else o(F_(t,i))})},mounted:Up,beforeUpdate(t,e,n){t[Hn]=Wr(n),Up(t,e,n)}};function Up(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(ye(e))r=lf(e,s.props.value)>-1;else if(xo(e))r=e.has(s.props.value);else{if(e===n)return;r=ki(e,F_(t,!0))}t.checked!==r&&(t.checked=r)}const _I={created(t,{value:e},n){t.checked=ki(e,n.props.value),t[Hn]=Wr(n),Xs(t,"change",()=>{t[Hn](bo(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[Hn]=Wr(s),e!==n&&(t.checked=ki(e,s.props.value))}},yI={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=xo(e);Xs(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?dl(bo(o)):bo(o));t[Hn](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,_f(()=>{t._assigning=!1})}),t[Hn]=Wr(s)},mounted(t,{value:e}){jp(t,e)},beforeUpdate(t,e,n){t[Hn]=Wr(n)},updated(t,{value:e}){t._assigning||jp(t,e)}};function jp(t,e){const n=t.multiple,s=ye(e);if(!(n&&!s&&!xo(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],l=bo(o);if(n)if(s){const u=typeof l;u==="string"||u==="number"?o.selected=e.some(h=>String(h)===String(l)):o.selected=lf(e,l)>-1}else o.selected=e.has(l);else if(ki(bo(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function bo(t){return"_value"in t?t._value:t.value}function F_(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const $1={created(t,e,n){$c(t,e,n,null,"created")},mounted(t,e,n){$c(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){$c(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){$c(t,e,n,s,"updated")}};function vI(t,e){switch(t){case"SELECT":return yI;case"TEXTAREA":return Fp;default:switch(e){case"checkbox":return gI;case"radio":return _I;default:return Fp}}}function $c(t,e,n,s,r){const o=vI(t.tagName,n.props&&n.props.type)[r];o&&o(t,e,n,s)}const EI=["ctrl","shift","alt","meta"],wI={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>EI.some(n=>t[`${n}Key`]&&!e.includes(n))},q1=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=((r,...i)=>{for(let o=0;o<e.length;o++){const l=wI[e[o]];if(l&&l(r,e))return}return t(r,...i)}))},TI=cn({patchProp:dI},Jb);let Bp;function bI(){return Bp||(Bp=Eb(TI))}const II=((...t)=>{const e=bI().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=SI(s);if(!r)return;const i=e._component;!ke(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,AI(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e});function AI(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function SI(t){return kt(t)?document.querySelector(t):t}const CI="modulepreload",RI=function(t){return"/"+t},$p={},eu=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");r=u(n.map(h=>{if(h=RI(h),h in $p)return;$p[h]=!0;const p=h.endsWith(".css"),_=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${_}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":CI,p||(v.as="script"),v.crossOrigin="",v.href=h,l&&v.setAttribute("nonce",l),document.head.appendChild(v),p)return new Promise((w,M)=>{v.addEventListener("load",w),v.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${h}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const oo=typeof document<"u";function U_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function PI(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&U_(t.default)}const Ke=Object.assign;function eh(t,e){const n={};for(const s in e){const r=e[s];n[s]=ns(r)?r.map(t):t(r)}return n}const Oa=()=>{},ns=Array.isArray;function qp(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}const j_=/#/g,kI=/&/g,OI=/\//g,NI=/=/g,DI=/\?/g,B_=/\+/g,xI=/%5B/g,VI=/%5D/g,$_=/%5E/g,MI=/%60/g,q_=/%7B/g,LI=/%7C/g,H_=/%7D/g,FI=/%20/g;function bf(t){return t==null?"":encodeURI(""+t).replace(LI,"|").replace(xI,"[").replace(VI,"]")}function UI(t){return bf(t).replace(q_,"{").replace(H_,"}").replace($_,"^")}function Rh(t){return bf(t).replace(B_,"%2B").replace(FI,"+").replace(j_,"%23").replace(kI,"%26").replace(MI,"`").replace(q_,"{").replace(H_,"}").replace($_,"^")}function jI(t){return Rh(t).replace(NI,"%3D")}function BI(t){return bf(t).replace(j_,"%23").replace(DI,"%3F")}function $I(t){return BI(t).replace(OI,"%2F")}function Wa(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const qI=/\/$/,HI=t=>t.replace(qI,"");function th(t,e,n="/"){let s,r={},i="",o="";const l=e.indexOf("#");let u=e.indexOf("?");return u=l>=0&&u>l?-1:u,u>=0&&(s=e.slice(0,u),i=e.slice(u,l>0?l:e.length),r=t(i.slice(1))),l>=0&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=GI(s??e,n),{fullPath:s+i+o,path:s,query:r,hash:Wa(o)}}function WI(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Hp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function zI(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Io(e.matched[s],n.matched[r])&&W_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Io(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function W_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!KI(t[n],e[n]))return!1;return!0}function KI(t,e){return ns(t)?Wp(t,e):ns(e)?Wp(e,t):t===e}function Wp(t,e){return ns(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function GI(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Sr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ph=(function(t){return t.pop="pop",t.push="push",t})({}),nh=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function QI(t){if(!t)if(oo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),HI(t)}const YI=/^[^#]+#/;function XI(t,e){return t.replace(YI,"#")+e}function JI(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const tu=()=>({left:window.scrollX,top:window.scrollY});function ZI(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=JI(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function zp(t,e){return(history.state?history.state.position-e:-1)+t}const kh=new Map;function eA(t,e){kh.set(t,e)}function tA(t){const e=kh.get(t);return kh.delete(t),e}function nA(t){return typeof t=="string"||t&&typeof t=="object"}function z_(t){return typeof t=="string"||typeof t=="symbol"}let _t=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const K_=Symbol("");_t.MATCHER_NOT_FOUND+"",_t.NAVIGATION_GUARD_REDIRECT+"",_t.NAVIGATION_ABORTED+"",_t.NAVIGATION_CANCELLED+"",_t.NAVIGATION_DUPLICATED+"";function Ao(t,e){return Ke(new Error,{type:t,[K_]:!0},e)}function Ks(t,e){return t instanceof Error&&K_ in t&&(e==null||!!(t.type&e))}const sA=["params","query","hash"];function rA(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const n of sA)n in t&&(e[n]=t[n]);return JSON.stringify(e,null,2)}function iA(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const r=n[s].replace(B_," "),i=r.indexOf("="),o=Wa(i<0?r:r.slice(0,i)),l=i<0?null:Wa(r.slice(i+1));if(o in e){let u=e[o];ns(u)||(u=e[o]=[u]),u.push(l)}else e[o]=l}return e}function Kp(t){let e="";for(let n in t){const s=t[n];if(n=jI(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(ns(s)?s.map(r=>r&&Rh(r)):[s&&Rh(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function oA(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=ns(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const aA=Symbol(""),Gp=Symbol(""),nu=Symbol(""),If=Symbol(""),Oh=Symbol("");function da(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function kr(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,u)=>{const h=v=>{v===!1?u(Ao(_t.NAVIGATION_ABORTED,{from:n,to:e})):v instanceof Error?u(v):nA(v)?u(Ao(_t.NAVIGATION_GUARD_REDIRECT,{from:e,to:v})):(o&&s.enterCallbacks[r]===o&&typeof v=="function"&&o.push(v),l())},p=i(()=>t.call(s&&s.instances[r],e,n,h));let _=Promise.resolve(p);t.length<3&&(_=_.then(h)),_.catch(v=>u(v))})}function sh(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const l in o.components){let u=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(U_(u)){const h=(u.__vccOpts||u)[e];h&&i.push(kr(h,n,s,o,l,r))}else{let h=u();i.push(()=>h.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const _=PI(p)?p.default:p;o.mods[l]=p,o.components[l]=_;const v=(_.__vccOpts||_)[e];return v&&kr(v,n,s,o,l,r)()}))}}return i}function cA(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const l=e.matched[o];l&&(t.matched.find(h=>Io(h,l))?s.push(l):n.push(l));const u=t.matched[o];u&&(e.matched.find(h=>Io(h,u))||r.push(u))}return[n,s,r]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let lA=()=>location.protocol+"//"+location.host;function G_(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let o=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(o);return l[0]!=="/"&&(l="/"+l),Hp(l,"")}return Hp(n,t)+s+r}function uA(t,e,n,s){let r=[],i=[],o=null;const l=({state:v})=>{const w=G_(t,location),M=n.value,B=e.value;let $=0;if(v){if(n.value=w,e.value=v,o&&o===M){o=null;return}$=B?v.position-B.position:0}else s(w);r.forEach(Q=>{Q(n.value,M,{delta:$,type:Ph.pop,direction:$?$>0?nh.forward:nh.back:nh.unknown})})};function u(){o=n.value}function h(v){r.push(v);const w=()=>{const M=r.indexOf(v);M>-1&&r.splice(M,1)};return i.push(w),w}function p(){if(document.visibilityState==="hidden"){const{history:v}=window;if(!v.state)return;v.replaceState(Ke({},v.state,{scroll:tu()}),"")}}function _(){for(const v of i)v();i=[],window.removeEventListener("popstate",l),window.removeEventListener("pagehide",p),document.removeEventListener("visibilitychange",p)}return window.addEventListener("popstate",l),window.addEventListener("pagehide",p),document.addEventListener("visibilitychange",p),{pauseListeners:u,listen:h,destroy:_}}function Qp(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?tu():null}}function hA(t){const{history:e,location:n}=window,s={value:G_(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,h,p){const _=t.indexOf("#"),v=_>-1?(n.host&&document.querySelector("base")?t:t.slice(_))+u:lA()+t+u;try{e[p?"replaceState":"pushState"](h,"",v),r.value=h}catch(w){console.error(w),n[p?"replace":"assign"](v)}}function o(u,h){i(u,Ke({},e.state,Qp(r.value.back,u,r.value.forward,!0),h,{position:r.value.position}),!0),s.value=u}function l(u,h){const p=Ke({},r.value,e.state,{forward:u,scroll:tu()});i(p.current,p,!0),i(u,Ke({},Qp(s.value,u,null),{position:p.position+1},h),!1),s.value=u}return{location:s,state:r,push:l,replace:o}}function fA(t){t=QI(t);const e=hA(t),n=uA(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Ke({location:"",base:t,go:s,createHref:XI.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}let Si=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var Dt=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(Dt||{});const dA={type:Si.Static,value:""},pA=/[a-zA-Z0-9_]/;function mA(t){if(!t)return[[]];if(t==="/")return[[dA]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(w){throw new Error(`ERR (${n})/"${h}": ${w}`)}let n=Dt.Static,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let l=0,u,h="",p="";function _(){h&&(n===Dt.Static?i.push({type:Si.Static,value:h}):n===Dt.Param||n===Dt.ParamRegExp||n===Dt.ParamRegExpEnd?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Si.Param,value:h,regexp:p,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),h="")}function v(){h+=u}for(;l<t.length;){if(u=t[l++],u==="\\"&&n!==Dt.ParamRegExp){s=n,n=Dt.EscapeNext;continue}switch(n){case Dt.Static:u==="/"?(h&&_(),o()):u===":"?(_(),n=Dt.Param):v();break;case Dt.EscapeNext:v(),n=s;break;case Dt.Param:u==="("?n=Dt.ParamRegExp:pA.test(u)?v():(_(),n=Dt.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case Dt.ParamRegExp:u===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+u:n=Dt.ParamRegExpEnd:p+=u;break;case Dt.ParamRegExpEnd:_(),n=Dt.Static,u!=="*"&&u!=="?"&&u!=="+"&&l--,p="";break;default:e("Unknown state");break}}return n===Dt.ParamRegExp&&e(`Unfinished custom RegExp for param "${h}"`),_(),o(),r}const Yp="[^/]+?",gA={sensitive:!1,strict:!1,start:!0,end:!0};var mn=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(mn||{});const _A=/[.+*?^${}()[\]/\\]/g;function yA(t,e){const n=Ke({},gA,e),s=[];let r=n.start?"^":"";const i=[];for(const h of t){const p=h.length?[]:[mn.Root];n.strict&&!h.length&&(r+="/");for(let _=0;_<h.length;_++){const v=h[_];let w=mn.Segment+(n.sensitive?mn.BonusCaseSensitive:0);if(v.type===Si.Static)_||(r+="/"),r+=v.value.replace(_A,"\\$&"),w+=mn.Static;else if(v.type===Si.Param){const{value:M,repeatable:B,optional:$,regexp:Q}=v;i.push({name:M,repeatable:B,optional:$});const K=Q||Yp;if(K!==Yp){w+=mn.BonusCustomRegExp;try{`${K}`}catch(re){throw new Error(`Invalid custom RegExp for param "${M}" (${K}): `+re.message)}}let ee=B?`((?:${K})(?:/(?:${K}))*)`:`(${K})`;_||(ee=$&&h.length<2?`(?:/${ee})`:"/"+ee),$&&(ee+="?"),r+=ee,w+=mn.Dynamic,$&&(w+=mn.BonusOptional),B&&(w+=mn.BonusRepeatable),K===".*"&&(w+=mn.BonusWildcard)}p.push(w)}s.push(p)}if(n.strict&&n.end){const h=s.length-1;s[h][s[h].length-1]+=mn.BonusStrict}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function l(h){const p=h.match(o),_={};if(!p)return null;for(let v=1;v<p.length;v++){const w=p[v]||"",M=i[v-1];_[M.name]=w&&M.repeatable?w.split("/"):w}return _}function u(h){let p="",_=!1;for(const v of t){(!_||!p.endsWith("/"))&&(p+="/"),_=!1;for(const w of v)if(w.type===Si.Static)p+=w.value;else if(w.type===Si.Param){const{value:M,repeatable:B,optional:$}=w,Q=M in h?h[M]:"";if(ns(Q)&&!B)throw new Error(`Provided param "${M}" is an array but it is not repeatable (* or + modifiers)`);const K=ns(Q)?Q.join("/"):Q;if(!K)if($)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):_=!0);else throw new Error(`Missing required param "${M}"`);p+=K}}return p||"/"}return{re:o,score:s,keys:i,parse:l,stringify:u}}function vA(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===mn.Static+mn.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===mn.Static+mn.Segment?1:-1:0}function Q_(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=vA(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Xp(s))return 1;if(Xp(r))return-1}return r.length-s.length}function Xp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const EA={strict:!1,end:!0,sensitive:!1};function wA(t,e,n){const s=yA(mA(t.path),n),r=Ke(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function TA(t,e){const n=[],s=new Map;e=qp(EA,e);function r(_){return s.get(_)}function i(_,v,w){const M=!w,B=Zp(_);B.aliasOf=w&&w.record;const $=qp(e,_),Q=[B];if("alias"in _){const re=typeof _.alias=="string"?[_.alias]:_.alias;for(const Te of re)Q.push(Zp(Ke({},B,{components:w?w.record.components:B.components,path:Te,aliasOf:w?w.record:B})))}let K,ee;for(const re of Q){const{path:Te}=re;if(v&&Te[0]!=="/"){const Ve=v.record.path,C=Ve[Ve.length-1]==="/"?"":"/";re.path=v.record.path+(Te&&C+Te)}if(K=wA(re,v,$),w?w.alias.push(K):(ee=ee||K,ee!==K&&ee.alias.push(K),M&&_.name&&!em(K)&&o(_.name)),Y_(K)&&u(K),B.children){const Ve=B.children;for(let C=0;C<Ve.length;C++)i(Ve[C],K,w&&w.children[C])}w=w||K}return ee?()=>{o(ee)}:Oa}function o(_){if(z_(_)){const v=s.get(_);v&&(s.delete(_),n.splice(n.indexOf(v),1),v.children.forEach(o),v.alias.forEach(o))}else{const v=n.indexOf(_);v>-1&&(n.splice(v,1),_.record.name&&s.delete(_.record.name),_.children.forEach(o),_.alias.forEach(o))}}function l(){return n}function u(_){const v=AA(_,n);n.splice(v,0,_),_.record.name&&!em(_)&&s.set(_.record.name,_)}function h(_,v){let w,M={},B,$;if("name"in _&&_.name){if(w=s.get(_.name),!w)throw Ao(_t.MATCHER_NOT_FOUND,{location:_});$=w.record.name,M=Ke(Jp(v.params,w.keys.filter(ee=>!ee.optional).concat(w.parent?w.parent.keys.filter(ee=>ee.optional):[]).map(ee=>ee.name)),_.params&&Jp(_.params,w.keys.map(ee=>ee.name))),B=w.stringify(M)}else if(_.path!=null)B=_.path,w=n.find(ee=>ee.re.test(B)),w&&(M=w.parse(B),$=w.record.name);else{if(w=v.name?s.get(v.name):n.find(ee=>ee.re.test(v.path)),!w)throw Ao(_t.MATCHER_NOT_FOUND,{location:_,currentLocation:v});$=w.record.name,M=Ke({},v.params,_.params),B=w.stringify(M)}const Q=[];let K=w;for(;K;)Q.unshift(K.record),K=K.parent;return{name:$,path:B,params:M,matched:Q,meta:IA(Q)}}t.forEach(_=>i(_));function p(){n.length=0,s.clear()}return{addRoute:i,resolve:h,removeRoute:o,clearRoutes:p,getRoutes:l,getRecordMatcher:r}}function Jp(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Zp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:bA(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function bA(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function em(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function IA(t){return t.reduce((e,n)=>Ke(e,n.meta),{})}function AA(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;Q_(t,e[i])<0?s=i:n=i+1}const r=SA(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function SA(t){let e=t;for(;e=e.parent;)if(Y_(e)&&Q_(t,e)===0)return e}function Y_({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function tm(t){const e=es(nu),n=es(If),s=jn(()=>{const u=_n(t.to);return e.resolve(u)}),r=jn(()=>{const{matched:u}=s.value,{length:h}=u,p=u[h-1],_=n.matched;if(!p||!_.length)return-1;const v=_.findIndex(Io.bind(null,p));if(v>-1)return v;const w=nm(u[h-2]);return h>1&&nm(p)===w&&_[_.length-1].path!==w?_.findIndex(Io.bind(null,u[h-2])):v}),i=jn(()=>r.value>-1&&kA(n.params,s.value.params)),o=jn(()=>r.value>-1&&r.value===n.matched.length-1&&W_(n.params,s.value.params));function l(u={}){if(PA(u)){const h=e[_n(t.replace)?"replace":"push"](_n(t.to)).catch(Oa);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:s,href:jn(()=>s.value.href),isActive:i,isExactActive:o,navigate:l}}function CA(t){return t.length===1?t[0]:t}const RA=a_({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:tm,setup(t,{slots:e}){const n=rc(tm(t)),{options:s}=es(nu),r=jn(()=>({[sm(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[sm(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&CA(e.default(n));return t.custom?i:M_("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),_a=RA;function PA(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function kA(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!ns(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function nm(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const sm=(t,e,n)=>t??e??n,OA=a_({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=es(Oh),r=jn(()=>t.route||s.value),i=es(Gp,0),o=jn(()=>{let h=_n(i);const{matched:p}=r.value;let _;for(;(_=p[h])&&!_.components;)h++;return h}),l=jn(()=>r.value.matched[o.value]);Jc(Gp,jn(()=>o.value+1)),Jc(aA,l),Jc(Oh,r);const u=Zg();return Zc(()=>[u.value,l.value,t.name],([h,p,_],[v,w,M])=>{p&&(p.instances[_]=h,w&&w!==p&&h&&h===v&&(p.leaveGuards.size||(p.leaveGuards=w.leaveGuards),p.updateGuards.size||(p.updateGuards=w.updateGuards))),h&&p&&(!w||!Io(p,w)||!v)&&(p.enterCallbacks[_]||[]).forEach(B=>B(h))},{flush:"post"}),()=>{const h=r.value,p=t.name,_=l.value,v=_&&_.components[p];if(!v)return rm(n.default,{Component:v,route:h});const w=_.props[p],M=w?w===!0?h.params:typeof w=="function"?w(h):w:null,$=M_(v,Ke({},M,e,{onVnodeUnmounted:Q=>{Q.component.isUnmounted&&(_.instances[p]=null)},ref:u}));return rm(n.default,{Component:$,route:h})||$}}});function rm(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const NA=OA;function DA(t){const e=TA(t.routes,t),n=t.parseQuery||iA,s=t.stringifyQuery||Kp,r=t.history,i=da(),o=da(),l=da(),u=NT(Sr);let h=Sr;oo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=eh.bind(null,U=>""+U),_=eh.bind(null,$I),v=eh.bind(null,Wa);function w(U,ae){let F,fe;return z_(U)?(F=e.getRecordMatcher(U),fe=ae):fe=U,e.addRoute(fe,F)}function M(U){const ae=e.getRecordMatcher(U);ae&&e.removeRoute(ae)}function B(){return e.getRoutes().map(U=>U.record)}function $(U){return!!e.getRecordMatcher(U)}function Q(U,ae){if(ae=Ke({},ae||u.value),typeof U=="string"){const N=th(n,U,ae.path),q=e.resolve({path:N.path},ae),H=r.createHref(N.fullPath);return Ke(N,q,{params:v(q.params),hash:Wa(N.hash),redirectedFrom:void 0,href:H})}let F;if(U.path!=null)F=Ke({},U,{path:th(n,U.path,ae.path).path});else{const N=Ke({},U.params);for(const q in N)N[q]==null&&delete N[q];F=Ke({},U,{params:_(N)}),ae.params=_(ae.params)}const fe=e.resolve(F,ae),xe=U.hash||"";fe.params=p(v(fe.params));const T=WI(s,Ke({},U,{hash:UI(xe),path:fe.path})),S=r.createHref(T);return Ke({fullPath:T,hash:xe,query:s===Kp?oA(U.query):U.query||{}},fe,{redirectedFrom:void 0,href:S})}function K(U){return typeof U=="string"?th(n,U,u.value.path):Ke({},U)}function ee(U,ae){if(h!==U)return Ao(_t.NAVIGATION_CANCELLED,{from:ae,to:U})}function re(U){return C(U)}function Te(U){return re(Ke(K(U),{replace:!0}))}function Ve(U,ae){const F=U.matched[U.matched.length-1];if(F&&F.redirect){const{redirect:fe}=F;let xe=typeof fe=="function"?fe(U,ae):fe;return typeof xe=="string"&&(xe=xe.includes("?")||xe.includes("#")?xe=K(xe):{path:xe},xe.params={}),Ke({query:U.query,hash:U.hash,params:xe.path!=null?{}:U.params},xe)}}function C(U,ae){const F=h=Q(U),fe=u.value,xe=U.state,T=U.force,S=U.replace===!0,N=Ve(F,fe);if(N)return C(Ke(K(N),{state:typeof N=="object"?Ke({},xe,N.state):xe,force:T,replace:S}),ae||F);const q=F;q.redirectedFrom=ae;let H;return!T&&zI(s,fe,F)&&(H=Ao(_t.NAVIGATION_DUPLICATED,{to:q,from:fe}),W(fe,fe,!0,!1)),(H?Promise.resolve(H):P(q,fe)).catch(j=>Ks(j)?Ks(j,_t.NAVIGATION_GUARD_REDIRECT)?j:bn(j):De(j,q,fe)).then(j=>{if(j){if(Ks(j,_t.NAVIGATION_GUARD_REDIRECT))return C(Ke({replace:S},K(j.to),{state:typeof j.to=="object"?Ke({},xe,j.to.state):xe,force:T}),ae||q)}else j=D(q,fe,!0,S,xe);return R(q,fe,j),j})}function b(U,ae){const F=ee(U,ae);return F?Promise.reject(F):Promise.resolve()}function A(U){const ae=un.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(U):U()}function P(U,ae){let F;const[fe,xe,T]=cA(U,ae);F=sh(fe.reverse(),"beforeRouteLeave",U,ae);for(const N of fe)N.leaveGuards.forEach(q=>{F.push(kr(q,U,ae))});const S=b.bind(null,U,ae);return F.push(S),pt(F).then(()=>{F=[];for(const N of i.list())F.push(kr(N,U,ae));return F.push(S),pt(F)}).then(()=>{F=sh(xe,"beforeRouteUpdate",U,ae);for(const N of xe)N.updateGuards.forEach(q=>{F.push(kr(q,U,ae))});return F.push(S),pt(F)}).then(()=>{F=[];for(const N of T)if(N.beforeEnter)if(ns(N.beforeEnter))for(const q of N.beforeEnter)F.push(kr(q,U,ae));else F.push(kr(N.beforeEnter,U,ae));return F.push(S),pt(F)}).then(()=>(U.matched.forEach(N=>N.enterCallbacks={}),F=sh(T,"beforeRouteEnter",U,ae,A),F.push(S),pt(F))).then(()=>{F=[];for(const N of o.list())F.push(kr(N,U,ae));return F.push(S),pt(F)}).catch(N=>Ks(N,_t.NAVIGATION_CANCELLED)?N:Promise.reject(N))}function R(U,ae,F){l.list().forEach(fe=>A(()=>fe(U,ae,F)))}function D(U,ae,F,fe,xe){const T=ee(U,ae);if(T)return T;const S=ae===Sr,N=oo?history.state:{};F&&(fe||S?r.replace(U.fullPath,Ke({scroll:S&&N&&N.scroll},xe)):r.push(U.fullPath,xe)),u.value=U,W(U,ae,F,S),bn()}let I;function ut(){I||(I=r.listen((U,ae,F)=>{if(!vt.listening)return;const fe=Q(U),xe=Ve(fe,vt.currentRoute.value);if(xe){C(Ke(xe,{replace:!0,force:!0}),fe).catch(Oa);return}h=fe;const T=u.value;oo&&eA(zp(T.fullPath,F.delta),tu()),P(fe,T).catch(S=>Ks(S,_t.NAVIGATION_ABORTED|_t.NAVIGATION_CANCELLED)?S:Ks(S,_t.NAVIGATION_GUARD_REDIRECT)?(C(Ke(K(S.to),{force:!0}),fe).then(N=>{Ks(N,_t.NAVIGATION_ABORTED|_t.NAVIGATION_DUPLICATED)&&!F.delta&&F.type===Ph.pop&&r.go(-1,!1)}).catch(Oa),Promise.reject()):(F.delta&&r.go(-F.delta,!1),De(S,fe,T))).then(S=>{S=S||D(fe,T,!1),S&&(F.delta&&!Ks(S,_t.NAVIGATION_CANCELLED)?r.go(-F.delta,!1):F.type===Ph.pop&&Ks(S,_t.NAVIGATION_ABORTED|_t.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),R(fe,T,S)}).catch(Oa)}))}let qt=da(),ht=da(),He;function De(U,ae,F){bn(U);const fe=ht.list();return fe.length?fe.forEach(xe=>xe(U,ae,F)):console.error(U),Promise.reject(U)}function Qt(){return He&&u.value!==Sr?Promise.resolve():new Promise((U,ae)=>{qt.add([U,ae])})}function bn(U){return He||(He=!U,ut(),qt.list().forEach(([ae,F])=>U?F(U):ae()),qt.reset()),U}function W(U,ae,F,fe){const{scrollBehavior:xe}=t;if(!oo||!xe)return Promise.resolve();const T=!F&&tA(zp(U.fullPath,0))||(fe||!F)&&history.state&&history.state.scroll||null;return _f().then(()=>xe(U,ae,T)).then(S=>S&&ZI(S)).catch(S=>De(S,U,ae))}const yt=U=>r.go(U);let On;const un=new Set,vt={currentRoute:u,listening:!0,addRoute:w,removeRoute:M,clearRoutes:e.clearRoutes,hasRoute:$,getRoutes:B,resolve:Q,options:t,push:re,replace:Te,go:yt,back:()=>yt(-1),forward:()=>yt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:ht.add,isReady:Qt,install(U){U.component("RouterLink",_a),U.component("RouterView",NA),U.config.globalProperties.$router=vt,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>_n(u)}),oo&&!On&&u.value===Sr&&(On=!0,re(r.location).catch(fe=>{}));const ae={};for(const fe in Sr)Object.defineProperty(ae,fe,{get:()=>u.value[fe],enumerable:!0});U.provide(nu,vt),U.provide(If,Jg(ae)),U.provide(Oh,u);const F=U.unmount;un.add(U),U.unmount=function(){un.delete(U),un.size<1&&(h=Sr,I&&I(),I=null,u.value=Sr,On=!1,He=!1),F()}}};function pt(U){return U.reduce((ae,F)=>ae.then(()=>A(F)),Promise.resolve())}return vt}function xA(){return es(nu)}function VA(t){return es(If)}const MA=()=>{};var im={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},LA=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],l=t[n++],u=((r&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(u>>10)),e[s++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},J_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,l=o?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,p=i>>2,_=(i&3)<<4|l>>4;let v=(l&15)<<2|h>>6,w=h&63;u||(w=64,o||(v=64)),s.push(n[p],n[_],n[v],n[w])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(X_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const _=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||h==null||_==null)throw new FA;const v=i<<2|l>>4;if(s.push(v),h!==64){const w=l<<4&240|h>>2;if(s.push(w),_!==64){const M=h<<6&192|_;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UA=function(t){const e=X_(t);return J_.encodeByteArray(e,!0)},bl=function(t){return UA(t).replace(/\./g,"")},Z_=function(t){try{return J_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=()=>jA().__FIREBASE_DEFAULTS__,$A=()=>{if(typeof process>"u"||typeof im>"u")return;const t=im.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Z_(t[1]);return e&&JSON.parse(e)},su=()=>{try{return MA()||BA()||$A()||qA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ey=t=>su()?.emulatorHosts?.[t],HA=t=>{const e=ey(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ty=()=>su()?.config,ny=t=>su()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[bl(JSON.stringify(n)),bl(JSON.stringify(o)),""].join(".")}const Na={};function KA(){const t={prod:[],emulator:[]};for(const e of Object.keys(Na))Na[e]?t.emulator.push(e):t.prod.push(e);return t}function GA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let om=!1;function ry(t,e){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||Na[t]===e||Na[t]||om)return;Na[t]=e;function n(v){return`__firebase__banner__${v}`}const s="__firebase__banner",i=KA().prod.length>0;function o(){const v=document.getElementById(s);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{om=!0,o()},v}function p(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=GA(s),w=n("text"),M=document.getElementById(w)||document.createElement("span"),B=n("learnmore"),$=document.getElementById(B)||document.createElement("a"),Q=n("preprendIcon"),K=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const ee=v.element;l(ee),p($,B);const re=h();u(K,Q),ee.append(K,M,$,re),document.body.appendChild(ee)}i?(M.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function YA(){const t=su()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){const t=ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tS(){return!YA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function sS(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="FirebaseError";class cr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=rS,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?iS(i,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new cr(r,l,s)}}function iS(t,e){return t.replace(oS,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const oS=/\{\$([^}]+)}/g;function aS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oi(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(am(i)&&am(o)){if(!Oi(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function am(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ya(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function va(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cS(t,e){const n=new lS(t,e);return n.subscribe.bind(n)}class lS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");uS(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=rh),r.error===void 0&&(r.error=rh),r.complete===void 0&&(r.complete=rh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class Ni{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new WA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dS(e))try{this.getOrInitializeService({instanceIdentifier:Ii})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Ii){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ii){return this.instances.has(e)}getOptions(e=Ii){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&o.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ii){return this.component?this.component.multipleInstances?e:Ii:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fS(t){return t===Ii?void 0:t}function dS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const mS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},gS=Le.INFO,_S={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},yS=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=_S[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Af{constructor(e){this.name=e,this._logLevel=gS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const vS=(t,e)=>e.some(n=>t instanceof n);let cm,lm;function ES(){return cm||(cm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wS(){return lm||(lm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iy=new WeakMap,Nh=new WeakMap,oy=new WeakMap,ih=new WeakMap,Sf=new WeakMap;function TS(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Fr(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iy.set(n,t)}).catch(()=>{}),Sf.set(e,t),e}function bS(t){if(Nh.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Nh.set(t,e)}let Dh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IS(t){Dh=t(Dh)}function AS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(oh(this),e,...n);return oy.set(s,e.sort?e.sort():[e]),Fr(s)}:wS().includes(t)?function(...e){return t.apply(oh(this),e),Fr(iy.get(this))}:function(...e){return Fr(t.apply(oh(this),e))}}function SS(t){return typeof t=="function"?AS(t):(t instanceof IDBTransaction&&bS(t),vS(t,ES())?new Proxy(t,Dh):t)}function Fr(t){if(t instanceof IDBRequest)return TS(t);if(ih.has(t))return ih.get(t);const e=SS(t);return e!==t&&(ih.set(t,e),Sf.set(e,t)),e}const oh=t=>Sf.get(t);function CS(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),l=Fr(o);return s&&o.addEventListener("upgradeneeded",u=>{s(Fr(o.result),u.oldVersion,u.newVersion,Fr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const RS=["get","getKey","getAll","getAllKeys","count"],PS=["put","add","delete","clear"],ah=new Map;function um(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ah.get(e))return ah.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=PS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||RS.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let h=u.store;return s&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return ah.set(e,i),i}IS(t=>({...t,get:(e,n,s)=>um(e,n)||t.get(e,n,s),has:(e,n)=>!!um(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function OS(t){return t.getComponent()?.type==="VERSION"}const xh="@firebase/app",hm="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new Af("@firebase/app"),NS="@firebase/app-compat",DS="@firebase/analytics-compat",xS="@firebase/analytics",VS="@firebase/app-check-compat",MS="@firebase/app-check",LS="@firebase/auth",FS="@firebase/auth-compat",US="@firebase/database",jS="@firebase/data-connect",BS="@firebase/database-compat",$S="@firebase/functions",qS="@firebase/functions-compat",HS="@firebase/installations",WS="@firebase/installations-compat",zS="@firebase/messaging",KS="@firebase/messaging-compat",GS="@firebase/performance",QS="@firebase/performance-compat",YS="@firebase/remote-config",XS="@firebase/remote-config-compat",JS="@firebase/storage",ZS="@firebase/storage-compat",eC="@firebase/firestore",tC="@firebase/ai",nC="@firebase/firestore-compat",sC="firebase",rC="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh="[DEFAULT]",iC={[xh]:"fire-core",[NS]:"fire-core-compat",[xS]:"fire-analytics",[DS]:"fire-analytics-compat",[MS]:"fire-app-check",[VS]:"fire-app-check-compat",[LS]:"fire-auth",[FS]:"fire-auth-compat",[US]:"fire-rtdb",[jS]:"fire-data-connect",[BS]:"fire-rtdb-compat",[$S]:"fire-fn",[qS]:"fire-fn-compat",[HS]:"fire-iid",[WS]:"fire-iid-compat",[zS]:"fire-fcm",[KS]:"fire-fcm-compat",[GS]:"fire-perf",[QS]:"fire-perf-compat",[YS]:"fire-rc",[XS]:"fire-rc-compat",[JS]:"fire-gcs",[ZS]:"fire-gcs-compat",[eC]:"fire-fst",[nC]:"fire-fst-compat",[tC]:"fire-vertex","fire-js":"fire-js",[sC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Map,oC=new Map,Mh=new Map;function fm(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function So(t){const e=t.name;if(Mh.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;Mh.set(e,t);for(const n of za.values())fm(n,t);for(const n of oC.values())fm(n,t);return!0}function Cf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ur=new ac("app","Firebase",aC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=rC;function ay(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Vh,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Ur.create("bad-app-name",{appName:String(r)});if(n||(n=ty()),!n)throw Ur.create("no-options");const i=za.get(r);if(i){if(Oi(n,i.options)&&Oi(s,i.config))return i;throw Ur.create("duplicate-app",{appName:r})}const o=new pS(r);for(const u of Mh.values())o.addComponent(u);const l=new cC(n,s,o);return za.set(r,l),l}function Rf(t=Vh){const e=za.get(t);if(!e&&t===Vh&&ty())return ay();if(!e)throw Ur.create("no-app",{appName:t});return e}function lC(){return Array.from(za.values())}function jr(t,e,n){let s=iC[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const o=[`Unable to register library "${s}" with version "${e}":`];r&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(o.join(" "));return}So(new Ni(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebase-heartbeat-database",hC=1,Ka="firebase-heartbeat-store";let ch=null;function cy(){return ch||(ch=CS(uC,hC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ka)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ur.create("idb-open",{originalErrorMessage:t.message})})),ch}async function fC(t){try{const n=(await cy()).transaction(Ka),s=await n.objectStore(Ka).get(ly(t));return await n.done,s}catch(e){if(e instanceof cr)sr.warn(e.message);else{const n=Ur.create("idb-get",{originalErrorMessage:e?.message});sr.warn(n.message)}}}async function dm(t,e){try{const s=(await cy()).transaction(Ka,"readwrite");await s.objectStore(Ka).put(e,ly(t)),await s.done}catch(n){if(n instanceof cr)sr.warn(n.message);else{const s=Ur.create("idb-set",{originalErrorMessage:n?.message});sr.warn(s.message)}}}function ly(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=1024,pC=30;class mC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _C(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pm();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>pC){const r=yC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pm(),{heartbeatsToSend:n,unsentEntries:s}=gC(this._heartbeatsCache.heartbeats),r=bl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return sr.warn(e),""}}}function pm(){return new Date().toISOString().substring(0,10)}function gC(t,e=dC){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),mm(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),mm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _C{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?sS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dm(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function mm(t){return bl(JSON.stringify({version:2,heartbeats:t})).length}function yC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){So(new Ni("platform-logger",e=>new kS(e),"PRIVATE")),So(new Ni("heartbeat",e=>new mC(e),"PRIVATE")),jr(xh,hm,t),jr(xh,hm,"esm2020"),jr("fire-js","")}vC("");var EC="firebase",wC="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(EC,wC,"app");function uy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TC=uy,hy=new ac("auth","Firebase",uy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Af("@firebase/auth");function bC(t,...e){Il.logLevel<=Le.WARN&&Il.warn(`Auth (${Mo}): ${t}`,...e)}function sl(t,...e){Il.logLevel<=Le.ERROR&&Il.error(`Auth (${Mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,...e){throw Pf(t,...e)}function Ts(t,...e){return Pf(t,...e)}function fy(t,e,n){const s={...TC(),[e]:n};return new ac("auth","Firebase",s).create(e,{appName:t.name})}function er(t){return fy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pf(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return hy.create(t,...e)}function Ee(t,e,...n){if(!t)throw Pf(e,...n)}function Js(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sl(e),new Error(e)}function rr(t,e){t||Js(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(){return typeof self<"u"&&self.location?.href||""}function IC(){return gm()==="http:"||gm()==="https:"}function gm(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IC()||JA()||"connection"in navigator)?navigator.onLine:!0}function SC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=QA()||ZA()}get(){return AC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t,e){rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PC=new lc(3e4,6e4);function lr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ds(t,e,n,s,r={}){return py(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const l=cc({key:t.config.apiKey,...o}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...i};return XA()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Vo(t.emulatorConfig.host)&&(h.credentials="include"),dy.fetch()(await my(t,t.config.apiHost,n,l),h)})}async function py(t,e,n){t._canInitEmulator=!1;const s={...CC,...e};try{const r=new OC(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw qc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw qc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw qc(t,"user-disabled",o);const p=s[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw fy(t,p,h);ss(t,p)}}catch(r){if(r instanceof cr)throw r;ss(t,"network-request-failed",{message:String(r)})}}async function uc(t,e,n,s,r={}){const i=await Ds(t,e,n,s,r);return"mfaPendingCredential"in i&&ss(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function my(t,e,n,s){const r=`${e}${n}?${s}`,i=t,o=i.config.emulator?kf(t.config,r):`${t.config.apiScheme}://${r}`;return RC.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function kC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ts(this.auth,"network-request-failed")),PC.get())})}}function qc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Ts(t,e,s);return r.customData._tokenResponse=n,r}function _m(t){return t!==void 0&&t.enterprise!==void 0}class NC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return kC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DC(t,e){return Ds(t,"GET","/v2/recaptchaConfig",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(t,e){return Ds(t,"POST","/v1/accounts:delete",e)}async function Al(t,e){return Ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VC(t,e=!1){const n=Lt(t),s=await n.getIdToken(e),r=Of(s);Ee(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i?.sign_in_provider;return{claims:r,token:s,authTime:Da(lh(r.auth_time)),issuedAtTime:Da(lh(r.iat)),expirationTime:Da(lh(r.exp)),signInProvider:o||null,signInSecondFactor:i?.sign_in_second_factor||null}}function lh(t){return Number(t)*1e3}function Of(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return sl("JWT malformed, contained fewer than 3 sections"),null;try{const r=Z_(n);return r?JSON.parse(r):(sl("Failed to decode base64 JWT payload"),null)}catch(r){return sl("Caught error parsing JWT payload as JSON",r?.toString()),null}}function ym(t){const e=Of(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof cr&&MC(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function MC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Da(this.lastLoginAt),this.creationTime=Da(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t){const e=t.auth,n=await t.getIdToken(),s=await Co(t,Al(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=r.providerUserInfo?.length?gy(r.providerUserInfo):[],o=UC(t.providerData,i),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!o?.length,h=l?u:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Fh(r.createdAt,r.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function FC(t){const e=Lt(t);await Sl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UC(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function gy(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(t,e){const n=await py(t,{},async()=>{const s=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=await my(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:s};return t.emulatorConfig&&Vo(t.emulatorConfig.host)&&(u.credentials="include"),dy.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BC(t,e){return Ds(t,"POST","/v2/accounts:revokeToken",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ym(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=ym(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await jC(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new yo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(Ee(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new LC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Fh(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Co(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VC(this,e)}reload(){return FC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Sl(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await Co(this,xC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:_,emailVerified:v,isAnonymous:w,providerData:M,stsTokenManager:B}=n;Ee(_&&B,e,"internal-error");const $=yo.fromJSON(this.name,B);Ee(typeof _=="string",e,"internal-error"),Cr(s,e.name),Cr(r,e.name),Ee(typeof v=="boolean",e,"internal-error"),Ee(typeof w=="boolean",e,"internal-error"),Cr(i,e.name),Cr(o,e.name),Cr(l,e.name),Cr(u,e.name),Cr(h,e.name),Cr(p,e.name);const Q=new Jn({uid:_,auth:e,email:r,emailVerified:v,displayName:s,isAnonymous:w,photoURL:o,phoneNumber:i,tenantId:l,stsTokenManager:$,createdAt:h,lastLoginAt:p});return M&&Array.isArray(M)&&(Q.providerData=M.map(K=>({...K}))),u&&(Q._redirectEventId=u),Q}static async _fromIdTokenResponse(e,n,s=!1){const r=new yo;r.updateFromServerResponse(n);const i=new Jn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Sl(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];Ee(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?gy(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!i?.length,l=new yo;l.updateFromIdToken(s);const u=new Jn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Fh(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=new Map;function Zs(t){rr(t instanceof Function,"Expected a class definition");let e=vm.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_y.type="NONE";const Em=_y;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t,e,n){return`firebase:${t}:${e}:${n}`}class vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=rl(this.userKey,r.apiKey,i),this.fullPersistenceKey=rl("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Al(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vo(Zs(Em),e,s);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=r[0]||Zs(Em);const o=rl(s,e.config.apiKey,e.name);let l=null;for(const h of n)try{const p=await h._get(o);if(p){let _;if(typeof p=="string"){const v=await Al(e,{idToken:p}).catch(()=>{});if(!v)break;_=await Jn._fromGetAccountInfoResponse(e,v,p)}else _=Jn._fromJSON(e,p);h!==i&&(l=_),i=h;break}}catch{}const u=r.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new vo(i,e,s):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new vo(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(by(e))return"Blackberry";if(Iy(e))return"Webos";if(vy(e))return"Safari";if((e.includes("chrome/")||Ey(e))&&!e.includes("edge/"))return"Chrome";if(Ty(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function yy(t=ln()){return/firefox\//i.test(t)}function vy(t=ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ey(t=ln()){return/crios\//i.test(t)}function wy(t=ln()){return/iemobile/i.test(t)}function Ty(t=ln()){return/android/i.test(t)}function by(t=ln()){return/blackberry/i.test(t)}function Iy(t=ln()){return/webos/i.test(t)}function Nf(t=ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $C(t=ln()){return Nf(t)&&!!window.navigator?.standalone}function qC(){return eS()&&document.documentMode===10}function Ay(t=ln()){return Nf(t)||Ty(t)||Iy(t)||by(t)||/windows phone/i.test(t)||wy(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t,e=[]){let n;switch(t){case"Browser":n=wm(ln());break;case"Worker":n=`${wm(ln())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(t,e={}){return Ds(t,"GET","/v2/passwordPolicy",lr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=6;class KC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tm(this),this.idTokenSubscription=new Tm(this),this.beforeStateQueue=new HC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Al(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bn(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=this.redirectUser?._redirectEventId,o=s?._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===o)&&l?.user&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bn(this.app))return Promise.reject(er(this));const n=e?Lt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WC(this),n=new KC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await BC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zs(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[Zs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,s,r);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jr(t){return Lt(t)}class Tm{constructor(e){this.auth=e,this.observer=null,this.addObserver=cS(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QC(t){ru=t}function Cy(t){return ru.loadJS(t)}function YC(){return ru.recaptchaEnterpriseScript}function XC(){return ru.gapiScript}function JC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZC{constructor(){this.enterprise=new eR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tR="recaptcha-enterprise",Ry="NO_RECAPTCHA";class nR{constructor(e){this.type=tR,this.auth=Jr(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{DC(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new NC(u);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(u=>{l(u)})})}function r(i,o,l){const u=window.grecaptcha;_m(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(Ry)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZC().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{s(this.auth).then(l=>{if(!n&&_m(window.grecaptcha))r(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=YC();u.length!==0&&(u+=l),Cy(u).then(()=>{r(l,i,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function bm(t,e,n,s=!1,r=!1){const i=new nR(t);let o;if(r)o=Ry;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Cl(t,e,n,s,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await bm(t,e,n,n==="getOobCode");return s(t,i)}else return s(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await bm(t,e,n,n==="getOobCode");return s(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t,e){const n=Cf(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Oi(i,e??{}))return r;ss(r,"already-initialized")}return n.initialize({options:e})}function rR(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Zs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function iR(t,e,n){const s=Jr(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=Py(e),{host:o,port:l}=oR(e),u=l===null?"":`:${l}`,h={url:`${i}//${o}${u}/`},p=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Oi(h,s.config.emulator)&&Oi(p,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=h,s.emulatorConfig=p,s.settings.appVerificationDisabledForTesting=!0,Vo(o)?(sy(`${i}//${o}${u}`),ry("Auth",!0)):aR()}function Py(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oR(t){const e=Py(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:Im(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:Im(o)}}}function Im(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function aR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,n){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}async function cR(t,e){return Ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e){return uc(t,"POST","/v1/accounts:signInWithPassword",lr(t,e))}async function ky(t,e){return Ds(t,"POST","/v1/accounts:sendOobCode",lr(t,e))}async function uR(t,e){return ky(t,e)}async function hR(t,e){return ky(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e){return uc(t,"POST","/v1/accounts:signInWithEmailLink",lr(t,e))}async function dR(t,e){return uc(t,"POST","/v1/accounts:signInWithEmailLink",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Df{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ga(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ga(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cl(e,n,"signInWithPassword",lR);case"emailLink":return fR(e,{email:this._email,oobCode:this._password});default:ss(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cl(e,s,"signUpPassword",cR);case"emailLink":return dR(e,{idToken:n,email:this._email,oobCode:this._password});default:ss(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t,e){return uc(t,"POST","/v1/accounts:signInWithIdp",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="http://localhost";class Di extends Df{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ss("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const o=new Di(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eo(e,n)}buildRequest(){const e={requestUri:pR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gR(t){const e=ya(va(t)).link,n=e?ya(va(e)).deep_link_id:null,s=ya(va(t)).deep_link_id;return(s?ya(va(s)).link:null)||s||n||e||t}class xf{constructor(e){const n=ya(va(e)),s=n.apiKey??null,r=n.oobCode??null,i=mR(n.mode??null);Ee(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gR(e);try{return new xf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return Ga._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=xf.parseLink(n);return Ee(s,"argument-error"),Ga._fromEmailAndCode(e,s.code,s.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends Oy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends hc{constructor(){super("facebook.com")}static credential(e){return Di._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Di._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends hc{constructor(){super("github.com")}static credential(e){return Di._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends hc{constructor(){super("twitter.com")}static credential(e,n){return Di._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return xr.credential(n,s)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(t,e){return uc(t,"POST","/v1/accounts:signUp",lr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await Jn._fromIdTokenResponse(e,s,r),o=Am(s);return new xi({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=Am(s);return new xi({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function Am(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends cr{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Rl.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Rl(e,n,s,r)}}function Ny(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Rl._fromErrorAndOperation(t,i,e,s):i})}async function yR(t,e,n=!1){const s=await Co(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xi._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(t,e,n=!1){const{auth:s}=t;if(Bn(s.app))return Promise.reject(er(s));const r="reauthenticate";try{const i=await Co(t,Ny(s,r,e,t),n);Ee(i.idToken,s,"internal-error");const o=Of(i.idToken);Ee(o,s,"internal-error");const{sub:l}=o;return Ee(t.uid===l,s,"user-mismatch"),xi._forOperation(t,r,i)}catch(i){throw i?.code==="auth/user-not-found"&&ss(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dy(t,e,n=!1){if(Bn(t.app))return Promise.reject(er(t));const s="signIn",r=await Ny(t,s,e),i=await xi._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function ER(t,e){return Dy(Jr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xy(t){const e=Jr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wR(t,e,n){const s=Jr(t);await Cl(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",hR)}async function TR(t,e,n){if(Bn(t.app))return Promise.reject(er(t));const s=Jr(t),o=await Cl(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_R).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&xy(t),u}),l=await xi._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(l.user),l}function Vy(t,e,n){return Bn(t.app)?Promise.reject(er(t)):ER(Lt(t),Lo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xy(t),s})}async function My(t,e){const n=Lt(t),r={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await uR(n.auth,r);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(t,e){return Ds(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Lt(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Co(s,bR(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e){return Lt(t).setPersistence(e)}function SR(t,e,n,s){return Lt(t).onIdTokenChanged(e,n,s)}function CR(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function Ly(t,e,n,s){return Lt(t).onAuthStateChanged(e,n,s)}function iu(t){return Lt(t).signOut()}const Pl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pl,"1"),this.storage.removeItem(Pl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=1e3,PR=10;class Uy extends Fy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ay(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);qC()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,PR):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},RR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Uy.type="LOCAL";const jy=Uy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends Fy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}By.type="SESSION";const Vf=By;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new ou(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async h=>h(n.origin,i)),u=await kR(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ou.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const h=Mf("",20);r.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(_){const v=_;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(v.data.response);break;default:clearTimeout(p),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(){return window}function NR(t){bs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function DR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xR(){return navigator?.serviceWorker?.controller||null}function VR(){return $y()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="firebaseLocalStorageDb",MR=1,kl="firebaseLocalStorage",Hy="fbase_key";class fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function au(t,e){return t.transaction([kl],e?"readwrite":"readonly").objectStore(kl)}function LR(){const t=indexedDB.deleteDatabase(qy);return new fc(t).toPromise()}function Uh(){const t=indexedDB.open(qy,MR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(kl,{keyPath:Hy})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(kl)?e(s):(s.close(),await LR(),e(await Uh()))})})}async function Sm(t,e,n){const s=au(t,!0).put({[Hy]:e,value:n});return new fc(s).toPromise()}async function FR(t,e){const n=au(t,!1).get(e),s=await new fc(n).toPromise();return s===void 0?null:s.value}function Cm(t,e){const n=au(t,!0).delete(e);return new fc(n).toPromise()}const UR=800,jR=3;class Wy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>jR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $y()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ou._getInstance(VR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DR(),!this.activeServiceWorker)return;this.sender=new OR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uh();return await Sm(e,Pl,"1"),await Cm(e,Pl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Sm(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>FR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=au(r,!1).getAll();return new fc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wy.type="LOCAL";const BR=Wy;new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e){return e?Zs(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends Df{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qR(t){return Dy(t.auth,new Lf(t),t.bypassAuthState)}function HR(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),vR(n,new Lf(t),t.bypassAuthState)}async function WR(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),yR(n,new Lf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qR;case"linkViaPopup":case"linkViaRedirect":return WR;case"reauthViaPopup":case"reauthViaRedirect":return HR;default:ss(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new lc(2e3,1e4);class ho extends zy{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=Mf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zR.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="pendingRedirect",il=new Map;class GR extends zy{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=il.get(this.auth._key());if(!e){try{const s=await QR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}il.set(this.auth._key(),e)}return this.bypassAuthState||il.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QR(t,e){const n=JR(e),s=XR(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function YR(t,e){il.set(t._key(),e)}function XR(t){return Zs(t._redirectPersistence)}function JR(t){return rl(KR,t.config.apiKey,t.name)}async function ZR(t,e,n=!1){if(Bn(t.app))return Promise.reject(er(t));const s=Jr(t),r=$R(s,e),o=await new GR(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=600*1e3;class t0{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n0(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Ky(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ts(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e0&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rm(e))}saveEventToCache(e){this.cachedEventUids.add(Rm(e)),this.lastProcessedEventTime=Date.now()}}function Rm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ky({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function n0(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ky(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s0(t,e={}){return Ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i0=/^https?/;async function o0(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s0(t);for(const n of e)try{if(a0(n))return}catch{}ss(t,"unauthorized-domain")}function a0(t){const e=Lh(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!i0.test(n))return!1;if(r0.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new lc(3e4,6e4);function Pm(){const t=bs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l0(t){return new Promise((e,n)=>{function s(){Pm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pm(),n(Ts(t,"network-request-failed"))},timeout:c0.get()})}if(bs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bs().gapi?.load)s();else{const r=JC("iframefcb");return bs()[r]=()=>{gapi.load?s():n(Ts(t,"network-request-failed"))},Cy(`${XC()}?onload=${r}`).catch(i=>n(i))}}).catch(e=>{throw ol=null,e})}let ol=null;function u0(t){return ol=ol||l0(t),ol}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=new lc(5e3,15e3),f0="__/auth/iframe",d0="emulator/auth/iframe",p0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g0(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kf(e,d0):`https://${t.config.authDomain}/${f0}`,s={apiKey:e.apiKey,appName:t.name,v:Mo},r=m0.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${cc(s).slice(1)}`}async function _0(t){const e=await u0(t),n=bs().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:g0(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p0,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=Ts(t,"network-request-failed"),l=bs().setTimeout(()=>{i(o)},h0.get());function u(){bs().clearTimeout(l),r(s)}s.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v0=500,E0=600,w0="_blank",T0="http://localhost";class km{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function b0(t,e,n,s=v0,r=E0){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const u={...y0,width:s.toString(),height:r.toString(),top:i,left:o},h=ln().toLowerCase();n&&(l=Ey(h)?w0:n),yy(h)&&(e=e||T0,u.scrollbars="yes");const p=Object.entries(u).reduce((v,[w,M])=>`${v}${w}=${M},`,"");if($C(h)&&l!=="_self")return I0(e||"",l),new km(null);const _=window.open(e||"",l,p);Ee(_,t,"popup-blocked");try{_.focus()}catch{}return new km(_)}function I0(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__/auth/handler",S0="emulator/auth/handler",C0=encodeURIComponent("fac");async function Om(t,e,n,s,r,i){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Mo,eventId:r};if(e instanceof Oy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",aS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,_]of Object.entries({}))o[p]=_}if(e instanceof hc){const p=e.getScopes().filter(_=>_!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),h=u?`#${C0}=${encodeURIComponent(u)}`:"";return`${R0(t)}?${cc(l).slice(1)}${h}`}function R0({config:t}){return t.emulator?kf(t,S0):`https://${t.authDomain}/${A0}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="webStorageSupport";class P0{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vf,this._completeRedirectFn=ZR,this._overrideRedirectResult=YR}async _openPopup(e,n,s,r){rr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const i=await Om(e,n,s,Lh(),r);return b0(e,i,Mf())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await Om(e,n,s,Lh(),r);return NR(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(rr(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _0(e),s=new t0(e);return n.register("authEvent",r=>(Ee(r?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uh,{type:uh},r=>{const i=r?.[0]?.[uh];i!==void 0&&n(!!i),ss(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o0(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ay()||vy()||Nf()}}const k0=P0;var Nm="@firebase/auth",Dm="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D0(t){So(new Ni("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sy(t)},h=new GC(s,r,i,u);return rR(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),So(new Ni("auth-internal",e=>{const n=Jr(e.getProvider("auth").getImmediate());return(s=>new O0(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(Nm,Dm,N0(t)),jr(Nm,Dm,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=300,V0=ny("authIdTokenMaxAge")||x0;let xm=null;const M0=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>V0)return;const r=n?.token;xm!==r&&(xm=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function L0(t=Rf()){const e=Cf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sR(t,{popupRedirectResolver:k0,persistence:[BR,jy,Vf]}),s=ny("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=M0(i.toString());CR(n,o,()=>o(n.currentUser)),SR(n,l=>o(l))}}const r=ey("auth");return r&&iR(n,`http://${r}`),n}function F0(){return document.getElementsByTagName("head")?.[0]??document}QC({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Ts("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",F0().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D0("Browser");var Vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,Gy;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function A(){}A.prototype=b.prototype,C.F=b.prototype,C.prototype=new A,C.prototype.constructor=C,C.D=function(P,R,D){for(var I=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)I[ut-2]=arguments[ut];return b.prototype[R].apply(P,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,b,A){A||(A=0);const P=Array(16);if(typeof b=="string")for(var R=0;R<16;++R)P[R]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(R=0;R<16;++R)P[R]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=C.g[0],A=C.g[1],R=C.g[2];let D=C.g[3],I;I=b+(D^A&(R^D))+P[0]+3614090360&4294967295,b=A+(I<<7&4294967295|I>>>25),I=D+(R^b&(A^R))+P[1]+3905402710&4294967295,D=b+(I<<12&4294967295|I>>>20),I=R+(A^D&(b^A))+P[2]+606105819&4294967295,R=D+(I<<17&4294967295|I>>>15),I=A+(b^R&(D^b))+P[3]+3250441966&4294967295,A=R+(I<<22&4294967295|I>>>10),I=b+(D^A&(R^D))+P[4]+4118548399&4294967295,b=A+(I<<7&4294967295|I>>>25),I=D+(R^b&(A^R))+P[5]+1200080426&4294967295,D=b+(I<<12&4294967295|I>>>20),I=R+(A^D&(b^A))+P[6]+2821735955&4294967295,R=D+(I<<17&4294967295|I>>>15),I=A+(b^R&(D^b))+P[7]+4249261313&4294967295,A=R+(I<<22&4294967295|I>>>10),I=b+(D^A&(R^D))+P[8]+1770035416&4294967295,b=A+(I<<7&4294967295|I>>>25),I=D+(R^b&(A^R))+P[9]+2336552879&4294967295,D=b+(I<<12&4294967295|I>>>20),I=R+(A^D&(b^A))+P[10]+4294925233&4294967295,R=D+(I<<17&4294967295|I>>>15),I=A+(b^R&(D^b))+P[11]+2304563134&4294967295,A=R+(I<<22&4294967295|I>>>10),I=b+(D^A&(R^D))+P[12]+1804603682&4294967295,b=A+(I<<7&4294967295|I>>>25),I=D+(R^b&(A^R))+P[13]+4254626195&4294967295,D=b+(I<<12&4294967295|I>>>20),I=R+(A^D&(b^A))+P[14]+2792965006&4294967295,R=D+(I<<17&4294967295|I>>>15),I=A+(b^R&(D^b))+P[15]+1236535329&4294967295,A=R+(I<<22&4294967295|I>>>10),I=b+(R^D&(A^R))+P[1]+4129170786&4294967295,b=A+(I<<5&4294967295|I>>>27),I=D+(A^R&(b^A))+P[6]+3225465664&4294967295,D=b+(I<<9&4294967295|I>>>23),I=R+(b^A&(D^b))+P[11]+643717713&4294967295,R=D+(I<<14&4294967295|I>>>18),I=A+(D^b&(R^D))+P[0]+3921069994&4294967295,A=R+(I<<20&4294967295|I>>>12),I=b+(R^D&(A^R))+P[5]+3593408605&4294967295,b=A+(I<<5&4294967295|I>>>27),I=D+(A^R&(b^A))+P[10]+38016083&4294967295,D=b+(I<<9&4294967295|I>>>23),I=R+(b^A&(D^b))+P[15]+3634488961&4294967295,R=D+(I<<14&4294967295|I>>>18),I=A+(D^b&(R^D))+P[4]+3889429448&4294967295,A=R+(I<<20&4294967295|I>>>12),I=b+(R^D&(A^R))+P[9]+568446438&4294967295,b=A+(I<<5&4294967295|I>>>27),I=D+(A^R&(b^A))+P[14]+3275163606&4294967295,D=b+(I<<9&4294967295|I>>>23),I=R+(b^A&(D^b))+P[3]+4107603335&4294967295,R=D+(I<<14&4294967295|I>>>18),I=A+(D^b&(R^D))+P[8]+1163531501&4294967295,A=R+(I<<20&4294967295|I>>>12),I=b+(R^D&(A^R))+P[13]+2850285829&4294967295,b=A+(I<<5&4294967295|I>>>27),I=D+(A^R&(b^A))+P[2]+4243563512&4294967295,D=b+(I<<9&4294967295|I>>>23),I=R+(b^A&(D^b))+P[7]+1735328473&4294967295,R=D+(I<<14&4294967295|I>>>18),I=A+(D^b&(R^D))+P[12]+2368359562&4294967295,A=R+(I<<20&4294967295|I>>>12),I=b+(A^R^D)+P[5]+4294588738&4294967295,b=A+(I<<4&4294967295|I>>>28),I=D+(b^A^R)+P[8]+2272392833&4294967295,D=b+(I<<11&4294967295|I>>>21),I=R+(D^b^A)+P[11]+1839030562&4294967295,R=D+(I<<16&4294967295|I>>>16),I=A+(R^D^b)+P[14]+4259657740&4294967295,A=R+(I<<23&4294967295|I>>>9),I=b+(A^R^D)+P[1]+2763975236&4294967295,b=A+(I<<4&4294967295|I>>>28),I=D+(b^A^R)+P[4]+1272893353&4294967295,D=b+(I<<11&4294967295|I>>>21),I=R+(D^b^A)+P[7]+4139469664&4294967295,R=D+(I<<16&4294967295|I>>>16),I=A+(R^D^b)+P[10]+3200236656&4294967295,A=R+(I<<23&4294967295|I>>>9),I=b+(A^R^D)+P[13]+681279174&4294967295,b=A+(I<<4&4294967295|I>>>28),I=D+(b^A^R)+P[0]+3936430074&4294967295,D=b+(I<<11&4294967295|I>>>21),I=R+(D^b^A)+P[3]+3572445317&4294967295,R=D+(I<<16&4294967295|I>>>16),I=A+(R^D^b)+P[6]+76029189&4294967295,A=R+(I<<23&4294967295|I>>>9),I=b+(A^R^D)+P[9]+3654602809&4294967295,b=A+(I<<4&4294967295|I>>>28),I=D+(b^A^R)+P[12]+3873151461&4294967295,D=b+(I<<11&4294967295|I>>>21),I=R+(D^b^A)+P[15]+530742520&4294967295,R=D+(I<<16&4294967295|I>>>16),I=A+(R^D^b)+P[2]+3299628645&4294967295,A=R+(I<<23&4294967295|I>>>9),I=b+(R^(A|~D))+P[0]+4096336452&4294967295,b=A+(I<<6&4294967295|I>>>26),I=D+(A^(b|~R))+P[7]+1126891415&4294967295,D=b+(I<<10&4294967295|I>>>22),I=R+(b^(D|~A))+P[14]+2878612391&4294967295,R=D+(I<<15&4294967295|I>>>17),I=A+(D^(R|~b))+P[5]+4237533241&4294967295,A=R+(I<<21&4294967295|I>>>11),I=b+(R^(A|~D))+P[12]+1700485571&4294967295,b=A+(I<<6&4294967295|I>>>26),I=D+(A^(b|~R))+P[3]+2399980690&4294967295,D=b+(I<<10&4294967295|I>>>22),I=R+(b^(D|~A))+P[10]+4293915773&4294967295,R=D+(I<<15&4294967295|I>>>17),I=A+(D^(R|~b))+P[1]+2240044497&4294967295,A=R+(I<<21&4294967295|I>>>11),I=b+(R^(A|~D))+P[8]+1873313359&4294967295,b=A+(I<<6&4294967295|I>>>26),I=D+(A^(b|~R))+P[15]+4264355552&4294967295,D=b+(I<<10&4294967295|I>>>22),I=R+(b^(D|~A))+P[6]+2734768916&4294967295,R=D+(I<<15&4294967295|I>>>17),I=A+(D^(R|~b))+P[13]+1309151649&4294967295,A=R+(I<<21&4294967295|I>>>11),I=b+(R^(A|~D))+P[4]+4149444226&4294967295,b=A+(I<<6&4294967295|I>>>26),I=D+(A^(b|~R))+P[11]+3174756917&4294967295,D=b+(I<<10&4294967295|I>>>22),I=R+(b^(D|~A))+P[2]+718787259&4294967295,R=D+(I<<15&4294967295|I>>>17),I=A+(D^(R|~b))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+D&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const A=b-this.blockSize,P=this.C;let R=this.h,D=0;for(;D<b;){if(R==0)for(;D<=A;)r(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<b;)if(P[R++]=C.charCodeAt(D++),R==this.blockSize){r(this,P),R=0;break}}else for(;D<b;)if(P[R++]=C[D++],R==this.blockSize){r(this,P),R=0;break}}this.h=R,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var A=C.length-8;A<C.length;++A)C[A]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,A=0;A<4;++A)for(let P=0;P<32;P+=8)C[b++]=this.g[A]>>>P&255;return C};function i(C,b){var A=l;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=b(C)}function o(C,b){this.h=b;const A=[];let P=!0;for(let R=C.length-1;R>=0;R--){const D=C[R]|0;P&&D==b||(A[R]=D,P=!1)}this.g=A}var l={};function u(C){return-128<=C&&C<128?i(C,function(b){return new o([b|0],b<0?-1:0)}):new o([C|0],C<0?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return $(h(-C));const b=[];let A=1;for(let P=0;C>=A;P++)b[P]=C/A|0,A*=4294967296;return new o(b,0)}function p(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return $(p(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=h(Math.pow(b,8));let P=_;for(let D=0;D<C.length;D+=8){var R=Math.min(8,C.length-D);const I=parseInt(C.substring(D,D+R),b);R<8?(R=h(Math.pow(b,R)),P=P.j(R).add(h(I))):(P=P.j(A),P=P.add(h(I)))}return P}var _=u(0),v=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(B(this))return-$(this).m();let C=0,b=1;for(let A=0;A<this.g.length;A++){const P=this.i(A);C+=(P>=0?P:4294967296+P)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(B(this))return"-"+$(this).toString(C);const b=h(Math.pow(C,6));var A=this;let P="";for(;;){const R=re(A,b).g;A=Q(A,R.j(b));let D=((A.g.length>0?A.g[0]:A.h)>>>0).toString(C);if(A=R,M(A))return D+P;for(;D.length<6;)D="0"+D;P=D+P}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function B(C){return C.h==-1}t.l=function(C){return C=Q(this,C),B(C)?-1:M(C)?0:1};function $(C){const b=C.g.length,A=[];for(let P=0;P<b;P++)A[P]=~C.g[P];return new o(A,~C.h).add(v)}t.abs=function(){return B(this)?$(this):this},t.add=function(C){const b=Math.max(this.g.length,C.g.length),A=[];let P=0;for(let R=0;R<=b;R++){let D=P+(this.i(R)&65535)+(C.i(R)&65535),I=(D>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);P=I>>>16,D&=65535,I&=65535,A[R]=I<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function Q(C,b){return C.add($(b))}t.j=function(C){if(M(this)||M(C))return _;if(B(this))return B(C)?$(this).j($(C)):$($(this).j(C));if(B(C))return $(this.j($(C)));if(this.l(w)<0&&C.l(w)<0)return h(this.m()*C.m());const b=this.g.length+C.g.length,A=[];for(var P=0;P<2*b;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(let R=0;R<C.g.length;R++){const D=this.i(P)>>>16,I=this.i(P)&65535,ut=C.i(R)>>>16,qt=C.i(R)&65535;A[2*P+2*R]+=I*qt,K(A,2*P+2*R),A[2*P+2*R+1]+=D*qt,K(A,2*P+2*R+1),A[2*P+2*R+1]+=I*ut,K(A,2*P+2*R+1),A[2*P+2*R+2]+=D*ut,K(A,2*P+2*R+2)}for(C=0;C<b;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=b;C<2*b;C++)A[C]=0;return new o(A,0)};function K(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ee(C,b){this.g=C,this.h=b}function re(C,b){if(M(b))throw Error("division by zero");if(M(C))return new ee(_,_);if(B(C))return b=re($(C),b),new ee($(b.g),$(b.h));if(B(b))return b=re(C,$(b)),new ee($(b.g),b.h);if(C.g.length>30){if(B(C)||B(b))throw Error("slowDivide_ only works with positive integers.");for(var A=v,P=b;P.l(C)<=0;)A=Te(A),P=Te(P);var R=Ve(A,1),D=Ve(P,1);for(P=Ve(P,2),A=Ve(A,2);!M(P);){var I=D.add(P);I.l(C)<=0&&(R=R.add(A),D=I),P=Ve(P,1),A=Ve(A,1)}return b=Q(C,R.j(b)),new ee(R,b)}for(R=_;C.l(b)>=0;){for(A=Math.max(1,Math.floor(C.m()/b.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),D=h(A),I=D.j(b);B(I)||I.l(C)>0;)A-=P,D=h(A),I=D.j(b);M(D)&&(D=v),R=R.add(D),C=Q(C,I)}return new ee(R,C)}t.B=function(C){return re(this,C).h},t.and=function(C){const b=Math.max(this.g.length,C.g.length),A=[];for(let P=0;P<b;P++)A[P]=this.i(P)&C.i(P);return new o(A,this.h&C.h)},t.or=function(C){const b=Math.max(this.g.length,C.g.length),A=[];for(let P=0;P<b;P++)A[P]=this.i(P)|C.i(P);return new o(A,this.h|C.h)},t.xor=function(C){const b=Math.max(this.g.length,C.g.length),A=[];for(let P=0;P<b;P++)A[P]=this.i(P)^C.i(P);return new o(A,this.h^C.h)};function Te(C){const b=C.g.length+1,A=[];for(let P=0;P<b;P++)A[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(A,C.h)}function Ve(C,b){const A=b>>5;b%=32;const P=C.g.length-A,R=[];for(let D=0;D<P;D++)R[D]=b>0?C.i(D+A)>>>b|C.i(D+A+1)<<32-b:C.i(D+A);return new o(R,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Gy=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=p,Br=o}).apply(typeof Vm<"u"?Vm:typeof self<"u"?self:typeof window<"u"?window:{});var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qy,Ea,Yy,al,jh,Xy,Jy,Zy;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hc=="object"&&Hc];for(var f=0;f<a.length;++f){var m=a[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var s=n(this);function r(a,f){if(f)e:{var m=s;a=a.split(".");for(var E=0;E<a.length-1;E++){var x=a[E];if(!(x in m))break e;m=m[x]}a=a[a.length-1],E=m[a],f=f(E),f!=E&&f!=null&&e(m,a,{configurable:!0,writable:!0,value:f})}}r("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(a){return a||function(f){var m=[],E;for(E in f)Object.prototype.hasOwnProperty.call(f,E)&&m.push([E,f[E]]);return m}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function l(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function u(a,f,m){return a.call.apply(a.bind,arguments)}function h(a,f,m){return h=u,h.apply(null,arguments)}function p(a,f){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),a.apply(this,E)}}function _(a,f){function m(){}m.prototype=f.prototype,a.Z=f.prototype,a.prototype=new m,a.prototype.constructor=a,a.Ob=function(E,x,V){for(var te=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)te[Pe-2]=arguments[Pe];return f.prototype[x].apply(E,te)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function w(a){const f=a.length;if(f>0){const m=Array(f);for(let E=0;E<f;E++)m[E]=a[E];return m}return[]}function M(a,f){for(let E=1;E<arguments.length;E++){const x=arguments[E];var m=typeof x;if(m=m!="object"?m:x?Array.isArray(x)?"array":m:"null",m=="array"||m=="object"&&typeof x.length=="number"){m=a.length||0;const V=x.length||0;a.length=m+V;for(let te=0;te<V;te++)a[m+te]=x[te]}else a.push(x)}}class B{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function $(a){o.setTimeout(()=>{throw a},0)}function Q(){var a=C;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class K{constructor(){this.h=this.g=null}add(f,m){const E=ee.get();E.set(f,m),this.h?this.h.next=E:this.g=E,this.h=E}}var ee=new B(()=>new re,a=>a.reset());class re{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,Ve=!1,C=new K,b=()=>{const a=Promise.resolve(void 0);Te=()=>{a.then(A)}};function A(){for(var a;a=Q();){try{a.h.call(a.g)}catch(m){$(m)}var f=ee;f.j(a),f.h<100&&(f.h++,a.next=f.g,f.g=a)}Ve=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return a})();function I(a){return/^[\s\xa0]*$/.test(a)}function ut(a,f){R.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,f)}_(ut,R),ut.prototype.init=function(a,f){const m=this.type=a.type,E=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget,f||(m=="mouseover"?f=a.fromElement:m=="mouseout"&&(f=a.toElement)),this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&ut.Z.h.call(this)},ut.prototype.h=function(){ut.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var qt="closure_listenable_"+(Math.random()*1e6|0),ht=0;function He(a,f,m,E,x){this.listener=a,this.proxy=null,this.src=f,this.type=m,this.capture=!!E,this.ha=x,this.key=++ht,this.da=this.fa=!1}function De(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Qt(a,f,m){for(const E in a)f.call(m,a[E],E,a)}function bn(a,f){for(const m in a)f.call(void 0,a[m],m,a)}function W(a){const f={};for(const m in a)f[m]=a[m];return f}const yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function On(a,f){let m,E;for(let x=1;x<arguments.length;x++){E=arguments[x];for(m in E)a[m]=E[m];for(let V=0;V<yt.length;V++)m=yt[V],Object.prototype.hasOwnProperty.call(E,m)&&(a[m]=E[m])}}function un(a){this.src=a,this.g={},this.h=0}un.prototype.add=function(a,f,m,E,x){const V=a.toString();a=this.g[V],a||(a=this.g[V]=[],this.h++);const te=pt(a,f,E,x);return te>-1?(f=a[te],m||(f.fa=!1)):(f=new He(f,this.src,V,!!E,x),f.fa=m,a.push(f)),f};function vt(a,f){const m=f.type;if(m in a.g){var E=a.g[m],x=Array.prototype.indexOf.call(E,f,void 0),V;(V=x>=0)&&Array.prototype.splice.call(E,x,1),V&&(De(f),a.g[m].length==0&&(delete a.g[m],a.h--))}}function pt(a,f,m,E){for(let x=0;x<a.length;++x){const V=a[x];if(!V.da&&V.listener==f&&V.capture==!!m&&V.ha==E)return x}return-1}var U="closure_lm_"+(Math.random()*1e6|0),ae={};function F(a,f,m,E,x){if(Array.isArray(f)){for(let V=0;V<f.length;V++)F(a,f[V],m,E,x);return null}return m=se(m),a&&a[qt]?a.J(f,m,l(E)?!!E.capture:!1,x):fe(a,f,m,!1,E,x)}function fe(a,f,m,E,x,V){if(!f)throw Error("Invalid event type");const te=l(x)?!!x.capture:!!x;let Pe=H(a);if(Pe||(a[U]=Pe=new un(a)),m=Pe.add(f,m,E,te,V),m.proxy)return m;if(E=xe(),m.proxy=E,E.src=a,E.listener=m,a.addEventListener)D||(x=te),x===void 0&&(x=!1),a.addEventListener(f.toString(),E,x);else if(a.attachEvent)a.attachEvent(N(f.toString()),E);else if(a.addListener&&a.removeListener)a.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function xe(){function a(m){return f.call(a.src,a.listener,m)}const f=q;return a}function T(a,f,m,E,x){if(Array.isArray(f))for(var V=0;V<f.length;V++)T(a,f[V],m,E,x);else E=l(E)?!!E.capture:!!E,m=se(m),a&&a[qt]?(a=a.i,V=String(f).toString(),V in a.g&&(f=a.g[V],m=pt(f,m,E,x),m>-1&&(De(f[m]),Array.prototype.splice.call(f,m,1),f.length==0&&(delete a.g[V],a.h--)))):a&&(a=H(a))&&(f=a.g[f.toString()],a=-1,f&&(a=pt(f,m,E,x)),(m=a>-1?f[a]:null)&&S(m))}function S(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[qt])vt(f.i,a);else{var m=a.type,E=a.proxy;f.removeEventListener?f.removeEventListener(m,E,a.capture):f.detachEvent?f.detachEvent(N(m),E):f.addListener&&f.removeListener&&f.removeListener(E),(m=H(f))?(vt(m,a),m.h==0&&(m.src=null,f[U]=null)):De(a)}}}function N(a){return a in ae?ae[a]:ae[a]="on"+a}function q(a,f){if(a.da)a=!0;else{f=new ut(f,this);const m=a.listener,E=a.ha||a.src;a.fa&&S(a),a=m.call(E,f)}return a}function H(a){return a=a[U],a instanceof un?a:null}var j="__closure_events_fn_"+(Math.random()*1e9>>>0);function se(a){return typeof a=="function"?a:(a[j]||(a[j]=function(f){return a.handleEvent(f)}),a[j])}function Z(){P.call(this),this.i=new un(this),this.M=this,this.G=null}_(Z,P),Z.prototype[qt]=!0,Z.prototype.removeEventListener=function(a,f,m,E){T(this,a,f,m,E)};function X(a,f){var m,E=a.G;if(E)for(m=[];E;E=E.G)m.push(E);if(a=a.M,E=f.type||f,typeof f=="string")f=new R(f,a);else if(f instanceof R)f.target=f.target||a;else{var x=f;f=new R(E,a),On(f,x)}x=!0;let V,te;if(m)for(te=m.length-1;te>=0;te--)V=f.g=m[te],x=J(V,E,!0,f)&&x;if(V=f.g=a,x=J(V,E,!0,f)&&x,x=J(V,E,!1,f)&&x,m)for(te=0;te<m.length;te++)V=f.g=m[te],x=J(V,E,!1,f)&&x}Z.prototype.N=function(){if(Z.Z.N.call(this),this.i){var a=this.i;for(const f in a.g){const m=a.g[f];for(let E=0;E<m.length;E++)De(m[E]);delete a.g[f],a.h--}}this.G=null},Z.prototype.J=function(a,f,m,E){return this.i.add(String(a),f,!1,m,E)},Z.prototype.K=function(a,f,m,E){return this.i.add(String(a),f,!0,m,E)};function J(a,f,m,E){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();let x=!0;for(let V=0;V<f.length;++V){const te=f[V];if(te&&!te.da&&te.capture==m){const Pe=te.listener,wt=te.ha||te.src;te.fa&&vt(a.i,te),x=Pe.call(wt,E)!==!1&&x}}return x&&!E.defaultPrevented}function ge(a,f){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=h(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(a,f||0)}function oe(a){a.g=ge(()=>{a.g=null,a.i&&(a.i=!1,oe(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class pe extends P{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function me(a){P.call(this),this.h=a,this.g={}}_(me,P);var be=[];function We(a){Qt(a.g,function(f,m){this.g.hasOwnProperty(m)&&S(f)},a),a.g={}}me.prototype.N=function(){me.Z.N.call(this),We(this)},me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var je=o.JSON.stringify,Ft=o.JSON.parse,mt=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function It(){}function At(){}var Yt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ur(){R.call(this,"d")}_(ur,R);function Et(){R.call(this,"c")}_(Et,R);var St={},ti=null;function xs(){return ti=ti||new Z}St.Ia="serverreachability";function yc(a){R.call(this,St.Ia,a)}_(yc,R);function ni(a){const f=xs();X(f,new yc(f))}St.STAT_EVENT="statevent";function vc(a,f){R.call(this,St.STAT_EVENT,a),this.stat=f}_(vc,R);function Ut(a){const f=xs();X(f,new vc(f,a))}St.Ja="timingevent";function si(a,f){R.call(this,St.Ja,a),this.size=f}_(si,R);function hr(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},f)}function fr(){this.g=!0}fr.prototype.ua=function(){this.g=!1};function Au(a,f,m,E,x,V){a.info(function(){if(a.g)if(V){var te="",Pe=V.split("&");for(let $e=0;$e<Pe.length;$e++){var wt=Pe[$e].split("=");if(wt.length>1){const it=wt[0];wt=wt[1];const xn=it.split("_");te=xn.length>=2&&xn[1]=="type"?te+(it+"="+wt+"&"):te+(it+"=redacted&")}}}else te=null;else te=V;return"XMLHTTP REQ ("+E+") [attempt "+x+"]: "+f+`
`+m+`
`+te})}function Su(a,f,m,E,x,V,te){a.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+x+"]: "+f+`
`+m+`
`+V+" "+te})}function dr(a,f,m,E){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+pr(a,m)+(E?" "+E:"")})}function Cu(a,f){a.info(function(){return"TIMEOUT: "+f})}fr.prototype.info=function(){};function pr(a,f){if(!a.g)return f;if(!f)return null;try{const V=JSON.parse(f);if(V){for(a=0;a<V.length;a++)if(Array.isArray(V[a])){var m=V[a];if(!(m.length<2)){var E=m[1];if(Array.isArray(E)&&!(E.length<1)){var x=E[0];if(x!="noop"&&x!="stop"&&x!="close")for(let te=1;te<E.length;te++)E[te]=""}}}}return je(V)}catch{return f}}var rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ec={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wc;function $o(){}_($o,It),$o.prototype.g=function(){return new XMLHttpRequest},wc=new $o;function ri(a){return encodeURIComponent(String(a))}function Ru(a){var f=1;a=a.split(":");const m=[];for(;f>0&&a.length;)m.push(a.shift()),f--;return a.length&&m.push(a.join(":")),m}function Nn(a,f,m,E){this.j=a,this.i=f,this.l=m,this.S=E||1,this.V=new me(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vs}function Vs(){this.i=null,this.g="",this.h=!1}var ii={},qo={};function oi(a,f,m){a.M=1,a.A=ci(In(f)),a.u=m,a.R=!0,Tc(a,null)}function Tc(a,f){a.F=Date.now(),jt(a),a.B=In(a.A);var m=a.B,E=a.S;Array.isArray(E)||(E=[String(E)]),zi(m.i,"t",E),a.C=0,m=a.j.L,a.h=new Vs,a.g=Rc(a.j,m?f:null,!a.u),a.P>0&&(a.O=new pe(h(a.Y,a,a.g),a.P)),f=a.V,m=a.g,E=a.ba;var x="readystatechange";Array.isArray(x)||(x&&(be[0]=x.toString()),x=be);for(let V=0;V<x.length;V++){const te=F(m,x[V],E||f.handleEvent,!1,f.h||f);if(!te)break;f.g[te.key]=te}f=a.J?W(a.J):{},a.u?(a.v||(a.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,f)):(a.v="GET",a.g.ea(a.B,a.v,null,f)),ni(),Au(a.i,a.v,a.B,a.l,a.S,a.u)}Nn.prototype.ba=function(a){a=a.target;const f=this.O;f&&Qn(a)==3?f.j():this.Y(a)},Nn.prototype.Y=function(a){try{if(a==this.g)e:{const Pe=Qn(this.g),wt=this.g.ya(),$e=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||Xi(this.g)))){this.K||Pe!=4||wt==7||(wt==8||$e<=0?ni(3):ni(2)),Ot(this);var f=this.g.ca();this.X=f;var m=Pu(this);if(this.o=f==200,Su(this.i,this.v,this.B,this.l,this.S,Pe,f),this.o){if(this.U&&!this.L){t:{if(this.g){var E,x=this.g;if((E=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(E)){var V=E;break t}}V=null}if(a=V)dr(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zn(this,a);else{this.o=!1,this.m=3,Ut(12),yn(this),is(this);break e}}if(this.R){a=!0;let it;for(;!this.K&&this.C<m.length;)if(it=Ht(this,m),it==qo){Pe==4&&(this.m=4,Ut(14),a=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(it==ii){this.m=4,Ut(15),dr(this.i,this.l,m,"[Invalid Chunk]"),a=!1;break}else dr(this.i,this.l,it,null),zn(this,it);if(Ms(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||m.length!=0||this.h.h||(this.m=1,Ut(16),a=!1),this.o=this.o&&a,!a)dr(this.i,this.l,m,"[Invalid Chunked Response]"),yn(this),is(this);else if(m.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+m.length),Zi(te),te.P=!0,Ut(11))}}else dr(this.i,this.l,m,null),zn(this,m);Pe==4&&yn(this),this.o&&!this.K&&(Pe==4?Sc(this.j,this):(this.o=!1,jt(this)))}else ea(this.g),f==400&&m.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),yn(this),is(this)}}}catch{}finally{}};function Pu(a){if(!Ms(a))return a.g.la();const f=Xi(a.g);if(f==="")return"";let m="";const E=f.length,x=Qn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return yn(a),is(a),"";a.h.i=new o.TextDecoder}for(let V=0;V<E;V++)a.h.h=!0,m+=a.h.i.decode(f[V],{stream:!(x&&V==E-1)});return f.length=0,a.h.g+=m,a.C=0,a.h.g}function Ms(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function Ht(a,f){var m=a.C,E=f.indexOf(`
`,m);return E==-1?qo:(m=Number(f.substring(m,E)),isNaN(m)?ii:(E+=1,E+m>f.length?qo:(f=f.slice(E,E+m),a.C=E+m,f)))}Nn.prototype.cancel=function(){this.K=!0,yn(this)};function jt(a){a.T=Date.now()+a.H,Xt(a,a.H)}function Xt(a,f){if(a.D!=null)throw Error("WatchDog timer not null");a.D=hr(h(a.aa,a),f)}function Ot(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Nn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(Cu(this.i,this.B),this.M!=2&&(ni(),Ut(17)),yn(this),this.m=2,is(this)):Xt(this,this.T-a)};function is(a){a.j.I==0||a.K||Sc(a.j,a)}function yn(a){Ot(a);var f=a.O;f&&typeof f.dispose=="function"&&f.dispose(),a.O=null,We(a.V),a.g&&(f=a.g,a.g=null,f.abort(),f.dispose())}function zn(a,f){try{var m=a.j;if(m.I!=0&&(m.g==a||$i(m.h,a))){if(!a.L&&$i(m.h,a)&&m.I==3){try{var E=m.Ba.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var x=E;if(x[0]==0){e:if(!m.v){if(m.g)if(m.g.F+3e3<a.F)di(m),Er(m);else break e;Ji(m),Ut(18)}}else m.xa=x[1],0<m.xa-m.K&&x[2]<37500&&m.F&&m.A==0&&!m.C&&(m.C=hr(h(m.Va,m),6e3));Ls(m.h)<=1&&m.ta&&(m.ta=void 0)}else ls(m,11)}else if((a.L||m.g==a)&&di(m),!I(f))for(x=m.Ba.g.parse(f),f=0;f<x.length;f++){let $e=x[f];const it=$e[0];if(!(it<=m.K))if(m.K=it,$e=$e[1],m.I==2)if($e[0]=="c"){m.M=$e[1],m.ba=$e[2];const xn=$e[3];xn!=null&&(m.ka=xn,m.j.info("VER="+m.ka));const Vn=$e[4];Vn!=null&&(m.za=Vn,m.j.info("SVER="+m.za));const fs=$e[5];fs!=null&&typeof fs=="number"&&fs>0&&(E=1.5*fs,m.O=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const ds=a.g;if(ds){const to=ds.g?ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(to){var V=E.h;V.g||to.indexOf("spdy")==-1&&to.indexOf("quic")==-1&&to.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(ai(V,V.h),V.h=null))}if(E.G){const aa=ds.g?ds.g.getResponseHeader("X-HTTP-Session-Id"):null;aa&&(E.wa=aa,Ze(E.J,E.G,aa))}}m.I=3,m.l&&m.l.ra(),m.aa&&(m.T=Date.now()-a.F,m.j.info("Handshake RTT: "+m.T+"ms")),E=m;var te=a;if(E.na=pi(E,E.L?E.ba:null,E.W),te.L){qi(E.h,te);var Pe=te,wt=E.O;wt&&(Pe.H=wt),Pe.D&&(Ot(Pe),jt(Pe)),E.g=te}else ra(E);m.i.length>0&&fi(m)}else $e[0]!="stop"&&$e[0]!="close"||ls(m,7);else m.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ls(m,7):qs(m):$e[0]!="noop"&&m.l&&m.l.qa($e),m.A=0)}}ni(4)}catch{}}var mr=class{constructor(a,f){this.g=a,this.map=f}};function Ho(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bi(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ls(a){return a.h?1:a.g?a.g.size:0}function $i(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function ai(a,f){a.g?a.g.add(f):a.h=f}function qi(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}Ho.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Wo(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const m of a.g.values())f=f.concat(m.G);return f}return w(a.i)}var zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bc(a,f){if(a){a=a.split("&");for(let m=0;m<a.length;m++){const E=a[m].indexOf("=");let x,V=null;E>=0?(x=a[m].substring(0,E),V=a[m].substring(E+1)):x=a[m],f(x,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Kn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;a instanceof Kn?(this.l=a.l,gr(this,a.j),this.o=a.o,this.g=a.g,_r(this,a.u),this.h=a.h,Hi(this,Yo(a.i)),this.m=a.m):a&&(f=String(a).match(zo))?(this.l=!1,gr(this,f[1]||"",!0),this.o=Jt(f[2]||""),this.g=Jt(f[3]||"",!0),_r(this,f[4]),this.h=Jt(f[5]||"",!0),Hi(this,f[6]||"",!0),this.m=Jt(f[7]||"")):(this.l=!1,this.i=new os(null,this.l))}Kn.prototype.toString=function(){const a=[];var f=this.j;f&&a.push(Nt(f,hn,!0),":");var m=this.g;return(m||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Nt(f,hn,!0),"@"),a.push(ri(m).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.u,m!=null&&a.push(":",String(m))),(m=this.h)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Nt(m,m.charAt(0)=="/"?Go:Ko,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Nt(m,Us)),a.join("")},Kn.prototype.resolve=function(a){const f=In(this);let m=!!a.j;m?gr(f,a.j):m=!!a.o,m?f.o=a.o:m=!!a.g,m?f.g=a.g:m=a.u!=null;var E=a.h;if(m)_r(f,a.u);else if(m=!!a.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var x=f.h.lastIndexOf("/");x!=-1&&(E=f.h.slice(0,x+1)+E)}if(x=E,x==".."||x==".")E="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){E=x.lastIndexOf("/",0)==0,x=x.split("/");const V=[];for(let te=0;te<x.length;){const Pe=x[te++];Pe=="."?E&&te==x.length&&V.push(""):Pe==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),E&&te==x.length&&V.push("")):(V.push(Pe),E=!0)}E=V.join("/")}else E=x}return m?f.h=E:m=a.i.toString()!=="",m?Hi(f,Yo(a.i)):m=!!a.m,m&&(f.m=a.m),f};function In(a){return new Kn(a)}function gr(a,f,m){a.j=m?Jt(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function _r(a,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);a.u=f}else a.u=null}function Hi(a,f,m){f instanceof os?(a.i=f,ku(a.i,a.l)):(m||(f=Nt(f,Dn)),a.i=new os(f,a.l))}function Ze(a,f,m){a.i.set(f,m)}function ci(a){return Ze(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Jt(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Nt(a,f,m){return typeof a=="string"?(a=encodeURI(a).replace(f,Fs),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Fs(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var hn=/[#\/\?@]/g,Ko=/[#\?:]/g,Go=/[#\?]/g,Dn=/[#\?@]/g,Us=/#/g;function os(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function vn(a){a.g||(a.g=new Map,a.h=0,a.i&&bc(a.i,function(f,m){a.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=os.prototype,t.add=function(a,f){vn(this),this.i=null,a=Zt(this,a);let m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(f),this.h+=1,this};function Wi(a,f){vn(a),f=Zt(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Qo(a,f){return vn(a),f=Zt(a,f),a.g.has(f)}t.forEach=function(a,f){vn(this),this.g.forEach(function(m,E){m.forEach(function(x){a.call(f,x,E,this)},this)},this)};function js(a,f){vn(a);let m=[];if(typeof f=="string")Qo(a,f)&&(m=m.concat(a.g.get(Zt(a,f))));else for(a=Array.from(a.g.values()),f=0;f<a.length;f++)m=m.concat(a[f]);return m}t.set=function(a,f){return vn(this),this.i=null,a=Zt(this,a),Qo(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=js(this,a),a.length>0?String(a[0]):f):f};function zi(a,f,m){Wi(a,f),m.length>0&&(a.i=null,a.g.set(Zt(a,f),w(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(let E=0;E<f.length;E++){var m=f[E];const x=ri(m);m=js(this,m);for(let V=0;V<m.length;V++){let te=x;m[V]!==""&&(te+="="+ri(m[V])),a.push(te)}}return this.i=a.join("&")};function Yo(a){const f=new os;return f.i=a.i,a.g&&(f.g=new Map(a.g),f.h=a.h),f}function Zt(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function ku(a,f){f&&!a.j&&(vn(a),a.i=null,a.g.forEach(function(m,E){const x=E.toLowerCase();E!=x&&(Wi(this,E),zi(this,x,m))},a)),a.j=f}function as(a,f){const m=new fr;if(o.Image){const E=new Image;E.onload=p(Gn,m,"TestLoadImage: loaded",!0,f,E),E.onerror=p(Gn,m,"TestLoadImage: error",!1,f,E),E.onabort=p(Gn,m,"TestLoadImage: abort",!1,f,E),E.ontimeout=p(Gn,m,"TestLoadImage: timeout",!1,f,E),o.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=a}else f(!1)}function Ki(a,f){const m=new fr,E=new AbortController,x=setTimeout(()=>{E.abort(),Gn(m,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:E.signal}).then(V=>{clearTimeout(x),V.ok?Gn(m,"TestPingServer: ok",!0,f):Gn(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),Gn(m,"TestPingServer: error",!1,f)})}function Gn(a,f,m,E,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),E(m)}catch{}}function li(){this.g=new mt}function ui(a){this.i=a.Sb||null,this.h=a.ab||!1}_(ui,It),ui.prototype.g=function(){return new cs(this.i,this.h)};function cs(a,f){Z.call(this),this.H=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(cs,Z),t=cs.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=f,this.readyState=1,vr(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(f.body=a),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xo(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xo(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?yr(this):vr(this),this.readyState==3&&Xo(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,yr(this))},t.Na=function(a){this.g&&(this.response=a,yr(this))},t.ga=function(){this.g&&yr(this)};function yr(a){a.readyState=4,a.l=null,a.j=null,a.B=null,vr(a)}t.setRequestHeader=function(a,f){this.A.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=f.next();return a.join(`\r
`)};function vr(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Bs(a){let f="";return Qt(a,function(m,E){f+=E,f+=":",f+=m,f+=`\r
`}),f}function Jo(a,f,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=Bs(m),typeof a=="string"?m!=null&&ri(m):Ze(a,f,m))}function ct(a){Z.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ct,Z);var Zo=/^https?$/i,Gi=["POST","PUT"];t=ct.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,f,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wc.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(V){Qi(this,V);return}if(a=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var x in E)m.set(x,E[x]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const V of E.keys())m.set(V,E.get(V));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),x=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(Gi,f,void 0)>=0)||E||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,te]of m)this.g.setRequestHeader(V,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(V){Qi(this,V)}};function Qi(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.o=5,Ic(a),Yi(a)}function Ic(a){a.A||(a.A=!0,X(a,"complete"),X(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,X(this,"complete"),X(this,"abort"),Yi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?hi(this):this.Xa())},t.Xa=function(){hi(this)};function hi(a){if(a.h&&typeof i<"u"){if(a.v&&Qn(a)==4)setTimeout(a.Ca.bind(a),0);else if(X(a,"readystatechange"),Qn(a)==4){a.h=!1;try{const V=a.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var E;if(E=V===0){let te=String(a.D).match(zo)[1]||null;!te&&o.self&&o.self.location&&(te=o.self.location.protocol.slice(0,-1)),E=!Zo.test(te?te.toLowerCase():"")}m=E}if(m)X(a,"complete"),X(a,"success");else{a.o=6;try{var x=Qn(a)>2?a.g.statusText:""}catch{x=""}a.l=x+" ["+a.ca()+"]",Ic(a)}}finally{Yi(a)}}}}function Yi(a,f){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const m=a.g;a.g=null,f||X(a,"ready");try{m.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Qn(a){return a.g?a.g.readyState:0}t.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Ft(f)}};function Xi(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function ea(a){const f={};a=(a.g&&Qn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<a.length;E++){if(I(a[E]))continue;var m=Ru(a[E]);const x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=f[x]||[];f[x]=V,V.push(m)}bn(f,function(E){return E.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(a,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||f}function ta(a){this.za=0,this.i=[],this.j=new fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$s("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$s("baseRetryDelayMs",5e3,a),this.Za=$s("retryDelaySeedMs",1e4,a),this.Ta=$s("forwardChannelMaxRetries",2,a),this.va=$s("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(a&&a.concurrentRequestLimit),this.Ba=new li,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ta.prototype,t.ka=8,t.I=1,t.connect=function(a,f,m,E){Ut(0),this.W=a,this.H=f||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.J=pi(this,null,this.W),fi(this)};function qs(a){if(na(a),a.I==3){var f=a.V++,m=In(a.J);if(Ze(m,"SID",a.M),Ze(m,"RID",f),Ze(m,"TYPE","terminate"),Tr(a,m),f=new Nn(a,a.j,f),f.M=2,f.A=ci(In(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.A,m=!0),m||(f.g=Rc(f.j,null),f.g.ea(f.A)),f.F=Date.now(),jt(f)}ia(a)}function Er(a){a.g&&(Zi(a),a.g.cancel(),a.g=null)}function na(a){Er(a),a.v&&(o.clearTimeout(a.v),a.v=null),di(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function fi(a){if(!Bi(a.h)&&!a.m){a.m=!0;var f=a.Ea;Te||b(),Ve||(Te(),Ve=!0),C.add(f,a),a.D=0}}function wr(a,f){return Ls(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=f.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=hr(h(a.Ea,a,f),Cc(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const x=new Nn(this,this.j,a);let V=this.o;if(this.U&&(V?(V=W(V),On(V,this.U)):V=this.U),this.u!==null||this.R||(x.J=V,V=null),this.S)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,f>4096){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=sa(this,x,f),m=In(this.J),Ze(m,"RID",a),Ze(m,"CVER",22),this.G&&Ze(m,"X-HTTP-Session-Id",this.G),Tr(this,m),V&&(this.R?f="headers="+ri(Bs(V))+"&"+f:this.u&&Jo(m,this.u,V)),ai(this.h,x),this.Ra&&Ze(m,"TYPE","init"),this.S?(Ze(m,"$req",f),Ze(m,"SID","null"),x.U=!0,oi(x,m,null)):oi(x,m,f),this.I=2}}else this.I==3&&(a?Ac(this,a):this.i.length==0||Bi(this.h)||Ac(this))};function Ac(a,f){var m;f?m=f.l:m=a.V++;const E=In(a.J);Ze(E,"SID",a.M),Ze(E,"RID",m),Ze(E,"AID",a.K),Tr(a,E),a.u&&a.o&&Jo(E,a.u,a.o),m=new Nn(a,a.j,m,a.D+1),a.u===null&&(m.J=a.o),f&&(a.i=f.G.concat(a.i)),f=sa(a,m,1e3),m.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),ai(a.h,m),oi(m,E,f)}function Tr(a,f){a.H&&Qt(a.H,function(m,E){Ze(f,E,m)}),a.l&&Qt({},function(m,E){Ze(f,E,m)})}function sa(a,f,m){m=Math.min(a.i.length,m);const E=a.l?h(a.l.Ka,a.l,a):null;e:{var x=a.i;let Pe=-1;for(;;){const wt=["count="+m];Pe==-1?m>0?(Pe=x[0].g,wt.push("ofs="+Pe)):Pe=0:wt.push("ofs="+Pe);let $e=!0;for(let it=0;it<m;it++){var V=x[it].g;const xn=x[it].map;if(V-=Pe,V<0)Pe=Math.max(0,x[it].g-100),$e=!1;else try{V="req"+V+"_"||"";try{var te=xn instanceof Map?xn:Object.entries(xn);for(const[Vn,fs]of te){let ds=fs;l(fs)&&(ds=je(fs)),wt.push(V+Vn+"="+encodeURIComponent(ds))}}catch(Vn){throw wt.push(V+"type="+encodeURIComponent("_badmap")),Vn}}catch{E&&E(xn)}}if($e){te=wt.join("&");break e}}te=void 0}return a=a.i.splice(0,m),f.G=a,te}function ra(a){if(!a.g&&!a.v){a.Y=1;var f=a.Da;Te||b(),Ve||(Te(),Ve=!0),C.add(f,a),a.A=0}}function Ji(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=hr(h(a.Da,a),Cc(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,eo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=hr(h(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),Er(this),eo(this))};function Zi(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function eo(a){a.g=new Nn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var f=In(a.na);Ze(f,"RID","rpc"),Ze(f,"SID",a.M),Ze(f,"AID",a.K),Ze(f,"CI",a.F?"0":"1"),!a.F&&a.ia&&Ze(f,"TO",a.ia),Ze(f,"TYPE","xmlhttp"),Tr(a,f),a.u&&a.o&&Jo(f,a.u,a.o),a.O&&(a.g.H=a.O);var m=a.g;a=a.ba,m.M=1,m.A=ci(In(f)),m.u=null,m.R=!0,Tc(m,a)}t.Va=function(){this.C!=null&&(this.C=null,Er(this),Ji(this),Ut(19))};function di(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function Sc(a,f){var m=null;if(a.g==f){di(a),Zi(a),a.g=null;var E=2}else if($i(a.h,f))m=f.G,qi(a.h,f),E=1;else return;if(a.I!=0){if(f.o)if(E==1){m=f.u?f.u.length:0,f=Date.now()-f.F;var x=a.D;E=xs(),X(E,new si(E,m)),fi(a)}else ra(a);else if(x=f.m,x==3||x==0&&f.X>0||!(E==1&&wr(a,f)||E==2&&Ji(a)))switch(m&&m.length>0&&(f=a.h,f.i=f.i.concat(m)),x){case 1:ls(a,5);break;case 4:ls(a,10);break;case 3:ls(a,6);break;default:ls(a,2)}}}function Cc(a,f){let m=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(m*=2),m*f}function ls(a,f){if(a.j.info("Error code "+f),f==2){var m=h(a.bb,a),E=a.Ua;const x=!E;E=new Kn(E||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||gr(E,"https"),ci(E),x?as(E.toString(),m):Ki(E.toString(),m)}else Ut(2);a.I=0,a.l&&a.l.pa(f),ia(a),na(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function ia(a){if(a.I=0,a.ja=[],a.l){const f=Wo(a.h);(f.length!=0||a.i.length!=0)&&(M(a.ja,f),M(a.ja,a.i),a.h.i.length=0,w(a.i),a.i.length=0),a.l.oa()}}function pi(a,f,m){var E=m instanceof Kn?In(m):new Kn(m);if(E.g!="")f&&(E.g=f+"."+E.g),_r(E,E.u);else{var x=o.location;E=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;const V=new Kn(null);E&&gr(V,E),f&&(V.g=f),x&&_r(V,x),m&&(V.h=m),E=V}return m=a.G,f=a.wa,m&&f&&Ze(E,m,f),Ze(E,"VER",a.ka),Tr(a,E),E}function Rc(a,f,m){if(f&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Aa&&!a.ma?new ct(new ui({ab:m})):new ct(a.ma),f.Fa(a.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}t=Pc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function br(){}br.prototype.g=function(a,f){return new en(a,f)};function en(a,f){Z.call(this),this.g=new ta(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(a?a["X-WebChannel-Client-Profile"]=f.sa:a={"X-WebChannel-Client-Profile":f.sa}),this.g.U=a,(a=f&&f.Qb)&&!I(a)&&(this.g.u=a),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!I(f)&&(this.g.G=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new hs(this)}_(en,Z),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){qs(this.g)},en.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.v&&(m={},m.__data__=je(a),a=m);f.i.push(new mr(f.Ya++,a)),f.I==3&&fi(f)},en.prototype.N=function(){this.g.l=null,delete this.j,qs(this.g),delete this.g,en.Z.N.call(this)};function oa(a){ur.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const m in f){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}_(oa,ur);function us(){Et.call(this),this.status=1}_(us,Et);function hs(a){this.g=a}_(hs,Pc),hs.prototype.ra=function(){X(this.g,"a")},hs.prototype.qa=function(a){X(this.g,new oa(a))},hs.prototype.pa=function(a){X(this.g,new us)},hs.prototype.oa=function(){X(this.g,"b")},br.prototype.createWebChannel=br.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,Zy=function(){return new br},Jy=function(){return xs()},Xy=St,jh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,al=rs,Ec.COMPLETE="complete",Yy=Ec,At.EventType=Yt,Yt.OPEN="a",Yt.CLOSE="b",Yt.ERROR="c",Yt.MESSAGE="d",Z.prototype.listen=Z.prototype.J,Ea=At,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,Qy=ct}).apply(typeof Hc<"u"?Hc:typeof self<"u"?self:typeof window<"u"?window:{});const Mm="@firebase/firestore",Lm="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Af("@firebase/firestore");function ao(){return Vi.logLevel}function le(t,...e){if(Vi.logLevel<=Le.DEBUG){const n=e.map(Ff);Vi.debug(`Firestore (${Fo}): ${t}`,...n)}}function ir(t,...e){if(Vi.logLevel<=Le.ERROR){const n=e.map(Ff);Vi.error(`Firestore (${Fo}): ${t}`,...n)}}function Ro(t,...e){if(Vi.logLevel<=Le.WARN){const n=e.map(Ff);Vi.warn(`Firestore (${Fo}): ${t}`,...n)}}function Ff(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ev(t,s,n)}function ev(t,e,n){let s=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ir(s),new Error(s)}function Ye(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||ev(e,r,s)}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class j0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class B0{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const r=u=>this.i!==s?(s=this.i,n(u)):Promise.resolve();let i=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $r,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await r(this.currentUser)}))},l=u=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $r)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new tv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class $0{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q0{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new $0(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fm{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H0{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>s(i)))};const r=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>r(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Fm(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fm(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=W0(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Fe(t,e){return t<e?-1:t>e?1:0}function Bh(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return hh(r)===hh(i)?Fe(r,i):hh(r)?1:-1}return Fe(t.length,e.length)}const z0=55296,K0=57343;function hh(t){const e=t.charCodeAt(0);return e>=z0&&e<=K0}function Po(t,e,n){return t.length===e.length&&t.every(((s,r)=>n(s,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="__name__";class ys{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ys?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=ys.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Fe(e.length,n.length)}static compareSegments(e,n){const s=ys.isNumericId(e),r=ys.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?ys.extractNumericId(e).compare(ys.extractNumericId(n)):Bh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}}class ft extends ys{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((r=>r.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const G0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends ys{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return G0.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Um}static keyField(){return new Kt([Um])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new de(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new de(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new de(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=u,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(i(),r++)}if(i(),o)throw new de(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ft.fromString(e))}static fromName(e){return new _e(ft.fromString(e).popFirst(5))}static empty(){return new _e(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e,n){if(!n)throw new de(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y0(t,e,n,s){if(e===!0&&s===!0)throw new de(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jm(t){if(!_e.isDocumentKey(t))throw new de(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nv(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function Mi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(t);throw new de(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function dc(t,e){if(!nv(t))throw new de(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const o=t[s];if(r&&typeof o!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new de(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=-62135596800,$m=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*$m);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Bm)throw new de(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$m}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dc(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Bm;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Pt("string",lt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new lt(0,0))}static max(){return new Ae(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=-1;function X0(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Ae.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new zr(r,_e.empty(),e)}function J0(t){return new zr(t.readTime,t.key,Qa)}class zr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new zr(Ae.min(),_e.empty(),Qa)}static max(){return new zr(Ae.max(),_e.empty(),Qa)}}function Z0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==eP)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z(((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):z.reject(n)}static resolve(e){return new z(((n,s)=>{n(e)}))}static reject(e){return new z(((n,s)=>{s(e)}))}static waitFor(e){return new z(((n,s)=>{let r=0,i=0,o=!1;e.forEach((l=>{++r,l.next((()=>{++i,o&&i===r&&n()}),(u=>s(u)))})),o=!0,i===r&&n()}))}static or(e){let n=z.resolve(!1);for(const s of e)n=n.next((r=>r?z.resolve(r):s()));return n}static forEach(e,n){const s=[];return e.forEach(((r,i)=>{s.push(n.call(this,r,i))})),this.waitFor(s)}static mapArray(e,n){return new z(((s,r)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next((p=>{o[h]=p,++l,l===i&&s(o)}),(p=>r(p)))}}))}static doWhile(e,n){return new z(((s,r)=>{const i=()=>{e()===!0?n().next((()=>{i()}),r):s()};i()}))}}function nP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=-1;function lu(t){return t==null}function Ol(t){return t===0&&1/t==-1/0}function sP(t){return typeof t=="number"&&Number.isInteger(t)&&!Ol(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="";function rP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qm(e)),e=iP(t.get(n),e);return qm(e)}function iP(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case sv:n+="";break;default:n+=i}}return n}function qm(t){return t+sv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??Wt.RED,this.left=r??Wt.EMPTY,this.right=i??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Wt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Wt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wm(this.data.getIterator())}getIteratorFrom(e){return new Wm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class Wm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Mt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new iv("Invalid base64 string: "+i):i}})(e);return new Gt(n)}static fromUint8Array(e){const n=(function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i})(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const oP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(Ye(!!t,39018),typeof t=="string"){let e=0;const n=oP.exec(t);if(Ye(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(t.seconds),nanos:bt(t.nanos)}}function bt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gr(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="server_timestamp",av="__type__",cv="__previous_value__",lv="__local_write_time__";function $f(t){return(t?.mapValue?.fields||{})[av]?.stringValue===ov}function uu(t){const e=t.mapValue.fields[cv];return $f(e)?uu(e):e}function Ya(t){const e=Kr(t.mapValue.fields[lv].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n,s,r,i,o,l,u,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=p}}const Nl="(default)";class Xa{constructor(e,n){this.projectId=e,this.database=n||Nl}static empty(){return new Xa("","")}get isDefaultDatabase(){return this.database===Nl}isEqual(e){return e instanceof Xa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="__type__",cP="__max__",zc={mapValue:{}},hv="__vector__",Dl="value";function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$f(t)?4:uP(t)?9007199254740991:lP(t)?10:11:we(28295,{value:t})}function Os(t,e){if(t===e)return!0;const n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ya(t).isEqual(Ya(e));case 3:return(function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Kr(r.timestampValue),l=Kr(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,i){return Gr(r.bytesValue).isEqual(Gr(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,i){return bt(r.geoPointValue.latitude)===bt(i.geoPointValue.latitude)&&bt(r.geoPointValue.longitude)===bt(i.geoPointValue.longitude)})(t,e);case 2:return(function(r,i){if("integerValue"in r&&"integerValue"in i)return bt(r.integerValue)===bt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=bt(r.doubleValue),l=bt(i.doubleValue);return o===l?Ol(o)===Ol(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return Po(t.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:case 11:return(function(r,i){const o=r.mapValue.fields||{},l=i.mapValue.fields||{};if(Hm(o)!==Hm(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Os(o[u],l[u])))return!1;return!0})(t,e);default:return we(52216,{left:t})}}function Ja(t,e){return(t.values||[]).find((n=>Os(n,e)))!==void 0}function ko(t,e){if(t===e)return 0;const n=Qr(t),s=Qr(e);if(n!==s)return Fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return(function(i,o){const l=bt(i.integerValue||i.doubleValue),u=bt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return zm(t.timestampValue,e.timestampValue);case 4:return zm(Ya(t),Ya(e));case 5:return Bh(t.stringValue,e.stringValue);case 6:return(function(i,o){const l=Gr(i),u=Gr(o);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(i,o){const l=i.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const p=Fe(l[h],u[h]);if(p!==0)return p}return Fe(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,o){const l=Fe(bt(i.latitude),bt(o.latitude));return l!==0?l:Fe(bt(i.longitude),bt(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Km(t.arrayValue,e.arrayValue);case 10:return(function(i,o){const l=i.fields||{},u=o.fields||{},h=l[Dl]?.arrayValue,p=u[Dl]?.arrayValue,_=Fe(h?.values?.length||0,p?.values?.length||0);return _!==0?_:Km(h,p)})(t.mapValue,e.mapValue);case 11:return(function(i,o){if(i===zc.mapValue&&o===zc.mapValue)return 0;if(i===zc.mapValue)return 1;if(o===zc.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),h=o.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let _=0;_<u.length&&_<p.length;++_){const v=Bh(u[_],p[_]);if(v!==0)return v;const w=ko(l[u[_]],h[p[_]]);if(w!==0)return w}return Fe(u.length,p.length)})(t.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function zm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Kr(t),s=Kr(e),r=Fe(n.seconds,s.seconds);return r!==0?r:Fe(n.nanos,s.nanos)}function Km(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=ko(n[r],s[r]);if(i)return i}return Fe(n.length,s.length)}function Oo(t){return $h(t)}function $h(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Kr(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Gr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=$h(i);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const o of s)i?i=!1:r+=",",r+=`${o}:${$h(n.fields[o])}`;return r+"}"})(t.mapValue):we(61005,{value:t})}function cl(t){switch(Qr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uu(t);return e?16+cl(e):16;case 5:return 2*t.stringValue.length;case 6:return Gr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,i)=>r+cl(i)),0)})(t.arrayValue);case 10:case 11:return(function(s){let r=0;return Zr(s.fields,((i,o)=>{r+=i.length+cl(o)})),r})(t.mapValue);default:throw we(13486,{value:t})}}function qh(t){return!!t&&"integerValue"in t}function qf(t){return!!t&&"arrayValue"in t}function Gm(t){return!!t&&"nullValue"in t}function Qm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ll(t){return!!t&&"mapValue"in t}function lP(t){return(t?.mapValue?.fields||{})[uv]?.stringValue===hv}function xa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=xa(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xa(t.arrayValue.values[n]);return e}return{...t}}function uP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ll(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xa(n)}setAll(e){let n=Kt.emptyPath(),s={},r=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=xa(o):r.push(l.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());ll(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];ll(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Zr(n,((r,i)=>e[r]=i));for(const r of s)delete e[r]}clone(){return new Tn(xa(this.value))}}function fv(t){const e=[];return Zr(t.fields,((n,s)=>{const r=new Kt([n]);if(ll(s)){const i=fv(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)})),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,s,r,i,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new rn(e,0,Ae.min(),Ae.min(),Ae.min(),Tn.empty(),0)}static newFoundDocument(e,n,s,r){return new rn(e,1,n,Ae.min(),s,r,0)}static newNoDocument(e,n){return new rn(e,2,n,Ae.min(),Ae.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Ae.min(),Ae.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.position=e,this.inclusive=n}}function Ym(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=_e.comparator(_e.fromName(o.referenceValue),n.key):s=ko(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Os(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n="asc"){this.field=e,this.dir=n}}function hP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{}class xt extends dv{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new dP(e,n,s):n==="array-contains"?new gP(e,s):n==="in"?new _P(e,s):n==="not-in"?new yP(e,s):n==="array-contains-any"?new vP(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new pP(e,s):new mP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ko(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ns extends dv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ns(e,n)}matches(e){return pv(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pv(t){return t.op==="and"}function mv(t){return fP(t)&&pv(t)}function fP(t){for(const e of t.filters)if(e instanceof Ns)return!1;return!0}function Hh(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(mv(t))return t.filters.map((e=>Hh(e))).join(",");{const e=t.filters.map((n=>Hh(n))).join(",");return`${t.op}(${e})`}}function gv(t,e){return t instanceof xt?(function(s,r){return r instanceof xt&&s.op===r.op&&s.field.isEqual(r.field)&&Os(s.value,r.value)})(t,e):t instanceof Ns?(function(s,r){return r instanceof Ns&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((i,o,l)=>i&&gv(o,r.filters[l])),!0):!1})(t,e):void we(19439)}function _v(t){return t instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`})(t):t instanceof Ns?(function(n){return n.op.toString()+" {"+n.getFilters().map(_v).join(" ,")+"}"})(t):"Filter"}class dP extends xt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class pP extends xt{constructor(e,n){super(e,"in",n),this.keys=yv("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mP extends xt{constructor(e,n){super(e,"not-in",n),this.keys=yv("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function yv(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class gP extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qf(n)&&Ja(n.arrayValue,this.value)}}class _P extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ja(this.value.arrayValue,n)}}class yP extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ja(this.value.arrayValue,n)}}class vP extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ja(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n=null,s=[],r=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=l,this.Te=null}}function Jm(t,e=null,n=[],s=[],r=null,i=null,o=null){return new EP(t,e,n,s,r,i,o)}function Hf(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Hh(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(i){return i.field.canonicalString()+i.dir})(s))).join(","),lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Oo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Oo(s))).join(",")),e.Te=n}return e.Te}function Wf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xm(t.startAt,e.startAt)&&Xm(t.endAt,e.endAt)}function Wh(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n=null,s=[],r=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wP(t,e,n,s,r,i,o,l){return new hu(t,e,n,s,r,i,o,l)}function zf(t){return new hu(t)}function Zm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TP(t){return t.collectionGroup!==null}function Va(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Mt(Kt.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((h=>{h.isInequality()&&(l=l.add(h.field))}))})),l})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Vl(i,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Vl(Kt.keyField(),s))}return e.Ie}function Is(t){const e=Re(t);return e.Ee||(e.Ee=bP(e,Va(t))),e.Ee}function bP(t,e){if(t.limitType==="F")return Jm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const i=r.dir==="desc"?"asc":"desc";return new Vl(r.field,i)}));const n=t.endAt?new xl(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new xl(t.startAt.position,t.startAt.inclusive):null;return Jm(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function zh(t,e,n){return new hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fu(t,e){return Wf(Is(t),Is(e))&&t.limitType===e.limitType}function vv(t){return`${Hf(Is(t))}|lt:${t.limitType}`}function co(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((r=>_v(r))).join(", ")}]`),lu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((r=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(r))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((r=>Oo(r))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((r=>Oo(r))).join(",")),`Target(${s})`})(Is(t))}; limitType=${t.limitType})`}function du(t,e){return e.isFoundDocument()&&(function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):_e.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)})(t,e)&&(function(s,r){for(const i of Va(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0})(t,e)&&(function(s,r){return!(s.startAt&&!(function(o,l,u){const h=Ym(o,l,u);return o.inclusive?h<=0:h<0})(s.startAt,Va(s),r)||s.endAt&&!(function(o,l,u){const h=Ym(o,l,u);return o.inclusive?h>=0:h>0})(s.endAt,Va(s),r))})(t,e)}function IP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ev(t){return(e,n)=>{let s=!1;for(const r of Va(t)){const i=AP(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function AP(t,e,n){const s=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(i,o,l){const u=o.data.field(i),h=l.data.field(i);return u!==null&&h!==null?ko(u,h):we(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,((n,s)=>{for(const[r,i]of s)e(r,i)}))}isEmpty(){return rv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new dt(_e.comparator);function or(){return SP}const wv=new dt(_e.comparator);function wa(...t){let e=wv;for(const n of t)e=e.insert(n.key,n);return e}function Tv(t){let e=wv;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ci(){return Ma()}function bv(){return Ma()}function Ma(){return new Ui((t=>t.toString()),((t,e)=>t.isEqual(e)))}const CP=new dt(_e.comparator),RP=new Mt(_e.comparator);function Ue(...t){let e=RP;for(const n of t)e=e.add(n);return e}const PP=new Mt(Fe);function kP(){return PP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ol(e)?"-0":e}}function Iv(t){return{integerValue:""+t}}function OP(t,e){return sP(e)?Iv(e):Kf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(){this._=void 0}}function NP(t,e,n){return t instanceof Za?(function(r,i){const o={fields:{[av]:{stringValue:ov},[lv]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&$f(i)&&(i=uu(i)),i&&(o.fields[cv]=i),{mapValue:o}})(n,e):t instanceof ec?Sv(t,e):t instanceof tc?Cv(t,e):(function(r,i){const o=Av(r,i),l=eg(o)+eg(r.Ae);return qh(o)&&qh(r.Ae)?Iv(l):Kf(r.serializer,l)})(t,e)}function DP(t,e,n){return t instanceof ec?Sv(t,e):t instanceof tc?Cv(t,e):n}function Av(t,e){return t instanceof Ml?(function(s){return qh(s)||(function(i){return!!i&&"doubleValue"in i})(s)})(e)?e:{integerValue:0}:null}class Za extends pu{}class ec extends pu{constructor(e){super(),this.elements=e}}function Sv(t,e){const n=Rv(e);for(const s of t.elements)n.some((r=>Os(r,s)))||n.push(s);return{arrayValue:{values:n}}}class tc extends pu{constructor(e){super(),this.elements=e}}function Cv(t,e){let n=Rv(e);for(const s of t.elements)n=n.filter((r=>!Os(r,s)));return{arrayValue:{values:n}}}class Ml extends pu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eg(t){return bt(t.integerValue||t.doubleValue)}function Rv(t){return qf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,n){this.field=e,this.transform=n}}function VP(t,e){return t.field.isEqual(e.field)&&(function(s,r){return s instanceof ec&&r instanceof ec||s instanceof tc&&r instanceof tc?Po(s.elements,r.elements,Os):s instanceof Ml&&r instanceof Ml?Os(s.Ae,r.Ae):s instanceof Za&&r instanceof Za})(t.transform,e.transform)}class MP{constructor(e,n){this.version=e,this.transformResults=n}}class As{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new As}static exists(e){return new As(void 0,e)}static updateTime(e){return new As(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ul(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mu{}function Pv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ov(t.key,As.none()):new pc(t.key,t.data,As.none());{const n=t.data,s=Tn.empty();let r=new Mt(Kt.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new ei(t.key,s,new Pn(r.toArray()),As.none())}}function LP(t,e,n){t instanceof pc?(function(r,i,o){const l=r.value.clone(),u=ng(r.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof ei?(function(r,i,o){if(!ul(r.precondition,i))return void i.convertToUnknownDocument(o.version);const l=ng(r.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(kv(r)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function La(t,e,n,s){return t instanceof pc?(function(i,o,l,u){if(!ul(i.precondition,o))return l;const h=i.value.clone(),p=sg(i.fieldTransforms,u,o);return h.setAll(p),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,s):t instanceof ei?(function(i,o,l,u){if(!ul(i.precondition,o))return l;const h=sg(i.fieldTransforms,u,o),p=o.data;return p.setAll(kv(i)),p.setAll(h),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(i,o,l){return ul(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function FP(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=Av(s.transform,r||null);i!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,i))}return n||null}function tg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Po(s,r,((i,o)=>VP(i,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pc extends mu{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ei extends mu{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kv(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function ng(t,e,n){const s=new Map;Ye(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,l=e.data.field(i.field);s.set(i.field,DP(o,l,n[r]))}return s}function sg(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,NP(i,o,e))}return s}class Ov extends mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UP extends mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&LP(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=La(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=La(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=bv();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(r.key)?null:l;const u=Pv(o,l);u!==null&&s.set(r.key,u),o.isValidDocument()||o.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,((n,s)=>tg(n,s)))&&Po(this.baseMutations,e.baseMutations,((n,s)=>tg(n,s)))}}class Gf{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=(function(){return CP})();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Gf(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,qe;function qP(t){switch(t){case Y.OK:return we(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function Nv(t){if(t===void 0)return ir("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Ct.OK:return Y.OK;case Ct.CANCELLED:return Y.CANCELLED;case Ct.UNKNOWN:return Y.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Y.INTERNAL;case Ct.UNAVAILABLE:return Y.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Y.NOT_FOUND;case Ct.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ct.ABORTED:return Y.ABORTED;case Ct.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ct.DATA_LOSS:return Y.DATA_LOSS;default:return we(39323,{code:t})}}(qe=Ct||(Ct={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new Br([4294967295,4294967295],0);function rg(t){const e=HP().encode(t),n=new Gy;return n.update(e),new Uint8Array(n.digest())}function ig(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Br([n,s],0),new Br([r,i],0)]}class Qf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ta(`Invalid padding: ${n}`);if(s<0)throw new Ta(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ta(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ta(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Br.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(Br.fromNumber(s)));return r.compare(WP)===1&&(r=new Br([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rg(e),[s,r]=ig(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);if(!this.we(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Qf(i,r,n);return s.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=rg(e),[s,r]=ig(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(s,r,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new gu(Ae.min(),r,new dt(Fe),or(),Ue())}}class mc{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new mc(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class Dv{constructor(e,n){this.targetId=e,this.Ce=n}}class xv{constructor(e,n,s=Gt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class og{constructor(){this.ve=0,this.Fe=ag(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),s=Ue();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:we(38017,{changeType:i})}})),new mc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=ag()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zP{constructor(e){this.Ge=e,this.ze=new Map,this.je=or(),this.Je=Kc(),this.He=Kc(),this.Ye=new dt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,r)=>{this.rt(r)&&n(r)}))}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(Wh(i))if(s===0){const o=new _e(i.path);this.et(n,o,rn.newNoDocument(o,Ae.min()))}else Ye(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let o,l;try{o=Gr(s).toUint8Array()}catch(u){if(u instanceof iv)return Ro("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Qf(o,r,i)}catch(u){return Ro(u instanceof Ta?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach((i=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)})),r}Tt(e){const n=new Map;this.ze.forEach(((i,o)=>{const l=this.ot(o);if(l){if(i.current&&Wh(l.target)){const u=new _e(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,rn.newNoDocument(u,e))}i.Be&&(n.set(o,i.ke()),i.qe())}}));let s=Ue();this.He.forEach(((i,o)=>{let l=!0;o.forEachWhile((u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(s=s.add(i))})),this.je.forEach(((i,o)=>o.setReadTime(e)));const r=new gu(e,n,this.Ye,this.je,s);return this.je=or(),this.Je=Kc(),this.He=Kc(),this.Ye=new dt(Fe),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new og,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new og),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new dt(_e.comparator)}function ag(){return new dt(_e.comparator)}const KP={asc:"ASCENDING",desc:"DESCENDING"},GP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QP={and:"AND",or:"OR"};class YP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kh(t,e){return t.useProto3Json||lu(e)?e:{value:e}}function Ll(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XP(t,e){return Ll(t,e.toTimestamp())}function Ss(t){return Ye(!!t,49232),Ae.fromTimestamp((function(n){const s=Kr(n);return new lt(s.seconds,s.nanos)})(t))}function Yf(t,e){return Gh(t,e).canonicalString()}function Gh(t,e){const n=(function(r){return new ft(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Mv(t){const e=ft.fromString(t);return Ye(Bv(e),10190,{key:e.toString()}),e}function Qh(t,e){return Yf(t.databaseId,e.path)}function fh(t,e){const n=Mv(e);if(n.get(1)!==t.databaseId.projectId)throw new de(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Fv(n))}function Lv(t,e){return Yf(t.databaseId,e)}function JP(t){const e=Mv(t);return e.length===4?ft.emptyPath():Fv(e)}function Yh(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fv(t){return Ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cg(t,e,n){return{name:Qh(t,e),fields:n.value.mapValue.fields}}function ZP(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:we(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=(function(h,p){return h.useProto3Json?(Ye(p===void 0||typeof p=="string",58123),Gt.fromBase64String(p||"")):(Ye(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Gt.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(h){const p=h.code===void 0?Y.UNKNOWN:Nv(h.code);return new de(p,h.message||"")})(o);n=new xv(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=fh(t,s.document.name),i=Ss(s.document.updateTime),o=s.document.createTime?Ss(s.document.createTime):Ae.min(),l=new Tn({mapValue:{fields:s.document.fields}}),u=rn.newFoundDocument(r,i,o,l),h=s.targetIds||[],p=s.removedTargetIds||[];n=new hl(h,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=fh(t,s.document),i=s.readTime?Ss(s.readTime):Ae.min(),o=rn.newNoDocument(r,i),l=s.removedTargetIds||[];n=new hl([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=fh(t,s.document),i=s.removedTargetIds||[];n=new hl([],i,r,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,o=new $P(r,i),l=s.targetId;n=new Dv(l,o)}}return n}function ek(t,e){let n;if(e instanceof pc)n={update:cg(t,e.key,e.value)};else if(e instanceof Ov)n={delete:Qh(t,e.key)};else if(e instanceof ei)n={update:cg(t,e.key,e.data),updateMask:lk(e.fieldMask)};else{if(!(e instanceof UP))return we(16599,{Vt:e.type});n={verify:Qh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(i,o){const l=o.transform;if(l instanceof Za)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ec)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ml)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw we(20930,{transform:o.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(r,i){return i.updateTime!==void 0?{updateTime:XP(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:we(27497)})(t,e.precondition)),n}function tk(t,e){return t&&t.length>0?(Ye(e!==void 0,14353),t.map((n=>(function(r,i){let o=r.updateTime?Ss(r.updateTime):Ss(i);return o.isEqual(Ae.min())&&(o=Ss(i)),new MP(o,r.transformResults||[])})(n,e)))):[]}function nk(t,e){return{documents:[Lv(t,e.path)]}}function sk(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Lv(t,r);const i=(function(h){if(h.length!==0)return jv(Ns.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const o=(function(h){if(h.length!==0)return h.map((p=>(function(v){return{field:lo(v.field),direction:ok(v.dir)}})(p)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Kh(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:r}}function rk(t){let e=JP(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Ye(s===1,65062);const p=n.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=(function(_){const v=Uv(_);return v instanceof Ns&&mv(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(_){return _.map((v=>(function(M){return new Vl(uo(M.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(v)))})(n.orderBy));let l=null;n.limit&&(l=(function(_){let v;return v=typeof _=="object"?_.value:_,lu(v)?null:v})(n.limit));let u=null;n.startAt&&(u=(function(_){const v=!!_.before,w=_.values||[];return new xl(w,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(_){const v=!_.before,w=_.values||[];return new xl(w,v)})(n.endAt)),wP(e,r,o,i,l,"F",u,h)}function ik(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Uv(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uo(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=uo(n.unaryFilter.field);return xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=uo(n.unaryFilter.field);return xt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uo(n.unaryFilter.field);return xt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xt.create(uo(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ns.create(n.compositeFilter.filters.map((s=>Uv(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(t):we(30097,{filter:t})}function ok(t){return KP[t]}function ak(t){return GP[t]}function ck(t){return QP[t]}function lo(t){return{fieldPath:t.canonicalString()}}function uo(t){return Kt.fromServerFormat(t.fieldPath)}function jv(t){return t instanceof xt?(function(n){if(n.op==="=="){if(Qm(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(Gm(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qm(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(Gm(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:ak(n.op),value:n.value}}})(t):t instanceof Ns?(function(n){const s=n.getFilters().map((r=>jv(r)));return s.length===1?s[0]:{compositeFilter:{op:ck(n.op),filters:s}}})(t):we(54877,{filter:t})}function lk(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Bv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,s,r,i=Ae.min(),o=Ae.min(),l=Gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.yt=e}}function hk(t){const e=rk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.Cn=new dk}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(zr.min())}updateCollectionGroup(e,n,s){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class dk{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new Mt(ft.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Mt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$v=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn($v,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new No(0)}static cr(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="LruGarbageCollector",pk=1048576;function hg([t,e],[n,s]){const r=Fe(t,n);return r===0?Fe(e,s):r}class mk{constructor(e){this.Ir=e,this.buffer=new Mt(hg),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();hg(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gk{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(ug,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?le(ug,"Ignoring IndexedDB error during garbage collection: ",n):await Uo(n)}await this.Vr(3e5)}))}}class _k{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return z.resolve(cu.ce);const s=new mk(n);return this.mr.forEachTarget(e,(r=>s.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>s.Ar(r))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(lg)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lg):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,o,l,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,o=Date.now(),this.nthSequenceNumber(e,r)))).next((_=>(s=_,l=Date.now(),this.removeTargets(e,s,n)))).next((_=>(i=_,u=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(h=Date.now(),ao()<=Le.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${_} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:_}))))}}function yk(t,e){return new _k(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.changes=new Ui((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(s=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(s!==null&&La(s.mutation,r,Pn.empty(),lt.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ue()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ue()){const r=Ci();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,s).next((i=>{let o=wa();return i.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const s=Ci();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ue())))}populateOverlays(e,n,s){const r=[];return s.forEach((i=>{n.has(i)||r.push(i)})),this.documentOverlayCache.getOverlays(e,r).next((i=>{i.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,s,r){let i=or();const o=Ma(),l=(function(){return Ma()})();return n.forEach(((u,h)=>{const p=s.get(h.key);r.has(h.key)&&(p===void 0||p.mutation instanceof ei)?i=i.insert(h.key,h):p!==void 0?(o.set(h.key,p.mutation.getFieldMask()),La(p.mutation,h,p.mutation.getFieldMask(),lt.now())):o.set(h.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,i).next((u=>(u.forEach(((h,p)=>o.set(h,p))),n.forEach(((h,p)=>l.set(h,new Ek(p,o.get(h)??null)))),l)))}recalculateAndSaveOverlays(e,n){const s=Ma();let r=new dt(((o,l)=>o-l)),i=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((u=>{const h=n.get(u);if(h===null)return;let p=s.get(u)||Pn.empty();p=l.applyToLocalView(h,p),s.set(u,p);const _=(r.get(l.batchId)||Ue()).add(u);r=r.insert(l.batchId,_)}))})).next((()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,p=u.value,_=bv();p.forEach((v=>{if(!i.has(v)){const w=Pv(n.get(v),s.get(v));w!==null&&_.set(v,w),i=i.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,_))}return z.waitFor(o)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,r){return(function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):z.resolve(Ci());let l=Qa,u=i;return o.next((h=>z.forEach(h,((p,_)=>(l<_.largestBatchId&&(l=_.largestBatchId),i.get(p)?z.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{u=u.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,u,h,Ue()))).next((p=>({batchId:l,changes:Tv(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let r=wa();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let o=wa();return this.indexManager.getCollectionParents(e,i).next((l=>z.forEach(l,(u=>{const h=(function(_,v){return new hu(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,s,r).next((p=>{p.forEach(((_,v)=>{o=o.insert(_,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r)))).next((o=>{i.forEach(((u,h)=>{const p=h.getKey();o.get(p)===null&&(o=o.insert(p,rn.newInvalidDocument(p)))}));let l=wa();return o.forEach(((u,h)=>{const p=i.get(u);p!==void 0&&La(p.mutation,h,Pn.empty(),lt.now()),du(n,h)&&(l=l.insert(u,h))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Ss(r.createTime)}})(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:hk(r.bundledQuery),readTime:Ss(r.readTime)}})(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.overlays=new dt(_e.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ci();return z.forEach(n,(r=>this.getOverlay(e,r).next((i=>{i!==null&&s.set(r,i)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((r,i)=>{this.St(e,n,i)})),z.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(s)),z.resolve()}getOverlaysForCollection(e,n,s){const r=Ci(),i=n.length+1,o=new _e(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>s&&r.set(u.getKey(),u)}return z.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new dt(((h,p)=>h-p));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>s){let p=i.get(h.largestBatchId);p===null&&(p=Ci(),i=i.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=Ci(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((h,p)=>l.set(h,p))),!(l.size()>=r)););return z.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new BP(n,s));let i=this.qr.get(n);i===void 0&&(i=Ue(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this.Qr=new Mt($t.$r),this.Ur=new Mt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new $t(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new ft([])),s=new $t(n,e),r=new $t(n,e+1),i=[];return this.Ur.forEachInRange([s,r],(o=>{this.Gr(o),i.push(o.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new ft([])),s=new $t(n,e),r=new $t(n,e+1);let i=Ue();return this.Ur.forEachInRange([s,r],(o=>{i=i.add(o.key)})),i}containsKey(e){const n=new $t(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt($t.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jP(i,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Zr=this.Zr.add(new $t(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Bf:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new $t(n,0),r=new $t(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],(o=>{const l=this.Xr(o.Yr);i.push(l)})),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Fe);return n.forEach((r=>{const i=new $t(r,0),o=new $t(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],(l=>{s=s.add(l.Yr)}))})),z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;_e.isDocumentKey(i)||(i=i.child(""));const o=new $t(new _e(i),0);let l=new Mt(Fe);return this.Zr.forEachWhile((u=>{const h=u.key.path;return!!s.isPrefixOf(h)&&(h.length===r&&(l=l.add(u.Yr)),!0)}),o),z.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((s=>{const r=this.Xr(s);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return z.forEach(n.mutations,(r=>{const i=new $t(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new $t(n,0),r=this.Zr.firstAfterOrEqual(s);return z.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.ri=e,this.docs=(function(){return new dt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return z.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=or();return n.forEach((r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():rn.newInvalidDocument(r))})),z.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=or();const o=n.path,l=new _e(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||Z0(J0(p),s)<=0||(r.has(p.key)||du(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,s,r){we(9500)}ii(e,n){return z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Ck(this)}getSize(e){return z.resolve(this.size)}}class Ck extends vk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)})),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.persistence=e,this.si=new Ui((n=>Hf(n)),Wf),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Xf,this.targetCount=0,this.ai=No.ur()}forEachTarget(e,n){return this.si.forEach(((s,r)=>n(r))),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new No(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)})),z.waitFor(i).next((()=>r))}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return z.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),z.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach((o=>{i.push(r.markPotentiallyOrphaned(e,o))})),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return z.resolve(s)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.ui={},this.overlays={},this.ci=new cu(0),this.li=!1,this.li=!0,this.hi=new Ik,this.referenceDelegate=e(this),this.Pi=new Rk(this),this.indexManager=new fk,this.remoteDocumentCache=(function(r){return new Sk(r)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new uk(n),this.Ii=new Tk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Ak(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const r=new Pk(this.ci.next());return this.referenceDelegate.Ei(),s(r).next((i=>this.referenceDelegate.di(r).next((()=>i)))).toPromise().then((i=>(r.raiseOnCommittedEvent(),i)))}Ai(e,n){return z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Pk extends tP{constructor(e){super(),this.currentSequenceNumber=e}}class Jf{constructor(e){this.persistence=e,this.Ri=new Xf,this.Vi=null}static mi(e){return new Jf(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((r=>this.fi.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((i=>this.fi.add(i.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,(s=>{const r=_e.fromPath(s);return this.gi(e,r).next((i=>{i||n.removeEntry(r,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fl{constructor(e,n){this.persistence=e,this.pi=new Ui((s=>rP(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=yk(this,n)}static mi(e,n){return new Fl(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((r=>s+r))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return z.forEach(this.pi,((s,r)=>this.br(e,s,r).next((i=>i?z.resolve():n(r)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(o=>this.br(e,o,n).next((l=>{l||(s++,i.removeEntry(o,Ae.min()))})))).next((()=>i.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),z.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cl(e.data.value)),n}br(e,n,s){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return z.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=Ue(),r=Ue();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zf(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tS()?8:nP(ln())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next((o=>{i.result=o})).next((()=>{if(!i.result)return this.ws(e,n,r,s).next((o=>{i.result=o}))})).next((()=>{if(i.result)return;const o=new kk;return this.Ss(e,n,o).next((l=>{if(i.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>i.result))}bs(e,n,s,r){return s.documentReadCount<this.fs?(ao()<=Le.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(ao()<=Le.DEBUG&&le("QueryEngine","Query:",co(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(ao()<=Le.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Is(n))):z.resolve())}ys(e,n){if(Zm(n))return z.resolve(null);let s=Is(n);return this.indexManager.getIndexType(e,s).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=zh(n,null,"F"),s=Is(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((i=>{const o=Ue(...i);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,s).next((u=>{const h=this.Ds(n,l);return this.Cs(n,h,o,u.readTime)?this.ys(e,zh(n,null,"F")):this.vs(e,h,n,u)}))))})))))}ws(e,n,s,r){return Zm(n)||r.isEqual(Ae.min())?z.resolve(null):this.ps.getDocuments(e,s).next((i=>{const o=this.Ds(n,i);return this.Cs(n,o,s,r)?z.resolve(null):(ao()<=Le.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),co(n)),this.vs(e,o,n,X0(r,Qa)).next((l=>l)))}))}Ds(e,n){let s=new Mt(Ev(e));return n.forEach(((r,i)=>{du(e,i)&&(s=s.add(i))})),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return ao()<=Le.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",co(n)),this.ps.getDocumentsMatchingQuery(e,n,zr.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next((i=>(n.forEach((o=>{i=i.insert(o.key,o)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="LocalStore",Nk=3e8;class Dk{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new dt(Fe),this.xs=new Ui((i=>Hf(i)),Wf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function xk(t,e,n,s){return new Dk(t,e,n,s)}async function Hv(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next((i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((i=>{const o=[],l=[];let u=Ue();for(const h of r){o.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of i){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(s,u).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:l})))}))}))}function Vk(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,h,p){const _=h.batch,v=_.keys();let w=z.resolve();return v.forEach((M=>{w=w.next((()=>p.getEntry(u,M))).next((B=>{const $=h.docVersions.get(M);Ye($!==null,48541),B.version.compareTo($)<0&&(_.applyToRemoteDocument(B,h),B.isValidDocument()&&(B.setReadTime(h.commitVersion),p.addEntry(B)))}))})),w.next((()=>l.mutationQueue.removeMutationBatch(u,_)))})(n,s,e,i).next((()=>i.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(l){let u=Ue();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(s,r)))}))}function Wv(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Mk(t,e){const n=Re(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach(((p,_)=>{const v=r.get(_);if(!v)return;l.push(n.Pi.removeMatchingKeys(i,p.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(i,p.addedDocuments,_))));let w=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(_)!==null?w=w.withResumeToken(Gt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,s)),r=r.insert(_,w),(function(B,$,Q){return B.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=Nk?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(v,w,p)&&l.push(n.Pi.updateTargetData(i,w))}));let u=or(),h=Ue();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,p))})),l.push(Lk(i,o,e.documentUpdates).next((p=>{u=p.ks,h=p.qs}))),!s.isEqual(Ae.min())){const p=n.Pi.getLastRemoteSnapshotVersion(i).next((_=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s)));l.push(p)}return z.waitFor(l).next((()=>o.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,u,h))).next((()=>u))})).then((i=>(n.Ms=r,i)))}function Lk(t,e,n){let s=Ue(),r=Ue();return n.forEach((i=>s=s.add(i))),e.getEntries(t,s).next((i=>{let o=or();return n.forEach(((l,u)=>{const h=i.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(Ae.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):le(ed,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)})),{ks:o,qs:r}}))}function Fk(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Bf),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Uk(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return n.Pi.getTargetData(s,e).next((i=>i?(r=i,z.resolve(r)):n.Pi.allocateTargetId(s).next((o=>(r=new Vr(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Xh(t,e,n){const s=Re(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,(o=>s.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!jo(o))throw o;le(ed,`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function fg(t,e,n){const s=Re(t);let r=Ae.min(),i=Ue();return s.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,h,p){const _=Re(u),v=_.xs.get(p);return v!==void 0?z.resolve(_.Ms.get(v)):_.Pi.getTargetData(h,p)})(s,o,Is(e)).next((l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{i=u}))})).next((()=>s.Fs.getDocumentsMatchingQuery(o,e,n?r:Ae.min(),n?i:Ue()))).next((l=>(jk(s,IP(e),l),{documents:l,Qs:i})))))}function jk(t,e,n){let s=t.Os.get(e)||Ae.min();n.forEach(((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)})),t.Os.set(e,s)}class dg{constructor(){this.activeTargetIds=kP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bk{constructor(){this.Mo=new dg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dg,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="ConnectivityMonitor";class mg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(pg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(pg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=null;function Jh(){return Gc===null?Gc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gc++,"0x"+Gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh="RestConnection",qk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Nl?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const o=Jh(),l=this.zo(e,n.toUriEncodedString());le(dh,`Sending RPC '${e}' ${o}:`,l,s);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,i);const{host:h}=new URL(l),p=Vo(h);return this.Jo(e,l,u,s,p).then((_=>(le(dh,`Received RPC '${e}' ${o}: `,_),_)),(_=>{throw Ro(dh,`RPC '${e}' ${o} failed with error: `,_,"url: ",l,"request:",s),_}))}Ho(e,n,s,r,i,o){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,i)=>e[i]=r)),s&&s.headers.forEach(((r,i)=>e[i]=r))}zo(e,n){const s=qk[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class zk extends Hk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const o=Jh();return new Promise(((l,u)=>{const h=new Qy;h.setWithCredentials(!0),h.listenOnce(Yy.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case al.NO_ERROR:const _=h.getResponseJson();le(tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(_)),l(_);break;case al.TIMEOUT:le(tn,`RPC '${e}' ${o} timed out`),u(new de(Y.DEADLINE_EXCEEDED,"Request time out"));break;case al.HTTP_ERROR:const v=h.getStatus();if(le(tn,`RPC '${e}' ${o} failed with status:`,v,"response text:",h.getResponseText()),v>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const M=w?.error;if(M&&M.status&&M.message){const B=(function(Q){const K=Q.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(K)>=0?K:Y.UNKNOWN})(M.status);u(new de(B,M.message))}else u(new de(Y.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new de(Y.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{le(tn,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(r);le(tn,`RPC '${e}' ${o} sending request:`,r),h.send(n,"POST",p,s,15)}))}T_(e,n,s){const r=Jh(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Zy(),l=Jy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,s),u.encodeInitMessageHeaders=!0;const p=i.join("");le(tn,`Creating RPC '${e}' stream ${r}: ${p}`,u);const _=o.createWebChannel(p,u);this.I_(_);let v=!1,w=!1;const M=new Wk({Yo:$=>{w?le(tn,`Not sending because RPC '${e}' stream ${r} is closed:`,$):(v||(le(tn,`Opening RPC '${e}' stream ${r} transport.`),_.open(),v=!0),le(tn,`RPC '${e}' stream ${r} sending:`,$),_.send($))},Zo:()=>_.close()}),B=($,Q,K)=>{$.listen(Q,(ee=>{try{K(ee)}catch(re){setTimeout((()=>{throw re}),0)}}))};return B(_,Ea.EventType.OPEN,(()=>{w||(le(tn,`RPC '${e}' stream ${r} transport opened.`),M.o_())})),B(_,Ea.EventType.CLOSE,(()=>{w||(w=!0,le(tn,`RPC '${e}' stream ${r} transport closed`),M.a_(),this.E_(_))})),B(_,Ea.EventType.ERROR,($=>{w||(w=!0,Ro(tn,`RPC '${e}' stream ${r} transport errored. Name:`,$.name,"Message:",$.message),M.a_(new de(Y.UNAVAILABLE,"The operation could not be completed")))})),B(_,Ea.EventType.MESSAGE,($=>{if(!w){const Q=$.data[0];Ye(!!Q,16349);const K=Q,ee=K?.error||K[0]?.error;if(ee){le(tn,`RPC '${e}' stream ${r} received error:`,ee);const re=ee.status;let Te=(function(b){const A=Ct[b];if(A!==void 0)return Nv(A)})(re),Ve=ee.message;Te===void 0&&(Te=Y.INTERNAL,Ve="Unknown error status: "+re+" with message "+ee.message),w=!0,M.a_(new de(Te,Ve)),_.close()}else le(tn,`RPC '${e}' stream ${r} received:`,Q),M.u_(Q)}})),B(l,Xy.STAT_EVENT,($=>{$.stat===jh.PROXY?le(tn,`RPC '${e}' stream ${r} detected buffering proxy`):$.stat===jh.NOPROXY&&le(tn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){return new YP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="PersistentStream";class Kv{constructor(e,n,s,r,i,o,l,u){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.D_===n&&this.G_(s,r)}),(s=>{e((()=>{const r=new de(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{s((()=>this.z_(r)))})),this.stream.onMessage((r=>{s((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(gg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(gg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Kk extends Kv{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZP(this.serializer,e),s=(function(i){if(!("targetChange"in i))return Ae.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ae.min():o.readTime?Ss(o.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Yh(this.serializer),n.addTarget=(function(i,o){let l;const u=o.target;if(l=Wh(u)?{documents:nk(i,u)}:{query:sk(i,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Vv(i,o.resumeToken);const h=Kh(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(Ae.min())>0){l.readTime=Ll(i,o.snapshotVersion.toTimestamp());const h=Kh(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l})(this.serializer,e);const s=ik(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Yh(this.serializer),n.removeTarget=e,this.q_(n)}}class Gk extends Kv{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tk(e.writeResults,e.commitTime),s=Ss(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Yh(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ek(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{}class Yk extends Qk{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new de(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.Go(e,Gh(n,s),r,i,o))).catch((i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new de(Y.UNKNOWN,i.toString())}))}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,Gh(n,s),r,o,l,i))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(Y.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Xk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="RemoteStore";class Jk{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((o=>{s.enqueueAndForget((async()=>{ji(this)&&(le(Li,"Restarting streams for network reachability change."),await(async function(u){const h=Re(u);h.Ea.add(4),await gc(h),h.Ra.set("Unknown"),h.Ea.delete(4),await yu(h)})(this))}))})),this.Ra=new Xk(s,r)}}async function yu(t){if(ji(t))for(const e of t.da)await e(!0)}async function gc(t){for(const e of t.da)await e(!1)}function Gv(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rd(n)?sd(n):Bo(n).O_()&&nd(n,e))}function td(t,e){const n=Re(t),s=Bo(n);n.Ia.delete(e),s.O_()&&Qv(n,e),n.Ia.size===0&&(s.O_()?s.L_():ji(n)&&n.Ra.set("Unknown"))}function nd(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(t).Y_(e)}function Qv(t,e){t.Va.Ue(e),Bo(t).Z_(e)}function sd(t){t.Va=new zP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bo(t).start(),t.Ra.ua()}function rd(t){return ji(t)&&!Bo(t).x_()&&t.Ia.size>0}function ji(t){return Re(t).Ea.size===0}function Yv(t){t.Va=void 0}async function Zk(t){t.Ra.set("Online")}async function eO(t){t.Ia.forEach(((e,n)=>{nd(t,e)}))}async function tO(t,e){Yv(t),rd(t)?(t.Ra.ha(e),sd(t)):t.Ra.set("Unknown")}async function nO(t,e,n){if(t.Ra.set("Online"),e instanceof xv&&e.state===2&&e.cause)try{await(async function(r,i){const o=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ia.delete(l),r.Va.removeTarget(l))})(t,e)}catch(s){le(Li,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ul(t,s)}else if(e instanceof hl?t.Va.Ze(e):e instanceof Dv?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await Wv(t.localStore);n.compareTo(s)>=0&&await(function(i,o){const l=i.Va.Tt(o);return l.targetChanges.forEach(((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const p=i.Ia.get(h);p&&i.Ia.set(h,p.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,h)=>{const p=i.Ia.get(u);if(!p)return;i.Ia.set(u,p.withResumeToken(Gt.EMPTY_BYTE_STRING,p.snapshotVersion)),Qv(i,u);const _=new Vr(p.target,u,h,p.sequenceNumber);nd(i,_)})),i.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(s){le(Li,"Failed to raise snapshot:",s),await Ul(t,s)}}async function Ul(t,e,n){if(!jo(e))throw e;t.Ea.add(1),await gc(t),t.Ra.set("Offline"),n||(n=()=>Wv(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{le(Li,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await yu(t)}))}function Xv(t,e){return e().catch((n=>Ul(t,n,e)))}async function vu(t){const e=Re(t),n=Yr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bf;for(;sO(e);)try{const r=await Fk(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,rO(e,r)}catch(r){await Ul(e,r)}Jv(e)&&Zv(e)}function sO(t){return ji(t)&&t.Ta.length<10}function rO(t,e){t.Ta.push(e);const n=Yr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Jv(t){return ji(t)&&!Yr(t).x_()&&t.Ta.length>0}function Zv(t){Yr(t).start()}async function iO(t){Yr(t).ra()}async function oO(t){const e=Yr(t);for(const n of t.Ta)e.ea(n.mutations)}async function aO(t,e,n){const s=t.Ta.shift(),r=Gf.from(s,e,n);await Xv(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await vu(t)}async function cO(t,e){e&&Yr(t).X_&&await(async function(s,r){if((function(o){return qP(o)&&o!==Y.ABORTED})(r.code)){const i=s.Ta.shift();Yr(s).B_(),await Xv(s,(()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r))),await vu(s)}})(t,e),Jv(t)&&Zv(t)}async function _g(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),le(Li,"RemoteStore received new credentials");const s=ji(n);n.Ea.add(3),await gc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yu(n)}async function lO(t,e){const n=Re(t);e?(n.Ea.delete(2),await yu(n)):e||(n.Ea.add(2),await gc(n),n.Ra.set("Unknown"))}function Bo(t){return t.ma||(t.ma=(function(n,s,r){const i=Re(n);return i.sa(),new Kk(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Xo:Zk.bind(null,t),t_:eO.bind(null,t),r_:tO.bind(null,t),H_:nO.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),rd(t)?sd(t):t.Ra.set("Unknown")):(await t.ma.stop(),Yv(t))}))),t.ma}function Yr(t){return t.fa||(t.fa=(function(n,s,r){const i=Re(n);return i.sa(),new Gk(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:iO.bind(null,t),r_:cO.bind(null,t),ta:oO.bind(null,t),na:aO.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await vu(t)):(await t.fa.stop(),t.Ta.length>0&&(le(Li,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,l=new id(e,n,o,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function od(t,e){if(ir("AsyncQueue",`${e}: ${t}`),jo(t))return new de(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=wa(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.ga=new dt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Do{constructor(e,n,s,r,i,o,l,u,h){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new Do(e,n,wo.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hO{constructor(){this.queries=vg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Re(n),i=r.queries;r.queries=vg(),i.forEach(((o,l)=>{for(const u of l.Sa)u.onError(s)}))})(this,new de(Y.ABORTED,"Firestore shutting down"))}}function vg(){return new Ui((t=>vv(t)),fu)}async function fO(t,e){const n=Re(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new uO,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=od(o,`Initialization of query '${co(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&ad(n)}async function dO(t,e){const n=Re(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function pO(t,e){const n=Re(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Fa(r)&&(s=!0);o.wa=r}}s&&ad(n)}function mO(t,e,n){const s=Re(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function ad(t){t.Ca.forEach((e=>{e.next()}))}var Zh,Eg;(Eg=Zh||(Zh={})).Ma="default",Eg.Cache="cache";class gO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Do(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e){this.key=e}}class tE{constructor(e){this.key=e}}class _O{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=Ev(e),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new yg,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((p,_)=>{const v=r.get(p),w=du(this.query,_)?_:null,M=!!v&&this.mutatedKeys.has(v.key),B=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let $=!1;v&&w?v.data.isEqual(w.data)?M!==B&&(s.track({type:3,doc:w}),$=!0):this.su(v,w)||(s.track({type:2,doc:w}),$=!0,(u&&this.eu(w,u)>0||h&&this.eu(w,h)<0)&&(l=!0)):!v&&w?(s.track({type:0,doc:w}),$=!0):v&&!w&&(s.track({type:1,doc:v}),$=!0,(u||h)&&(l=!0)),$&&(w?(o=o.add(w),i=B?i.add(p):i.delete(p)):(o=o.delete(p),i=i.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),i=i.delete(p.key),s.track({type:1,doc:p})}return{tu:o,iu:s,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((p,_)=>(function(w,M){const B=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:$})}};return B(w)-B(M)})(p.type,_.type)||this.eu(p.doc,_.doc))),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new Do(this.query,e.tu,i,o,e.mutatedKeys,u===0,h,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new tE(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new eE(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cd="SyncEngine";class yO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class vO{constructor(e){this.key=e,this.hu=!1}}class EO{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Ui((l=>vv(l)),fu),this.Iu=new Map,this.Eu=new Set,this.du=new dt(_e.comparator),this.Au=new Map,this.Ru=new Xf,this.Vu={},this.mu=new Map,this.fu=No.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wO(t,e,n=!0){const s=aE(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await nE(s,e,n,!0),r}async function TO(t,e){const n=aE(t);await nE(n,e,!0,!1)}async function nE(t,e,n,s){const r=await Uk(t.localStore,Is(e)),i=r.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await bO(t,e,i,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&Gv(t.remoteStore,r),l}async function bO(t,e,n,s,r){t.pu=(_,v,w)=>(async function(B,$,Q,K){let ee=$.view.ru(Q);ee.Cs&&(ee=await fg(B.localStore,$.query,!1).then((({documents:C})=>$.view.ru(C,ee))));const re=K&&K.targetChanges.get($.targetId),Te=K&&K.targetMismatches.get($.targetId)!=null,Ve=$.view.applyChanges(ee,B.isPrimaryClient,re,Te);return Tg(B,$.targetId,Ve.au),Ve.snapshot})(t,_,v,w);const i=await fg(t.localStore,e,!0),o=new _O(e,i.Qs),l=o.ru(i.documents),u=mc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),h=o.applyChanges(l,t.isPrimaryClient,u);Tg(t,n,h.au);const p=new yO(e,n,o);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function IO(t,e,n){const s=Re(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter((o=>!fu(o,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await Xh(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),n&&td(s.remoteStore,r.targetId),ef(s,r.targetId)})).catch(Uo)):(ef(s,r.targetId),await Xh(s.localStore,r.targetId,!0))}async function AO(t,e){const n=Re(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),td(n.remoteStore,s.targetId))}async function SO(t,e,n){const s=DO(t);try{const r=await(function(o,l){const u=Re(o),h=lt.now(),p=l.reduce(((w,M)=>w.add(M.key)),Ue());let _,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let M=or(),B=Ue();return u.Ns.getEntries(w,p).next(($=>{M=$,M.forEach(((Q,K)=>{K.isValidDocument()||(B=B.add(Q))}))})).next((()=>u.localDocuments.getOverlayedDocuments(w,M))).next(($=>{_=$;const Q=[];for(const K of l){const ee=FP(K,_.get(K.key).overlayedDocument);ee!=null&&Q.push(new ei(K.key,ee,fv(ee.value.mapValue),As.exists(!0)))}return u.mutationQueue.addMutationBatch(w,h,Q,l)})).next(($=>{v=$;const Q=$.applyToLocalDocumentSet(_,B);return u.documentOverlayCache.saveOverlays(w,$.batchId,Q)}))})).then((()=>({batchId:v.batchId,changes:Tv(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),(function(o,l,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new dt(Fe)),h=h.insert(l,u),o.Vu[o.currentUser.toKey()]=h})(s,r.batchId,n),await _c(s,r.changes),await vu(s.remoteStore)}catch(r){const i=od(r,"Failed to persist write");n.reject(i)}}async function sE(t,e){const n=Re(t);try{const s=await Mk(n.localStore,e);e.targetChanges.forEach(((r,i)=>{const o=n.Au.get(i);o&&(Ye(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?Ye(o.hu,14607):r.removedDocuments.size>0&&(Ye(o.hu,42227),o.hu=!1))})),await _c(n,s,e)}catch(s){await Uo(s)}}function wg(t,e,n){const s=Re(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach(((i,o)=>{const l=o.view.va(e);l.snapshot&&r.push(l.snapshot)})),(function(o,l){const u=Re(o);u.onlineState=l;let h=!1;u.queries.forEach(((p,_)=>{for(const v of _.Sa)v.va(l)&&(h=!0)})),h&&ad(u)})(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function CO(t,e,n){const s=Re(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let o=new dt(_e.comparator);o=o.insert(i,rn.newNoDocument(i,Ae.min()));const l=Ue().add(i),u=new gu(Ae.min(),new Map,new dt(Fe),o,l);await sE(s,u),s.du=s.du.remove(i),s.Au.delete(e),ld(s)}else await Xh(s.localStore,e,!1).then((()=>ef(s,e,n))).catch(Uo)}async function RO(t,e){const n=Re(t),s=e.batch.batchId;try{const r=await Vk(n.localStore,e);iE(n,s,null),rE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _c(n,r)}catch(r){await Uo(r)}}async function PO(t,e,n){const s=Re(t);try{const r=await(function(o,l){const u=Re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return u.mutationQueue.lookupMutationBatch(h,l).next((_=>(Ye(_!==null,37113),p=_.keys(),u.mutationQueue.removeMutationBatch(h,_)))).next((()=>u.mutationQueue.performConsistencyCheck(h))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>u.localDocuments.getDocuments(h,p)))}))})(s.localStore,e);iE(s,e,n),rE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _c(s,r)}catch(r){await Uo(r)}}function rE(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function iE(t,e,n){const s=Re(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function ef(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||oE(t,s)}))}function oE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(td(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ld(t))}function Tg(t,e,n){for(const s of n)s instanceof eE?(t.Ru.addReference(s.key,e),kO(t,s)):s instanceof tE?(le(cd,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||oE(t,s.key)):we(19791,{wu:s})}function kO(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(le(cd,"New document in limbo: "+n),t.Eu.add(s),ld(t))}function ld(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(ft.fromString(e)),s=t.fu.next();t.Au.set(s,new vO(n)),t.du=t.du.insert(n,s),Gv(t.remoteStore,new Vr(Is(zf(n.path)),s,"TargetPurposeLimboResolution",cu.ce))}}async function _c(t,e,n){const s=Re(t),r=[],i=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach(((l,u)=>{o.push(s.pu(u,e,n).then((h=>{if((h||n)&&s.isPrimaryClient){const p=h?!h.fromCache:n?.targetChanges.get(u.targetId)?.current;s.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){r.push(h);const p=Zf.As(u.targetId,h);i.push(p)}})))})),await Promise.all(o),s.Pu.H_(r),await(async function(u,h){const p=Re(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>z.forEach(h,(v=>z.forEach(v.Es,(w=>p.persistence.referenceDelegate.addReference(_,v.targetId,w))).next((()=>z.forEach(v.ds,(w=>p.persistence.referenceDelegate.removeReference(_,v.targetId,w)))))))))}catch(_){if(!jo(_))throw _;le(ed,"Failed to update sequence numbers: "+_)}for(const _ of h){const v=_.targetId;if(!_.fromCache){const w=p.Ms.get(v),M=w.snapshotVersion,B=w.withLastLimboFreeSnapshotVersion(M);p.Ms=p.Ms.insert(v,B)}}})(s.localStore,i))}async function OO(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){le(cd,"User change. New user:",e.toKey());const s=await Hv(n.localStore,e);n.currentUser=e,(function(i,o){i.mu.forEach((l=>{l.forEach((u=>{u.reject(new de(Y.CANCELLED,o))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _c(n,s.Ls)}}function NO(t,e){const n=Re(t),s=n.Au.get(e);if(s&&s.hu)return Ue().add(s.key);{let r=Ue();const i=n.Iu.get(e);if(!i)return r;for(const o of i){const l=n.Tu.get(o);r=r.unionWith(l.view.nu)}return r}}function aE(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CO.bind(null,e),e.Pu.H_=pO.bind(null,e.eventManager),e.Pu.yu=mO.bind(null,e.eventManager),e}function DO(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PO.bind(null,e),e}class jl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_u(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xk(this.persistence,new Ok,e.initialUser,this.serializer)}Cu(e){return new qv(Jf.mi,this.serializer)}Du(e){return new Bk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jl.provider={build:()=>new jl};class xO extends jl{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Fl,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new gk(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new qv((s=>Fl.mi(s,n)),this.serializer)}}class tf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wg(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OO.bind(null,this.syncEngine),await lO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hO})()}createDatastore(e){const n=_u(e.databaseInfo.databaseId),s=(function(i){return new zk(i)})(e.databaseInfo);return(function(i,o,l,u){return new Yk(i,o,l,u)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,r,i,o,l){return new Jk(s,r,i,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>wg(this.syncEngine,n,0)),(function(){return mg.v()?new mg:new $k})())}createSyncEngine(e,n){return(function(r,i,o,l,u,h,p){const _=new EO(r,i,o,l,u,h);return p&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);le(Li,"RemoteStore shutting down."),s.Ea.add(5),await gc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tf.provider={build:()=>new tf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class MO{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=nn.UNAUTHENTICATED,this.clientId=Uf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,(async o=>{le(Xr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(s,(o=>(le(Xr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=od(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function mh(t,e){t.asyncQueue.verifyOperationInProgress(),le(Xr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async r=>{s.isEqual(r)||(await Hv(e.localStore,r),s=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function bg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LO(t);le(Xr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>_g(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,r)=>_g(e.remoteStore,r))),t._onlineComponents=e}async function LO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(Xr,"Using user provided OfflineComponentProvider");try{await mh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===Y.FAILED_PRECONDITION||r.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await mh(t,new jl)}}else le(Xr,"Using default OfflineComponentProvider"),await mh(t,new xO(void 0));return t._offlineComponents}async function cE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(Xr,"Using user provided OnlineComponentProvider"),await bg(t,t._uninitializedComponentsProvider._online)):(le(Xr,"Using default OnlineComponentProvider"),await bg(t,new tf))),t._onlineComponents}function FO(t){return cE(t).then((e=>e.syncEngine))}async function UO(t){const e=await cE(t),n=e.eventManager;return n.onListen=wO.bind(null,e.syncEngine),n.onUnlisten=IO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=TO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AO.bind(null,e.syncEngine),n}function jO(t,e,n={}){const s=new $r;return t.asyncQueue.enqueueAndForget((async()=>(function(i,o,l,u,h){const p=new VO({next:v=>{p.Nu(),o.enqueueAndForget((()=>dO(i,_)));const w=v.docs.has(l);!w&&v.fromCache?h.reject(new de(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&u&&u.source==="server"?h.reject(new de(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),_=new gO(zf(l.path),p,{includeMetadataChanges:!0,qa:!0});return fO(i,_)})(await UO(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="firestore.googleapis.com",Ag=!0;class Sg{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uE,this.ssl=Ag}else this.host=e.host,this.ssl=e.ssl??Ag;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$v;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pk)throw new de(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lE(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new U0;switch(s.type){case"firstParty":return new q0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Ig.get(n);s&&(le("ComponentProvider","Removing Datastore"),Ig.delete(n),s.terminate())})(this),Promise.resolve()}}function BO(t,e,n,s={}){t=Mi(t,ud);const r=Vo(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(sy(`https://${l}`),ry("Firestore",!0)),i.host!==uE&&i.host!==l&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:l,ssl:r,emulatorOptions:s};if(!Oi(u,o)&&(t._setSettings(u),s.mockUserToken)){let h,p;if(typeof s.mockUserToken=="string")h=s.mockUserToken,p=nn.MOCK_USER;else{h=zA(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new de(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new nn(_)}t._authCredentials=new j0(new tv(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new hd(this.firestore,e,this._query)}}class Vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(dc(n,Vt._jsonSchema))return new Vt(e,s||null,new _e(ft.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Pt("string",Vt._jsonSchemaVersion),referencePath:Pt("string")};class nc extends hd{constructor(e,n,s){super(e,n,zf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new _e(e))}withConverter(e){return new nc(this.firestore,e,this._path)}}function hE(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=Uf.newId()),Q0("doc","path",e),t instanceof ud){const s=ft.fromString(e,...n);return jm(s),new Vt(t,null,new _e(s))}{if(!(t instanceof Vt||t instanceof nc))throw new de(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ft.fromString(e,...n));return jm(s),new Vt(t.firestore,t instanceof nc?t.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="AsyncQueue";class Rg{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zv(this,"async_queue_retry"),this._c=()=>{const s=ph();s&&le(Cg,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ph();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ph();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jo(e))throw e;le(Cg,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",Pg(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=id.createAndSchedule(this,e,n,s,(i=>this.hc(i)));return this.tc.push(r),r}uc(){this.nc&&we(47125,{Pc:Pg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Pg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Eu extends ud{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new Rg,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rg(e),this._firestoreClient=void 0,await e}}}function $O(t,e){const n=typeof t=="object"?t:Rf(),s=typeof t=="string"?t:Nl,r=Cf(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=HA("firestore");i&&BO(r,...i)}return r}function fE(t){if(t._terminated)throw new de(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||qO(t),t._firestoreClient}function qO(t){const e=t._freezeSettings(),n=(function(r,i,o,l){return new aP(r,i,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,lE(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new MO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(r){const i=r?._online.build();return{_offline:r?._offline.build(i),_online:i}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(Gt.fromBase64String(e))}catch(n){throw new de(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $n(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dc(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Pt("string",$n._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cs._jsonSchemaVersion}}static fromJSON(e){if(dc(e,Cs._jsonSchema))return new Cs(e.latitude,e.longitude)}}Cs._jsonSchemaVersion="firestore/geoPoint/1.0",Cs._jsonSchema={type:Pt("string",Cs._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dc(e,Rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Rs(e.vectorValues);throw new de(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rs._jsonSchemaVersion="firestore/vectorValue/1.0",Rs._jsonSchema={type:Pt("string",Rs._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=/^__.*__$/;class WO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new pc(e,this.data,n,this.fieldTransforms)}}class dE{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ei(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:t})}}class fd{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bl(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pE(this.Ac)&&HO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class zO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||_u(e)}Cc(e,n,s,r=!1){return new fd({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mE(t){const e=t._freezeSettings(),n=_u(t._databaseId);return new zO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KO(t,e,n,s,r,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);pd("Data must be an object, but it was:",o,s);const l=gE(s,o);let u,h;if(i.merge)u=new Pn(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const p=[];for(const _ of i.mergeFields){const v=nf(e,_,n);if(!o.contains(v))throw new de(Y.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);yE(p,v)||p.push(v)}u=new Pn(p),h=o.fieldTransforms.filter((_=>u.covers(_.field)))}else u=null,h=o.fieldTransforms;return new WO(new Tn(l),u,h)}class bu extends Tu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bu}}class dd extends Tu{_toFieldTransform(e){return new xP(e.path,new Za)}isEqual(e){return e instanceof dd}}function GO(t,e,n,s){const r=t.Cc(1,e,n);pd("Data must be an object, but it was:",r,s);const i=[],o=Tn.empty();Zr(s,((u,h)=>{const p=md(e,u,n);h=Lt(h);const _=r.yc(p);if(h instanceof bu)i.push(p);else{const v=Iu(h,_);v!=null&&(i.push(p),o.set(p,v))}}));const l=new Pn(i);return new dE(o,l,r.fieldTransforms)}function QO(t,e,n,s,r,i){const o=t.Cc(1,e,n),l=[nf(e,s,n)],u=[r];if(i.length%2!=0)throw new de(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)l.push(nf(e,i[v])),u.push(i[v+1]);const h=[],p=Tn.empty();for(let v=l.length-1;v>=0;--v)if(!yE(h,l[v])){const w=l[v];let M=u[v];M=Lt(M);const B=o.yc(w);if(M instanceof bu)h.push(w);else{const $=Iu(M,B);$!=null&&(h.push(w),p.set(w,$))}}const _=new Pn(h);return new dE(p,_,o.fieldTransforms)}function Iu(t,e){if(_E(t=Lt(t)))return pd("Unsupported field value:",e,t),gE(t,e);if(t instanceof Tu)return(function(s,r){if(!pE(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,r){const i=[];let o=0;for(const l of s){let u=Iu(l,r.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}})(t,e)}return(function(s,r){if((s=Lt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return OP(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=lt.fromDate(s);return{timestampValue:Ll(r.serializer,i)}}if(s instanceof lt){const i=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ll(r.serializer,i)}}if(s instanceof Cs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $n)return{bytesValue:Vv(r.serializer,s._byteString)};if(s instanceof Vt){const i=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(i))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Yf(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Rs)return(function(o,l){return{mapValue:{fields:{[uv]:{stringValue:hv},[Dl]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return Kf(l.serializer,h)}))}}}}}})(s,r);throw r.Sc(`Unsupported field value: ${jf(s)}`)})(t,e)}function gE(t,e){const n={};return rv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,((s,r)=>{const i=Iu(r,e.mc(s));i!=null&&(n[s]=i)})),{mapValue:{fields:n}}}function _E(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Cs||t instanceof $n||t instanceof Vt||t instanceof Tu||t instanceof Rs)}function pd(t,e,n){if(!_E(n)||!nv(n)){const s=jf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function nf(t,e,n){if((e=Lt(e))instanceof wu)return e._internalPath;if(typeof e=="string")return md(t,e);throw Bl("Field path arguments must be of type string or ",t,!1,void 0,n)}const YO=new RegExp("[~\\*/\\[\\]]");function md(t,e,n){if(e.search(YO)>=0)throw Bl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wu(...e.split("."))._internalPath}catch{throw Bl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bl(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${s}`),o&&(u+=` in document ${r}`),u+=")"),new de(Y.INVALID_ARGUMENT,l+t+u)}function yE(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(EE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XO extends vE{data(){return super.data()}}function EE(t,e){return typeof e=="string"?md(t,e):e instanceof wu?e._internalPath:e._delegate._internalPath}class JO{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Zr(e,((r,i)=>{s[r]=this.convertValue(i,n)})),s}convertVectorValue(e){const n=e.fields?.[Dl].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new Rs(n)}convertGeoPoint(e){return new Cs(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=uu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ya(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);Ye(Bv(s),9688,{name:e});const r=new Xa(s.get(1),s.get(3)),i=new _e(s.popFirst(5));return r.isEqual(n)||ir(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class ba{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pi extends vE{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(EE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pi._jsonSchema={type:Pt("string",Pi._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class fl extends Pi{data(e={}){return super.data(e)}}class Fa{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ba(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new fl(this._firestore,this._userDataWriter,s.key,s,new ba(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map((l=>{const u=new fl(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ba(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((l=>i||l.type!==3)).map((l=>{const u=new fl(r._firestore,r._userDataWriter,l.doc.key,l.doc,new ba(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let h=-1,p=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),p=o.indexOf(l.doc.key)),{type:e1(l.type),doc:u,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function e1(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t){t=Mi(t,Vt);const e=Mi(t.firestore,Eu);return jO(fE(e),t._key).then((n=>r1(e,t,n)))}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Pt("string",Fa._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class n1 extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function wE(t,e,n){t=Mi(t,Vt);const s=Mi(t.firestore,Eu),r=ZO(t.converter,e);return TE(s,[KO(mE(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,As.none())])}function s1(t,e,n,...s){t=Mi(t,Vt);const r=Mi(t.firestore,Eu),i=mE(r);let o;return o=typeof(e=Lt(e))=="string"||e instanceof wu?QO(i,"updateDoc",t._key,e,n,s):GO(i,"updateDoc",t._key,e),TE(r,[o.toMutation(t._key,As.exists(!0))])}function TE(t,e){return(function(s,r){const i=new $r;return s.asyncQueue.enqueueAndForget((async()=>SO(await FO(s),r,i))),i.promise})(fE(t),e)}function r1(t,e,n){const s=n.docs.get(e._key),r=new n1(t);return new Pi(t,r,e._key,s,new ba(n.hasPendingWrites,n.fromCache),e.converter)}function Ai(){return new dd("serverTimestamp")}(function(e,n=!0){(function(r){Fo=r})(Mo),So(new Ni("firestore",((s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),l=new Eu(new B0(s.getProvider("auth-internal")),new H0(o,s.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new de(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(h.options.projectId,p)})(o,r),o);return i={useFetchStreams:n,...i},l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),jr(Mm,Lm,e),jr(Mm,Lm,"esm2020")})();const i1={apiKey:"AIzaSyDvJe-P_cND8HtHXSy-2JiE4GTv0HjISVQ",authDomain:"touch-grass-77c7c.firebaseapp.com",projectId:"touch-grass-77c7c",storageBucket:"touch-grass-77c7c.appspot.com",messagingSenderId:"274431894037",appId:"1:274431894037:web:51d11404b04f90fa63641c"},bE=lC().length?Rf():ay(i1),kn=L0(bE),IE=$O(bE);let Qc;function o1(){return Qc||(Qc=new Promise(t=>{const e=Ly(kn,n=>{e(),t(n)})}),Qc)}async function W1(t,e,n={}){const s=!!n.remember;await AR(kn,s?jy:Vf);const r=await Vy(kn,t,e);if(!r.user.emailVerified){try{await iu(kn)}catch{}const o=new Error("Please verify your email before signing in.");throw o.code="auth/unverified-email",o}const i=hE(IE,"users",r.user.uid);try{const o=await t1(i);if(!o.exists())await wE(i,{uid:r.user.uid,email:t.toLowerCase(),displayName:r.user.displayName||"",friendsList:[],favouritesList:[],availableDates:[],createdAt:Ai(),updatedAt:Ai(),lastLoginAt:Ai()});else{const l=o.data()||{},u={};Array.isArray(l.friendsList)||(u.friendsList=[]),Array.isArray(l.favouritesList)||(u.favouritesList=[]),Array.isArray(l.availableDates)||(u.availableDates=[]),u.lastLoginAt=Ai(),u.updatedAt=Ai(),await s1(i,u)}}catch{}return r}async function z1(t,e,n=""){const s=await TR(kn,t,e);if(n)try{await IR(s.user,{displayName:n})}catch{}try{await wE(hE(IE,"users",s.user.uid),{uid:s.user.uid,email:t.toLowerCase(),displayName:n,friendsList:[],favouritesList:[],availableDates:[],createdAt:Ai(),updatedAt:Ai()})}catch{}try{await My(s.user)}catch{}try{await iu(kn)}catch{}return s}async function K1(t){return wR(kn,t)}async function G1(t,e){const n=await Vy(kn,t,e);try{await My(n.user)}finally{try{await iu(kn)}catch{}}}async function a1(){await iu(kn)}const c1=()=>eu(()=>import("./Index-CbwXQQv7.js"),__vite__mapDeps([0,1,2])),l1=()=>eu(()=>import("./Auth-Bo18gY9z.js"),__vite__mapDeps([3,4])),u1=()=>eu(()=>import("./Calendar-BKqoVey1.js"),__vite__mapDeps([5,1,6])),h1=()=>eu(()=>import("./Itinerary-CuLIvZFE.js"),[]),f1=[{path:"/",component:c1},{path:"/login",component:l1,meta:{guestOnly:!0,hideChrome:!0}},{path:"/calendar",component:u1,meta:{requiresAuth:!0}},{path:"/itinerary",component:h1,meta:{requiresAuth:!0}}],AE=DA({history:fA(),routes:f1});AE.beforeEach(async t=>{await o1();const e=kn.currentUser;if(t.meta?.requiresAuth&&!e)return{path:"/login",query:{redirect:t.fullPath}};if(t.meta?.guestOnly&&e)return{path:t.query.redirect?.toString()||"/"}});let d1=0;const Ua=rc([]);function SE(t){const e=Ua.findIndex(n=>n.id===t);if(e!==-1){const n=Ua[e];n.timeoutId&&clearTimeout(n.timeoutId),Ua.splice(e,1)}}function pa({message:t,type:e="info",duration:n=3500}){const r=new Set(["success","error","warning","info"]).has(e)?e:"info",i=++d1,o=setTimeout(()=>SE(i),n);return Ua.push({id:i,message:t,type:r,timeoutId:o}),i}const CE={show:(t,e)=>pa({message:t,duration:e}),success:(t,e)=>pa({message:t,type:"success",duration:e}),error:(t,e)=>pa({message:t,type:"error",duration:e}),warn:(t,e)=>pa({message:t,type:"warning",duration:e}),info:(t,e)=>pa({message:t,type:"info",duration:e}),dismiss:SE},p1={class:"navbar navbar-expand-lg navbar-touchgrass","aria-label":"Touch Grass main navigation"},m1={class:"container"},g1={class:"collapse navbar-collapse",id:"tgNav"},_1={class:"navbar-nav ms-auto align-items-lg-center gap-lg-2"},y1={class:"nav-item"},v1={class:"nav-item"},E1={key:0,class:"nav-item"},w1={key:1,class:"nav-item dropdown"},T1={class:"nav-link dropdown-toggle d-flex align-items-center gap-2",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},b1={class:"d-inline d-lg-none d-xl-inline"},I1={__name:"Navbar",setup(t){const e=xA(),n=Zg(kn.currentUser);let s;h_(()=>{s=Ly(kn,u=>n.value=u)}),f_(()=>{s&&s()});const r=jn(()=>n.value?.displayName||n.value?.email||"");function i(){const u=document.getElementById("tgNav");window.bootstrap?.Collapse?new window.bootstrap.Collapse(u,{toggle:!0}):u?.classList.remove("show")}async function o(){await a1(),CE.success("Signed out"),i(),e.push("/")}function l(){i(),e.push("/profile")}return(u,h)=>(ts(),Lr("nav",p1,[ie("div",m1,[Rt(_n(_a),{class:"navbar-brand d-flex align-items-center gap-2",to:"/",onClick:i},{default:ma(()=>[...h[0]||(h[0]=[ie("svg",{class:"grass-logo",viewBox:"0 0 64 64",role:"img","aria-label":"Touch Grass logo"},[ie("rect",{x:"0",y:"44",width:"64",height:"6",fill:"white"}),ie("path",{d:"M8 44 q2-10 6-16 q-2 8 2 16 Z",fill:"white"}),ie("path",{d:"M16 44 q2-12 8-20 q-3 10 1 20 Z",fill:"white"}),ie("path",{d:"M24 44 q3-14 10-24 q-4 12 0 24 Z",fill:"white"}),ie("path",{d:"M32 44 q2-12 8-20 q-3 10 0 20 Z",fill:"white"}),ie("path",{d:"M40 44 q3-14 10-24 q-4 12 0 24 Z",fill:"white"}),ie("path",{d:"M48 44 q2-10 6-16 q-2 8 2 16 Z",fill:"white"})],-1),ie("span",null,"Touch Grass",-1)])]),_:1}),h[5]||(h[5]=ie("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#tgNav","aria-controls":"tgNav","aria-expanded":"false","aria-label":"Toggle navigation"},[ie("span",{class:"navbar-toggler-icon"})],-1)),ie("div",g1,[ie("ul",_1,[ie("li",y1,[Rt(_n(_a),{class:"nav-link d-flex align-items-center gap-2",to:"/calendar",onClick:i},{default:ma(()=>[...h[1]||(h[1]=[ie("i",{class:"bi bi-calendar fs-5"},null,-1),ie("span",{class:"d-inline d-lg-none d-xl-inline"},"Calendar",-1)])]),_:1})]),ie("li",v1,[Rt(_n(_a),{class:"nav-link d-flex align-items-center gap-2",to:"/itinerary",onClick:i},{default:ma(()=>[...h[2]||(h[2]=[ie("i",{class:"bi bi-signpost-2 fs-5"},null,-1),ie("span",{class:"d-inline d-lg-none d-xl-inline"},"Itinerary",-1)])]),_:1})]),n.value?(ts(),Lr("li",w1,[ie("a",T1,[h[4]||(h[4]=ie("i",{class:"bi bi-person-circle fs-5"},null,-1)),ie("span",b1,Kl(r.value),1)]),ie("ul",{class:"dropdown-menu dropdown-menu-end"},[ie("li",null,[ie("button",{class:"dropdown-item",onClick:l},"Profile")]),ie("li",null,[ie("button",{class:"dropdown-item",onClick:o},"Sign out")])])])):(ts(),Lr("li",E1,[Rt(_n(_a),{class:"nav-link d-flex align-items-center gap-2",to:"/login",onClick:i},{default:ma(()=>[...h[3]||(h[3]=[ie("i",{class:"bi bi-person-circle fs-5"},null,-1),ie("span",{class:"d-inline d-lg-none d-xl-inline"},"Login",-1)])]),_:1})]))])])])]))}},gd=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},A1={class:"footer-tg border-top pt-5 mt-5"},S1={class:"container"},C1={class:"d-flex flex-column flex-md-row justify-content-between align-items-start gap-2 pb-4 small"},R1={class:"text-secondary"},P1={__name:"Footer",setup(t){const e=new Date().getFullYear();function n(){window.scrollTo({top:0,behavior:"smooth"})}return(s,r)=>(ts(),Lr("footer",A1,[ie("div",S1,[r[1]||(r[1]=ie("div",{class:"row gy-5 align-items-start"},[ie("div",{class:"col-12 col-lg-6"},[ie("div",{class:"d-flex align-items-center gap-2 mb-3"},[ie("svg",{class:"grass-logo",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Touch Grass logo"},[ie("rect",{x:"0",y:"44",width:"64",height:"6",fill:"#2d5016"}),ie("path",{d:"M8 44 q2-10 6-16 q-2 8 2 16 Z",fill:"#2d5016"}),ie("path",{d:"M16 44 q2-12 8-20 q-3 10 1 20 Z",fill:"#2d5016"}),ie("path",{d:"M24 44 q3-14 10-24 q-4 12 0 24 Z",fill:"#2d5016"}),ie("path",{d:"M32 44 q2-12 8-20 q-3 10 0 20 Z",fill:"#2d5016"}),ie("path",{d:"M40 44 q3-14 10-24 q-4 12 0 24 Z",fill:"#2d5016"}),ie("path",{d:"M48 44 q2-10 6-16 q-2 8 2 16 Z",fill:"#2d5016"})]),ie("span",{class:"fw-semibold fs-5"},"Touch Grass")]),ie("p",{class:"text-secondary small mb-3"}," Event discovery for the outdoorsy in Singapore  parks, trails, markets, and community fests. "),ie("div",{class:"d-flex align-items-center gap-3 mt-3"},[ie("a",{class:"btn btn-icon",href:"https://www.instagram.com","aria-label":"Instagram"},[ie("i",{class:"bi bi-instagram","aria-hidden":"true"})]),ie("a",{class:"btn btn-icon",href:"https://www.tiktok.com","aria-label":"TikTok"},[ie("i",{class:"bi bi-tiktok","aria-hidden":"true"})]),ie("a",{class:"btn btn-icon",href:"https://www.youtube.com","aria-label":"YouTube"},[ie("i",{class:"bi bi-youtube","aria-hidden":"true"})])])]),ie("div",{class:"col-12 col-lg-6"},[ie("h6",{class:"fw-semibold mb-3"},"Members"),ie("ul",{class:"list-unstyled small row row-cols-2 row-cols-sm-3 row-cols-md-3 g-2"},[ie("li",null,[ie("a",{class:"link-body-emphasis",href:"https://github.com/ewvnn/"},"Ewen")]),ie("li",null,[ie("a",{class:"link-body-emphasis",href:"#"},"Jia Le")]),ie("li",null,[ie("a",{class:"link-body-emphasis",href:"#"},"Boone")]),ie("li",null,[ie("a",{class:"link-body-emphasis",href:"#"},"Xiao Thong")]),ie("li",null,[ie("a",{class:"link-body-emphasis",href:"#"},"Fazil")]),ie("li",null,[ie("a",{class:"link-body-emphasis",href:"#"},"Wasil")])])])],-1)),r[2]||(r[2]=ie("hr",{class:"my-4 opacity-25"},null,-1)),ie("div",C1,[ie("span",R1," "+Kl(_n(e))+" Touch Grass. All rights reserved.",1),ie("button",{type:"button",class:"btn btn-link p-0 link-body-emphasis",onClick:n,"aria-label":"Back to top"},[...r[0]||(r[0]=[D_(" Back to top ",-1),ie("i",{class:"bi bi-arrow-up-short","aria-hidden":"true"},null,-1)])])])])]))}},k1=gd(P1,[["__scopeId","data-v-80a988d9"]]),O1={class:"toast-zone position-fixed start-50 translate-middle-x p-3",style:{"z-index":"1080",top:"1rem","pointer-events":"none"},"aria-live":"polite","aria-atomic":"true"},N1={class:"d-flex align-items-center"},D1={class:"toast-body fw-medium"},x1=["onClick"],V1={__name:"Toaster",setup(t){function e(n){const s={success:"bg-success-subtle text-success-emphasis border border-success-subtle",error:"bg-danger-subtle  text-danger-emphasis  border border-danger-subtle",warning:"bg-warning-subtle text-warning-emphasis border border-warning-subtle",info:"bg-primary-subtle text-primary-emphasis border border-primary-subtle"};return s[n]||s.info}return(n,s)=>(ts(),Lr("div",O1,[(ts(!0),Lr(vs,null,ib(_n(Ua),r=>(ts(),Lr("div",{key:r.id,class:zl(["toast show shadow-lg rounded-3 mb-2",e(r.type)]),role:"status",style:{"pointer-events":"auto","min-width":"280px","max-width":"min(420px, 92vw)"}},[ie("div",N1,[ie("div",D1,Kl(r.message),1),ie("button",{type:"button",class:"btn-close me-2 m-auto","aria-label":"Close",onClick:i=>_n(CE).dismiss(r.id)},null,8,x1)])],2))),128))]))}},M1=gd(V1,[["__scopeId","data-v-932819f9"]]),L1={id:"app"},F1={__name:"App",setup(t){const e=VA();return(n,s)=>{const r=nb("router-view");return ts(),Lr("div",L1,[_n(e).meta?.hideChrome?bp("",!0):(ts(),Ah(I1,{key:0})),Rt(r),_n(e).meta?.hideChrome?bp("",!0):(ts(),Ah(k1,{key:1})),Rt(M1)])}}},U1=gd(F1,[["__scopeId","data-v-6db8fd5a"]]);II(U1).use(AE).mount("#app");export{xA as A,VA as B,W1 as C,z1 as D,K1 as E,vs as F,gd as _,d_ as a,ie as b,Lr as c,ib as d,ts as e,bp as f,D_ as g,zl as h,j1 as i,yI as j,B1 as k,Rt as l,jn as m,cf as n,h_ as o,ma as p,nb as q,Zg as r,$1 as s,Kl as t,gI as u,Fp as v,q1 as w,_f as x,G1 as y,CE as z};
