import{_ as S,r as M,o as I,a as L,c as a,b as e,F as _,d as w,e as d,n as V,f as h,t as r,g as m,w as A,h as N,i as C,v as Q,j as P,k as z,l as k}from"./index-C57D7_rB.js";import{l as B}from"./events-BTU03aD-.js";const U={class:"hero-section"},O={class:"grass-container"},R=["d","fill","opacity","transform"],T={__name:"Hero",setup(l){const t=M([]),g=M(-1e3),p=M(-1e3);I(()=>{const i=[],u=["#4a7c3a","#5a8f4a","#6ba85e","#3d6b2f"];for(let c=0;c<120;c++){const v=c*10+Math.random()*8,b=40+Math.random()*60,y=3+Math.random()*3,f=10+Math.random()*15;i.push({x:v,height:b,width:y,curve:f,color:u[Math.floor(Math.random()*u.length)],opacity:.7+Math.random()*.3,baseRotation:(Math.random()-.5)*5,swayOffset:Math.random()*Math.PI*2,path:o(v,b,y,f),transition:"transform 0.3s ease-out"})}t.value=i});function o(i,u,c,v){return`
    M ${i} 150
    Q ${i+v} ${150-u*.5}, ${i+v*.5} ${150-u*.8}
    Q ${i+v*.3} ${150-u}, ${i} ${150-u}
    Q ${i-c} ${150-u*.9}, ${i-c*.5} ${150-u*.6}
    Q ${i-c*.3} ${150-u*.3}, ${i} 150
    Z
  `}function n(i){const c=i.currentTarget.getBoundingClientRect();g.value=i.clientX-c.left,p.value=i.clientY-c.top}function s(){g.value=-1e3,p.value=-1e3}function x(i,u){const c=g.value-i.x,v=p.value-150,b=Math.sqrt(c*c+v*v),y=Date.now()*.001,f=Math.sin(y+i.swayOffset)*2;if(b<100){const F=Math.max(0,1-b/100),Y=Math.atan2(v,c),D=F*25;return`rotate(${i.baseRotation-Math.cos(Y)*D+f})`}return`rotate(${i.baseRotation+f})`}let E;return I(()=>{const i=()=>{t.value=[...t.value],E=requestAnimationFrame(i)};i()}),L(()=>{E&&cancelAnimationFrame(E)}),(i,u)=>(d(),a("section",U,[u[1]||(u[1]=e("div",{class:"container text-center"},[e("h1",{class:"display-4 fw-bold text-dark mb-3"}," Find Affordable Events in Singapore "),e("p",{class:"lead text-secondary mx-auto mb-5",style:{"max-width":"48rem"}}," Your centralised website for discovering budget-friendly activities! "),e("a",{href:"#events",class:"btn btn-lg rounded-pill px-5 py-3 shadow-sm explore-btn text-white",style:{"background-color":"#51b058"}}," Explore Events ")],-1)),e("div",O,[(d(),a("svg",{class:"grass-svg",viewBox:"0 0 1200 200",xmlns:"http://www.w3.org/2000/svg",onMousemove:n,onMouseleave:s},[u[0]||(u[0]=e("rect",{x:"0",y:"150",width:"1200",height:"50",fill:"#5a8f4a",opacity:"0.3"},null,-1)),(d(!0),a(_,null,w(t.value,(c,v)=>(d(),a("g",{key:v},[e("path",{d:c.path,fill:c.color,opacity:c.opacity,transform:x(c),style:V({transformOrigin:`${c.x}px 150px`,transition:c.transition}),class:"grass-blade"},null,12,R)]))),128))],32))])]))}},X=S(T,[["__scopeId","data-v-275662ea"]]),$={name:"EventCarousel",data(){return{events:[],currentIndex:0,showModal:!1,selectedEvent:null,favourites:[],itemsPerView:3,autoScrollInterval:null,autoScrollDelay:3e3}},async mounted(){try{this.events=await B()}catch(l){console.error("Error loading events:",l)}this.updateItemsPerView(),window.addEventListener("resize",this.updateItemsPerView),this.startAutoScroll()},beforeUnmount(){window.removeEventListener("resize",this.updateItemsPerView),this.stopAutoScroll()},methods:{startAutoScroll(){this.autoScrollInterval=setInterval(()=>{this.currentIndex>=this.events.length-this.itemsPerView?this.currentIndex=0:this.currentIndex++},this.autoScrollDelay)},stopAutoScroll(){this.autoScrollInterval&&(clearInterval(this.autoScrollInterval),this.autoScrollInterval=null)},updateItemsPerView(){const l=window.innerWidth;l<768?this.itemsPerView=1:l<992?this.itemsPerView=2:this.itemsPerView=3,this.currentIndex>this.events.length-this.itemsPerView&&(this.currentIndex=Math.max(0,this.events.length-this.itemsPerView))},scrollPrev(){this.currentIndex>0&&(this.currentIndex--,this.stopAutoScroll(),this.startAutoScroll())},scrollNext(){this.currentIndex<this.events.length-this.itemsPerView&&(this.currentIndex++,this.stopAutoScroll(),this.startAutoScroll())},openModal(l){this.selectedEvent=l,this.showModal=!0,this.stopAutoScroll()},closeModal(){this.showModal=!1,this.selectedEvent=null,this.startAutoScroll()},toggleFavourite(){const l=this.favourites.indexOf(this.selectedEvent.id);l>-1?this.favourites.splice(l,1):this.favourites.push(this.selectedEvent.id)},isFavourite(l){return this.favourites.includes(l)}}},j={class:"container py-4"},q=["disabled"],H={class:"overflow-hidden"},W=["onClick"],Z=["src","alt"],G={class:"card-body"},J={class:"badge bg-success mb-2"},K={class:"card-title mb-2"},ee={class:"card-text text-muted mb-1"},te={class:"card-text text-muted mb-1"},se={class:"card-text fw-bold"},oe=["disabled"],le={class:"modal-dialog modal-dialog-centered"},ne={key:0,class:"modal-content"},re={class:"modal-header"},ie={class:"modal-title"},ae={class:"modal-body"},de=["src","alt"],ce={class:"mb-2"},ue={class:"badge bg-success"},ve={class:"badge bg-success ms-2"},he={class:"mb-2"},me={class:"mb-2"},ge={class:"mb-2"},pe={class:"mb-2"},be={class:"modal-tags"},fe={key:0,class:"tag"},_e={key:1,class:"tag"},ye={class:"modal-footer"};function we(l,t,g,p,o,n){return d(),a("div",j,[e("div",{class:"position-relative overflow-hidden",onMouseenter:t[2]||(t[2]=(...s)=>n.stopAutoScroll&&n.stopAutoScroll(...s)),onMouseleave:t[3]||(t[3]=(...s)=>n.startAutoScroll&&n.startAutoScroll(...s))},[e("button",{class:"btn btn-light position-absolute top-50 start-0 translate-middle-y shadow-sm",style:{"z-index":"10","border-radius":"50%",width:"40px",height:"40px"},onClick:t[0]||(t[0]=(...s)=>n.scrollPrev&&n.scrollPrev(...s)),disabled:o.currentIndex===0},[...t[8]||(t[8]=[e("span",{"aria-hidden":"true"},"‹",-1)])],8,q),e("div",H,[e("div",{class:"d-flex transition-transform",style:V([{transform:`translateX(-${o.currentIndex*(100/o.itemsPerView)}%)`},{transition:"transform 0.3s ease"}])},[(d(!0),a(_,null,w(o.events,s=>(d(),a("div",{key:s.id,class:"flex-shrink-0 px-2 carousel-item-wrapper",id:"events"},[e("div",{class:"card h-100 shadow-sm cursor-pointer",onClick:x=>n.openModal(s),style:{cursor:"pointer"}},[e("img",{src:s.image,class:"card-img-top",alt:s.title,style:{height:"200px","object-fit":"cover"}},null,8,Z),e("div",G,[e("span",J,r(s.badge),1),e("h5",K,r(s.title),1),e("p",ee,[e("small",null,r(s.location),1)]),e("p",te,[e("small",null,r(s.date),1)]),e("p",se,r(s.price),1)])],8,W)]))),128))],4)]),e("button",{class:"btn btn-light position-absolute top-50 end-0 translate-middle-y shadow-sm",style:{"z-index":"10","border-radius":"50%",width:"40px",height:"40px"},onClick:t[1]||(t[1]=(...s)=>n.scrollNext&&n.scrollNext(...s)),disabled:o.currentIndex>=o.events.length-o.itemsPerView},[...t[9]||(t[9]=[e("span",{"aria-hidden":"true"},"›",-1)])],8,oe)],32),e("div",{class:N(["modal fade",{show:o.showModal,"d-block":o.showModal}]),tabindex:"-1",style:{"background-color":"rgba(0,0,0,0.5)"},onClick:t[7]||(t[7]=A((...s)=>n.closeModal&&n.closeModal(...s),["self"]))},[e("div",le,[o.selectedEvent?(d(),a("div",ne,[e("div",re,[e("h5",ie,r(o.selectedEvent.title),1),e("button",{type:"button",class:"btn-close",onClick:t[4]||(t[4]=(...s)=>n.closeModal&&n.closeModal(...s))})]),e("div",ae,[e("img",{src:o.selectedEvent.image,class:"img-fluid rounded mb-3",alt:o.selectedEvent.title},null,8,de),e("div",ce,[e("span",ue,r(o.selectedEvent.badge),1),e("span",ve,r(o.selectedEvent.category),1)]),e("p",he,[t[10]||(t[10]=e("strong",null,"Location:",-1)),m(" "+r(o.selectedEvent.location),1)]),e("p",me,[t[11]||(t[11]=e("strong",null,"Date:",-1)),m(" "+r(o.selectedEvent.date),1)]),e("p",ge,[t[12]||(t[12]=e("strong",null,"Duration:",-1)),m(" "+r(o.selectedEvent.duration),1)]),e("p",pe,[t[13]||(t[13]=e("strong",null,"Price:",-1)),m(" "+r(o.selectedEvent.price),1)]),e("div",be,[o.selectedEvent.cdc?(d(),a("span",fe,"CDC Vouchers")):h("",!0),o.selectedEvent.culturepass?(d(),a("span",_e,"CulturePass")):h("",!0)])]),e("div",ye,[e("button",{type:"button",class:"btn btn-secondary",onClick:t[5]||(t[5]=(...s)=>n.closeModal&&n.closeModal(...s))}," Close "),e("button",{type:"button",class:"btn btn-success",onClick:t[6]||(t[6]=(...s)=>n.toggleFavourite&&n.toggleFavourite(...s))},r(n.isFavourite(o.selectedEvent.id)?"Remove from Favourites":"Save to Favourites"),1)])])):h("",!0)])],2)])}const xe=S($,[["render",we],["__scopeId","data-v-d97f1462"]]),Ee={name:"FilterEvents",data(){return{events:[],searchQuery:"",selectedCategory:"all",selectedBudget:"all",selectedEvent:null,categories:[]}},computed:{filteredEvents(){return this.events.filter(l=>{const t=l.title.toLowerCase().includes(this.searchQuery.toLowerCase())||l.location.toLowerCase().includes(this.searchQuery.toLowerCase()),g=this.selectedCategory==="all"||l.category===this.selectedCategory,p=this.selectedBudget==="all"||this.checkBudget(l.price);return t&&g&&p})}},async mounted(){try{this.events=await B(),this.categories=[...new Set(this.events.map(l=>l.category))]}catch(l){console.error("Failed to load events:",l),this.events=[],this.categories=[]}},methods:{checkBudget(l){const t=parseFloat(l.replace(/[^0-9.]/g,""))||0;switch(this.selectedBudget){case"free":return t===0;case"low":return t>0&&t<10;case"medium":return t>=10&&t<=50;case"high":return t>50;default:return!0}},openModal(l){this.selectedEvent=l,document.body.style.overflow="hidden"},closeModal(){this.selectedEvent=null,document.body.style.overflow="auto"},saveEvent(l){console.log("Saving event:",l),alert(`Event "${l.title}" has been saved!`)}}},Me={class:"filter-events"},Ce={class:"search-container"},ke={class:"filters"},Se={class:"filter-group"},Ie=["value"],Pe={class:"filter-group"},Ve={class:"events-grid"},Ae=["onClick"],Be={class:"event-image"},Fe=["src","alt"],Ye={key:0,class:"badge"},De={class:"event-content"},Le={class:"location"},Ne={class:"date"},Qe={class:"event-footer"},ze={class:"price"},Ue={class:"tags"},Oe={key:0,class:"tag"},Re={key:1,class:"tag"},Te={key:0,class:"empty-state"},Xe=["src","alt"],$e={class:"modal-details"},je={class:"modal-info"},qe={class:"modal-tags"},He={key:0,class:"badge"},We={key:1,class:"tag"},Ze={key:2,class:"tag"};function Ge(l,t,g,p,o,n){return d(),a("div",Me,[e("div",Ce,[C(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>o.searchQuery=s),type:"text",placeholder:"Search events...",class:"search-input"},null,512),[[Q,o.searchQuery]])]),e("div",ke,[e("div",Se,[t[8]||(t[8]=e("label",null,"Category:",-1)),C(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.selectedCategory=s),class:"filter-select"},[t[7]||(t[7]=e("option",{value:"all"},"All Categories",-1)),(d(!0),a(_,null,w(o.categories,s=>(d(),a("option",{key:s,value:s},r(s),9,Ie))),128))],512),[[P,o.selectedCategory]])]),e("div",Pe,[t[10]||(t[10]=e("label",null,"Budget:",-1)),C(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.selectedBudget=s),class:"filter-select"},[...t[9]||(t[9]=[z('<option value="all" data-v-6e455b11>All Budgets</option><option value="free" data-v-6e455b11>Free</option><option value="low" data-v-6e455b11>Under $10</option><option value="medium" data-v-6e455b11>$10 - $50</option><option value="high" data-v-6e455b11>Over $50</option>',5)])],512),[[P,o.selectedBudget]])])]),e("div",Ve,[(d(!0),a(_,null,w(n.filteredEvents,s=>(d(),a("div",{key:s.id,class:"event-card",onClick:x=>n.openModal(s)},[e("div",Be,[e("img",{src:s.image,alt:s.title},null,8,Fe),s.badge?(d(),a("span",Ye,r(s.badge),1)):h("",!0)]),e("div",De,[e("h3",null,r(s.title),1),e("p",Le,r(s.location),1),e("p",Ne,r(s.date),1),e("div",Qe,[e("span",ze,r(s.price),1),e("div",Ue,[s.cdc?(d(),a("span",Oe,"CDC")):h("",!0),s.culturepass?(d(),a("span",Re,"CulturePass")):h("",!0)])])])],8,Ae))),128))]),n.filteredEvents.length===0?(d(),a("div",Te,[...t[11]||(t[11]=[e("p",null,"No events found matching your criteria.",-1)])])):h("",!0),o.selectedEvent?(d(),a("div",{key:1,class:"modal-overlay",onClick:t[6]||(t[6]=(...s)=>n.closeModal&&n.closeModal(...s))},[e("div",{class:"modal-content",onClick:t[5]||(t[5]=A(()=>{},["stop"]))},[e("button",{class:"close-btn",onClick:t[3]||(t[3]=(...s)=>n.closeModal&&n.closeModal(...s))},"×"),e("img",{src:o.selectedEvent.image,alt:o.selectedEvent.title,class:"modal-image"},null,8,Xe),e("div",$e,[e("h2",null,r(o.selectedEvent.title),1),e("div",je,[e("p",null,[t[12]||(t[12]=e("strong",null,"Location:",-1)),m(" "+r(o.selectedEvent.location),1)]),e("p",null,[t[13]||(t[13]=e("strong",null,"Date:",-1)),m(" "+r(o.selectedEvent.date),1)]),e("p",null,[t[14]||(t[14]=e("strong",null,"Duration:",-1)),m(" "+r(o.selectedEvent.duration),1)]),e("p",null,[t[15]||(t[15]=e("strong",null,"Price:",-1)),m(" "+r(o.selectedEvent.price),1)]),e("p",null,[t[16]||(t[16]=e("strong",null,"Category:",-1)),m(" "+r(o.selectedEvent.category),1)])]),e("div",qe,[o.selectedEvent.badge?(d(),a("span",He,r(o.selectedEvent.badge),1)):h("",!0),o.selectedEvent.cdc?(d(),a("span",We,"CDC Vouchers")):h("",!0),o.selectedEvent.culturepass?(d(),a("span",Ze,"CulturePass")):h("",!0)]),e("button",{class:"save-btn btn btn-success",onClick:t[4]||(t[4]=s=>n.saveEvent(o.selectedEvent))}," Save Event ")])])])):h("",!0)])}const Je=S(Ee,[["render",Ge],["__scopeId","data-v-6e455b11"]]),st={__name:"Index",setup(l){return(t,g)=>(d(),a(_,null,[k(X),k(xe),k(Je)],64))}};export{st as default};
