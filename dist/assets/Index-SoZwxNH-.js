import{_ as P,r as _,o as O,a as te,c as d,b as t,F as b,d as p,e as n,n as j,f as se,t as c,g as L,h as y,w as D,i as k,j as T,k as F,s as H,u as U,l as X,m as W,p as G,q as w,v as S,x as oe,y as N,z as re,A as x,B as le,C as ie}from"./index-C755fS9L.js";import{d as R,a as Z}from"./firebase-hyIhHMuo.js";import{b as ne,t as ae,c as Y}from"./tagColors-DlVkJl0c.js";const de={class:"hero-section"},ce={class:"grass-container"},ue=["viewBox"],ve=["width"],he=["d","fill","opacity"],fe={__name:"Hero",setup(s){const e=_([]),i=_(-1e3),g=_(-1e3),r=_(null),l=_(1200);_(200);function u(a,h,f,m){return`
    M ${a} 150
    Q ${a+m} ${150-h*.5}, ${a+m*.5} ${150-h*.8}
    Q ${a+m*.3} ${150-h}, ${a} ${150-h}
    Q ${a-f} ${150-h*.9}, ${a-f*.5} ${150-h*.6}
    Q ${a-f*.3} ${150-h*.3}, ${a} 150
    Z
  `}function o(a){const h=["#4a7c3a","#5a8f4a","#6ba85e","#3d6b2f"],m=Math.ceil(a/10),E=[];for(let C=0;C<m;C++){const M=C*10+Math.random()*8,I=40+Math.random()*60,V=3+Math.random()*3,B=10+Math.random()*15;E.push({x:M,height:I,width:V,curve:B,color:h[Math.floor(Math.random()*h.length)],opacity:.7+Math.random()*.3,baseRotation:(Math.random()-.5)*5,swayOffset:Math.random()*Math.PI*2,path:u(M,I,V,B),transition:"transform 0.3s ease-out"})}return E}function v(){const a=r.value;if(!a)return;const h=Math.max(320,Math.round(a.clientWidth));l.value=h,e.value=o(h)}function $(a){a.currentTarget.setPointerCapture?.(a.pointerId),z(a)}function z(a){const f=a.currentTarget.getBoundingClientRect();i.value=a.clientX-f.left,g.value=a.clientY-f.top}function q(){i.value=-1e3,g.value=-1e3}function ee(a,h){const f=i.value-a.x,m=g.value-150,E=Math.sqrt(f*f+m*m),C=Date.now()*.001,M=Math.sin(C+a.swayOffset)*2;if(E<100){const I=Math.max(0,1-E/100),V=Math.atan2(m,f),B=I*25;return`rotate(${a.baseRotation-Math.cos(V)*B+M}deg)`}return`rotate(${a.baseRotation+M}deg)`}let Q;return O(()=>{v(),window.addEventListener("resize",v);const a=()=>{e.value=[...e.value],Q=requestAnimationFrame(a)};a()}),te(()=>{window.removeEventListener("resize",v),Q&&cancelAnimationFrame(Q)}),(a,h)=>(n(),d("section",de,[h[0]||(h[0]=t("div",{class:"container text-center"},[t("h1",{class:"display-4 fw-bold text-dark mb-3"}," Find Affordable Events in Singapore "),t("p",{class:"lead hero-lead text-secondary mx-auto mb-5"}," Go ahead and touch the grass! "),t("a",{href:"#events",class:"btn btn-lg rounded-pill px-5 py-3 shadow-sm explore-btn text-white bg-success"}," Explore Events ")],-1)),t("div",ce,[(n(),d("svg",{ref_key:"svgRef",ref:r,class:"grass-svg",viewBox:"0 0 "+l.value+" 200",preserveAspectRatio:"xMidYMax slice",xmlns:"http://www.w3.org/2000/svg",onPointerdown:$,onPointermove:z,onPointerup:q,onPointercancel:q,onPointerleave:q,style:{touchAction:"none"}},[t("rect",{x:"0",y:"150",width:l.value,height:"50",fill:"#5a8f4a",opacity:"0.3"},null,8,ve),(n(!0),d(b,null,p(e.value,(f,m)=>(n(),d("g",{key:m},[t("path",{d:f.path,fill:f.color,opacity:f.opacity,style:j({transform:ee(f),transformOrigin:`${f.x}px 150px`,transition:f.transition}),class:"grass-blade"},null,12,he)]))),128))],40,ue))])]))}},ge=P(fe,[["__scopeId","data-v-c41a4c5a"]]);let A;async function J(){if(A)return A;const e=await fetch("/data/events.json",{cache:"no-cache"});if(!e.ok)throw new Error(`Failed to load events: HTTP ${e.status}`);return A=await e.json(),A}const me=["aria-label"],be={__name:"EventChip",props:{label:{type:String,required:!0},kind:{type:String,default:"tag"},dense:Boolean},setup(s){const e=s,i=se(()=>{const{bg:g,fg:r}=e.kind==="badge"?ne(e.label):ae(e.label);return{"--chip-bg":g,"--chip-fg":r}});return(g,r)=>(n(),d("span",{class:L(["event-chip",[{dense:s.dense},s.kind]]),style:j(i.value),"aria-label":`${s.kind==="badge"?"Badge":"Tag"}: ${s.label}`},c(s.label),15,me))}},K=P(be,[["__scopeId","data-v-678ac167"]]),pe={name:"EventCarousel",components:{EventChip:K},data(){return{events:[],currentIndex:0,showModal:!1,selectedEvent:null,favourites:[],itemsPerView:3,autoScrollInterval:null,autoScrollDelay:3e3,currentUser:null,savingFavourite:!1}},async mounted(){try{this.events=await J()}catch(s){console.error("Error loading events:",s)}W(Z,async s=>{this.currentUser=s,s?await this.loadFavourites():this.favourites=[]}),this.updateItemsPerView(),window.addEventListener("resize",this.updateItemsPerView),this.startAutoScroll()},beforeUnmount(){window.removeEventListener("resize",this.updateItemsPerView),this.stopAutoScroll()},computed:{normalised(){const s=e=>{if(e==null)return!1;const i=String(e).toLowerCase();return i.includes("free")||parseFloat(i.replace(/[^0-9.]/g,""))===0};return(this.events||[]).map(e=>{const i=s(e.price);return{...e,isFree:i,displayPriceText:i?"Free":String(e.price||"")}})},displayEvents(){return this.normalised.filter(s=>s.featured===!0)},endIndex(){return Math.max(0,this.displayEvents.length-this.itemsPerView)}},methods:{async loadFavourites(){if(this.currentUser)try{const s=await F(T(R,"users",this.currentUser.uid));if(s.exists()){const e=s.data().favouritesList||[];this.favourites=e.map(i=>i.id)}}catch(s){console.error("Error loading favourites:",s)}},async toggleFavourite(){if(!this.currentUser){alert("Please log in to save favourites"),this.closeModal?.();const i=this.$route?.fullPath||"/";this.$router?await this.$router.push({path:"/login",query:{redirect:i}}):window.location.href=`/login?redirect=${encodeURIComponent(i)}`;return}const s=this.selectedEvent.id,e=T(R,"users",this.currentUser.uid);this.savingFavourite=!0;try{if((await F(e)).exists()||await H(e,{favouritesList:[]},{merge:!0}),this.isFavourite(s)){const l=((await F(e)).data().favouritesList||[]).filter(u=>u.id!==s);await U(e,{favouritesList:l}),this.favourites=this.favourites.filter(u=>u!==s)}else await U(e,{favouritesList:X(this.selectedEvent)}),this.favourites.push(s)}catch(i){console.error("Error toggling favourite:",i),alert("Failed to update favourites. Error: "+i.message)}finally{this.savingFavourite=!1,this.closeModal()}},isFavourite(s){return this.favourites.includes(s)},startAutoScroll(){this.stopAutoScroll(),this.autoScrollInterval=setInterval(()=>{this.currentIndex>=this.endIndex?this.currentIndex=0:this.currentIndex++},this.autoScrollDelay)},stopAutoScroll(){this.autoScrollInterval&&(clearInterval(this.autoScrollInterval),this.autoScrollInterval=null)},updateItemsPerView(){const s=window.innerWidth;s<768?this.itemsPerView=1:s<992?this.itemsPerView=2:this.itemsPerView=3,this.currentIndex>this.endIndex&&(this.currentIndex=Math.max(0,this.endIndex))},scrollPrev(){this.currentIndex>0&&(this.currentIndex--,this.stopAutoScroll(),this.startAutoScroll())},scrollNext(){this.currentIndex<this.endIndex&&(this.currentIndex++,this.stopAutoScroll(),this.startAutoScroll())},openModal(s){this.selectedEvent=s,this.showModal=!0,document.body.style.overflow="hidden",this.stopAutoScroll()},closeModal(){this.showModal=!1,this.selectedEvent=null,document.body.style.overflow="auto",this.startAutoScroll()},chipsForPrimary(s){if(!s)return[];const e=[];return s.badge&&e.push({label:s.badge,kind:"badge"}),s.category&&e.push({label:s.category,kind:"tag"}),e},chipsForBenefits(s){if(!s)return[];const e=[];return s.cdc&&e.push({label:Y("CDC Vouchers"),kind:"tag"}),s.culturepass&&e.push({label:Y("Culture Pass"),kind:"tag"}),e}},watch:{displayEvents(){this.currentIndex>this.endIndex&&(this.currentIndex=0)}}},ye={class:"container py-5",id:"events"},we=["disabled"],_e={class:"overflow-hidden"},ke=["onClick"],Ee={class:"img-wrap"},xe=["src","alt"],Fe={class:"card-body"},Ce={class:"modal-tags mb-2"},Me={class:"card-title mb-2"},Se={class:"card-text text-muted mb-1"},Pe={class:"card-text text-muted mb-1"},Ie={class:"card-text text-muted mb-1"},Ve={class:"price-row","aria-label":"Price and benefits"},Be={class:"card-text price mb-0"},Ae={class:"benefit-chips"},Le=["disabled"],De={class:"modal-dialog"},Te={key:0,class:"modal-content"},Ue={class:"modal-header justify-content-between align-items-center"},Re={class:"modal-title mb-0"},Ye={class:"d-flex align-items-center gap-2"},qe={class:"modal-body"},Qe=["src","alt"],Ne={class:"modal-header-tags d-flex align-items-center justify-content-between mb-2"},je={class:"modal-tags"},ze=["aria-pressed","title","disabled"],Oe={class:"mb-2"},He={class:"mb-2"},Xe={class:"mb-2"},We={class:"price-row mb-2","aria-label":"Price and benefits"},Ge={class:"mb-0"},Ze={class:"price"},Je={class:"benefit-chips"},Ke={class:"modal-footer"},$e=["disabled"];function et(s,e,i,g,r,l){const u=G("EventChip");return n(),d("div",ye,[e[17]||(e[17]=t("h2",{class:"section-title"},"Featured Events",-1)),t("div",{class:"position-relative overflow-hidden",style:{margin:"30px auto"},onMouseenter:e[2]||(e[2]=(...o)=>l.stopAutoScroll&&l.stopAutoScroll(...o)),onMouseleave:e[3]||(e[3]=(...o)=>l.startAutoScroll&&l.startAutoScroll(...o)),onTouchstartPassive:e[4]||(e[4]=(...o)=>l.stopAutoScroll&&l.stopAutoScroll(...o)),onTouchendPassive:e[5]||(e[5]=(...o)=>l.startAutoScroll&&l.startAutoScroll(...o))},[t("button",{class:"btn btn-light nav-btn start",onClick:e[0]||(e[0]=(...o)=>l.scrollPrev&&l.scrollPrev(...o)),disabled:r.currentIndex===0,"aria-label":"Previous"},[...e[11]||(e[11]=[t("span",{"aria-hidden":"true"},"‹",-1)])],8,we),t("div",_e,[t("div",{class:"d-flex transition-transform",style:j([{transform:`translateX(-${r.currentIndex*(100/r.itemsPerView)}%)`},{transition:"transform 0.3s ease"}])},[(n(!0),d(b,null,p(l.displayEvents,o=>(n(),d("div",{key:o.id,class:"flex-shrink-0 px-2 carousel-item-wrapper"},[t("div",{class:"card h-100 shadow-sm cursor-pointer",onClick:v=>l.openModal(o)},[t("div",Ee,[t("img",{src:o.image,class:"card-img-top",alt:o.title},null,8,xe)]),t("div",Fe,[t("div",Ce,[(n(!0),d(b,null,p(l.chipsForPrimary(o),v=>(n(),w(u,{key:v.kind+"-"+v.label,label:v.label,kind:v.kind,dense:""},null,8,["label","kind"]))),128))]),t("h5",Me,c(o.title),1),t("p",Se,[t("small",null,c(o.location),1)]),t("p",Pe,[t("small",null,c(o.date),1)]),t("p",Ie,[t("small",null,c(o.duration),1)]),t("div",Ve,[t("p",Be,c(o.displayPriceText),1),t("div",Ae,[(n(!0),d(b,null,p(l.chipsForBenefits(o),v=>(n(),w(u,{key:v.kind+"-"+v.label,label:v.label,kind:v.kind,dense:""},null,8,["label","kind"]))),128))])])])],8,ke)]))),128))],4),t("button",{class:"btn btn-light nav-btn end",onClick:e[1]||(e[1]=(...o)=>l.scrollNext&&l.scrollNext(...o)),disabled:r.currentIndex>=l.endIndex,"aria-label":"Next"},[...e[12]||(e[12]=[t("span",{"aria-hidden":"true"},"›",-1)])],8,Le)])],32),t("div",{class:L(["modal fade",{show:r.showModal,"d-flex":r.showModal,"align-items-center":r.showModal,"justify-content-center":r.showModal}]),tabindex:"-1",style:{"background-color":"rgba(0,0,0,0.5)"},onClick:e[10]||(e[10]=D((...o)=>l.closeModal&&l.closeModal(...o),["self"]))},[t("div",De,[r.selectedEvent?(n(),d("div",Te,[t("div",Ue,[t("h5",Re,c(r.selectedEvent.title),1),t("div",Ye,[t("button",{type:"button",class:"btn-close",onClick:e[6]||(e[6]=(...o)=>l.closeModal&&l.closeModal(...o))})])]),t("div",qe,[t("img",{src:r.selectedEvent.image,class:"img-fluid rounded mb-3",alt:r.selectedEvent.title,style:{width:"100%",height:"300px","object-fit":"cover"}},null,8,Qe),t("div",Ne,[t("div",je,[(n(!0),d(b,null,p(l.chipsForPrimary(r.selectedEvent),o=>(n(),w(u,{key:o.kind+"-"+o.label,label:o.label,kind:o.kind},null,8,["label","kind"]))),128))]),t("button",{class:"btn p-0 fav-btn","aria-pressed":l.isFavourite(r.selectedEvent.id),title:l.isFavourite(r.selectedEvent.id)?"Remove from favourites":"Save to favourites",disabled:r.savingFavourite,onClick:e[7]||(e[7]=D((...o)=>l.toggleFavourite&&l.toggleFavourite(...o),["stop"]))},[t("i",{class:L(["bi",l.isFavourite(r.selectedEvent.id)?"bi-heart-fill":"bi-heart"])},null,2)],8,ze)]),t("p",Oe,[e[13]||(e[13]=t("strong",null,"Location:",-1)),k(" "+c(r.selectedEvent.location),1)]),t("p",He,[e[14]||(e[14]=t("strong",null,"Date:",-1)),k(" "+c(r.selectedEvent.date),1)]),t("p",Xe,[e[15]||(e[15]=t("strong",null,"Time:",-1)),k(" "+c(r.selectedEvent.duration),1)]),t("div",We,[t("p",Ge,[e[16]||(e[16]=t("strong",null,"Price: ",-1)),t("span",Ze,c(r.selectedEvent.displayPriceText),1)]),t("div",Je,[(n(!0),d(b,null,p(l.chipsForBenefits(r.selectedEvent),o=>(n(),w(u,{key:o.kind+"-"+o.label,label:o.label,kind:o.kind},null,8,["label","kind"]))),128))])])]),t("div",Ke,[t("button",{type:"button",class:"btn btn-secondary",onClick:e[8]||(e[8]=(...o)=>l.closeModal&&l.closeModal(...o))},"Close"),t("button",{type:"button",class:"btn btn-success",onClick:e[9]||(e[9]=(...o)=>l.toggleFavourite&&l.toggleFavourite(...o)),disabled:r.savingFavourite},c(r.savingFavourite?"Saving...":l.isFavourite(r.selectedEvent.id)?"Remove from Favourites":"Save to Favourites"),9,$e)])])):y("",!0)])],2)])}const tt=P(pe,[["render",et],["__scopeId","data-v-aa14517f"]]),st={name:"FilterEvents",components:{EventChip:K},data(){return{events:[],searchQuery:"",selectedCategory:"all",selectedBudget:"all",selectedEvent:null,categories:[],filterCDC:!1,filterCulturePass:!1,selectedVoucher:"all",currentUser:null,favourites:[],savingFavourite:!1}},computed:{normaliseEvents(){return this.events.map(s=>this.normaliseEvent(s))},filteredEvents(){return this.normaliseEvents.filter(s=>{const e=s.title.toLowerCase().includes(this.searchQuery.toLowerCase().trim())||s.location.toLowerCase().includes(this.searchQuery.toLowerCase().trim()),i=this.selectedCategory==="all"||s.category===this.selectedCategory,g=this.selectedBudget==="all"||this.checkBudget(s.price),r=this.selectedVoucher==="all"||this.selectedVoucher==="cdc"&&!!s.cdc||this.selectedVoucher==="culturepass"&&!!s.culturepass||this.selectedVoucher==="both"&&!!s.cdc&&!!s.culturepass;return e&&i&&g&&r})}},async mounted(){try{this.events=await J(),this.categories=[...new Set(this.events.map(s=>s.category))].sort(),this.openFromQuery()}catch(s){console.error("Failed to load events:",s),this.events=[],this.categories=[]}W(Z,async s=>{this.currentUser=s,s?await this.loadFavourites():this.favourites=[]})},methods:{isFree(s){if(s==null)return!1;const e=String(s).toLowerCase();return e.includes("free")||parseFloat(e.replace(/[^0-9.]/g,""))===0},normaliseEvent(s){const e=this.isFree(s.price);return{...s,isFree:e,displayPriceText:e?"Free":String(s.price||"")}},chipsForBenefits(s){const e=[];return s?.cdc&&e.push({label:Y("CDC Vouchers"),kind:"tag"}),s?.culturepass&&e.push({label:Y("Culture Pass"),kind:"tag"}),e},handleVoucherChange(){switch(this.selectedVoucher){case"all":this.filterCDC=!1,this.filterCulturePass=!1;break;case"cdc":this.filterCDC=!0,this.filterCulturePass=!1;break;case"culturepass":this.filterCDC=!1,this.filterCulturePass=!0;break;case"both":this.filterCDC=!0,this.filterCulturePass=!0;break}},async loadFavourites(){if(this.currentUser)try{const s=await F(T(R,"users",this.currentUser.uid));if(s.exists()){const e=s.data().favouritesList||[];this.favourites=e.map(i=>i.id)}}catch(s){console.error("Error loading favourites:",s)}},async toggleFavourite(){if(!this.currentUser){alert("Please log in to save favourites"),this.closeModal();const i=this.$route?.fullPath||"/";this.$router?await this.$router.push({path:"/login",query:{redirect:i}}):window.location.href=`/login?redirect=${encodeURIComponent(i)}`;return}const s=this.selectedEvent.id,e=T(R,"users",this.currentUser.uid);this.savingFavourite=!0;try{if((await F(e)).exists()||await H(e,{favouritesList:[]},{merge:!0}),this.isFavourite(s)){const l=((await F(e)).data().favouritesList||[]).filter(u=>u.id!==s);await U(e,{favouritesList:l}),this.favourites=this.favourites.filter(u=>u!==s)}else await U(e,{favouritesList:X(this.selectedEvent)}),this.favourites.push(s);this.closeModal()}catch(i){console.error("Error toggling favourite:",i),alert("Failed to update favourites. Error: "+i.message)}finally{this.savingFavourite=!1}},isFavourite(s){return this.favourites.includes(s)},checkBudget(s){const e=parseFloat(String(s).replace(/[^0-9.]/g,""))||0;switch(this.selectedBudget){case"free":return e===0;case"low":return e<10;case"medium":return e>=10&&e<=50;case"high":return e>50;default:return!0}},openModal(s){this.selectedEvent=s,document.body.style.overflow="hidden",this.$router&&this.$router.replace({path:this.$route.path,query:{...this.$route.query,modal:"event",eventId:String(s.id)}})},closeModal(){if(this.selectedEvent=null,document.body.style.overflow="auto",this.$router){const s={...this.$route.query};delete s.modal,delete s.eventId,this.$router.replace({path:this.$route.path,query:s})}},openFromQuery(){const s=this.$route?.query?.modal,e=this.$route?.query?.eventId;if(s==="event"&&e&&!this.selectedEvent){const i=this.normaliseEvents.find(g=>String(g.id)===String(e));i&&this.openModal(i)}}},watch:{"$route.query"(){this.openFromQuery()}}},ot={class:"filter-events"},rt={class:"search-container"},lt={class:"filters"},it={class:"filter-group"},nt={class:"select-wrapper"},at=["value"],dt={class:"filter-group"},ct={class:"select-wrapper"},ut={class:"filter-group"},vt={class:"select-wrapper"},ht={class:"events-grid"},ft=["onClick"],gt={class:"event-image"},mt=["src","alt"],bt={key:0,class:"chip-overlay"},pt={class:"event-content"},yt={key:0,class:"category-row"},wt={class:"location"},_t={class:"date"},kt={class:"event-footer"},Et={class:"price"},xt={class:"tags"},Ft={key:0,class:"empty-state"},Ct=["src","alt"],Mt={class:"modal-details"},St={class:"title-row"},Pt={class:"modal-title"},It=["aria-pressed","disabled","title"],Vt={class:"modal-info"},Bt={class:"price"},At={class:"modal-tags"},Lt=["disabled"];function Dt(s,e,i,g,r,l){const u=G("EventChip");return n(),d("div",ot,[e[26]||(e[26]=t("h1",{class:"sr-only"},"Events",-1)),e[27]||(e[27]=t("h2",{class:"section-title"},"All Events",-1)),t("div",rt,[S(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.searchQuery=o),type:"text",placeholder:"Search events...",class:"search-input"},null,512),[[oe,r.searchQuery]])]),t("div",lt,[t("div",it,[e[12]||(e[12]=t("label",null,"Category:",-1)),t("div",nt,[S(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.selectedCategory=o),class:"filter-select"},[e[10]||(e[10]=t("option",{value:"all"},"All Categories",-1)),(n(!0),d(b,null,p(r.categories,o=>(n(),d("option",{key:o,value:o},c(o),9,at))),128))],512),[[N,r.selectedCategory]]),e[11]||(e[11]=t("div",{class:"select-arrow","aria-hidden":"true"},"▼",-1))])]),t("div",dt,[e[15]||(e[15]=t("label",null,"Budget:",-1)),t("div",ct,[S(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.selectedBudget=o),class:"filter-select"},[...e[13]||(e[13]=[re('<option value="all" data-v-72545cbd>All Budgets</option><option value="free" data-v-72545cbd>Free</option><option value="low" data-v-72545cbd>Under $10</option><option value="medium" data-v-72545cbd>$10 - $50</option><option value="high" data-v-72545cbd>Over $50</option>',5)])],512),[[N,r.selectedBudget]]),e[14]||(e[14]=t("div",{class:"select-arrow","aria-hidden":"true"},"▼",-1))])]),t("div",ut,[e[18]||(e[18]=t("label",null,"Vouchers:",-1)),t("div",vt,[S(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>r.selectedVoucher=o),class:"filter-select",onChange:e[4]||(e[4]=(...o)=>l.handleVoucherChange&&l.handleVoucherChange(...o))},[...e[16]||(e[16]=[t("option",{value:"all"},"All Vouchers",-1),t("option",{value:"cdc"},"CDC Vouchers Only",-1),t("option",{value:"culturepass"},"Culture Pass Only",-1),t("option",{value:"both"},"Both CDC Vouchers & Culture Pass",-1)])],544),[[N,r.selectedVoucher]]),e[17]||(e[17]=t("div",{class:"select-arrow","aria-hidden":"true"},"▼",-1))])])]),t("div",ht,[(n(!0),d(b,null,p(l.filteredEvents,o=>(n(),d("div",{key:o.id,class:"event-card",onClick:v=>l.openModal(o)},[t("div",gt,[t("img",{src:o.image,alt:o.title},null,8,mt),o.badge?(n(),d("div",bt,[x(u,{label:o.badge,kind:"badge"},null,8,["label"])])):y("",!0)]),t("div",pt,[o.category?(n(),d("div",yt,[x(u,{label:o.category,kind:"tag",dense:""},null,8,["label"])])):y("",!0),t("h3",null,c(o.title),1),t("p",wt,c(o.location),1),t("p",_t,c(o.date),1),t("div",kt,[t("span",Et,c(o.displayPriceText),1),t("div",xt,[(n(!0),d(b,null,p(l.chipsForBenefits(o),v=>(n(),w(u,{key:v.kind+"-"+v.label,label:v.label,kind:v.kind,dense:""},null,8,["label","kind"]))),128))])])])],8,ft))),128))]),l.filteredEvents.length===0?(n(),d("div",Ft,[...e[19]||(e[19]=[t("p",null,"No events found matching your criteria.",-1)])])):y("",!0),r.selectedEvent?(n(),d("div",{key:1,class:"modal-overlay",onClick:e[9]||(e[9]=(...o)=>l.closeModal&&l.closeModal(...o))},[t("div",{class:"modal-content",onClick:e[8]||(e[8]=D(()=>{},["stop"]))},[t("button",{class:"close-btn",onClick:e[5]||(e[5]=(...o)=>l.closeModal&&l.closeModal(...o)),"aria-label":"Close"},[...e[20]||(e[20]=[t("span",{class:"close-icon"},"×",-1)])]),t("img",{src:r.selectedEvent.image,alt:r.selectedEvent.title,class:"modal-image"},null,8,Ct),t("div",Mt,[t("div",St,[t("h2",Pt,c(r.selectedEvent.title),1),r.selectedEvent?(n(),d("button",{key:0,class:"fav-btn","aria-pressed":l.isFavourite(r.selectedEvent.id),disabled:r.savingFavourite,onClick:e[6]||(e[6]=D((...o)=>l.toggleFavourite&&l.toggleFavourite(...o),["stop"])),title:l.isFavourite(r.selectedEvent.id)?"Remove from favourites":"Save to favourites"},[t("i",{class:L(["bi",l.isFavourite(r.selectedEvent.id)?"bi-heart-fill":"bi-heart"])},null,2)],8,It)):y("",!0)]),t("div",Vt,[t("p",null,[e[21]||(e[21]=t("strong",null,"Location:",-1)),k(" "+c(r.selectedEvent.location),1)]),t("p",null,[e[22]||(e[22]=t("strong",null,"Date:",-1)),k(" "+c(r.selectedEvent.date),1)]),t("p",null,[e[23]||(e[23]=t("strong",null,"Time:",-1)),k(" "+c(r.selectedEvent.duration),1)]),t("p",null,[e[24]||(e[24]=t("strong",null,"Price:",-1)),e[25]||(e[25]=k()),t("span",Bt,c(r.selectedEvent.displayPriceText),1)])]),t("div",At,[r.selectedEvent.badge?(n(),w(u,{key:0,label:r.selectedEvent.badge,kind:"badge"},null,8,["label"])):y("",!0),r.selectedEvent.category?(n(),w(u,{key:1,label:r.selectedEvent.category,kind:"tag"},null,8,["label"])):y("",!0),(n(!0),d(b,null,p(l.chipsForBenefits(r.selectedEvent),o=>(n(),w(u,{key:"benefit-"+o.label,label:o.label,kind:o.kind},null,8,["label","kind"]))),128))]),t("button",{class:"save-btn btn btn-success",onClick:e[7]||(e[7]=(...o)=>l.toggleFavourite&&l.toggleFavourite(...o)),disabled:r.savingFavourite},c(r.savingFavourite?"Saving...":l.isFavourite(r.selectedEvent.id)?"Remove from Favourites":"Save to Favourites"),9,Lt)])])])):y("",!0)])}const Tt=P(st,[["render",Dt],["__scopeId","data-v-72545cbd"]]),Ut=160,Rt={__name:"BackToTop",setup(s){const e=_(!1),i=()=>{e.value=window.scrollY>Ut},g=()=>{window.scrollTo({top:0,behavior:"smooth"})};return O(()=>{i(),window.addEventListener("scroll",i,{passive:!0})}),le(()=>{window.removeEventListener("scroll",i)}),(r,l)=>S((n(),d("button",{type:"button",class:"btn btn-top","aria-label":"Back to top",onClick:g},[...l[0]||(l[0]=[t("i",{class:"bi bi-arrow-up"},null,-1)])],512)),[[ie,e.value]])}},Yt=P(Rt,[["__scopeId","data-v-52d2d0cf"]]),zt={__name:"Index",setup(s){return(e,i)=>(n(),d(b,null,[x(ge),x(tt),x(Tt),x(Yt)],64))}};export{zt as default};
